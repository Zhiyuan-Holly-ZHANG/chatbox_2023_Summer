(this["webpackJsonpbmb-chat-2"]=this["webpackJsonpbmb-chat-2"]||[]).push([[0],{1015:function(e,t){},1016:function(e,t){},1018:function(e,t){e.exports={"chat.end":"Restart your chat conversation","chat.endall":"End Chat","chat.cancel":"Cancel","chat.cookie":"This digital assistant uses cookies to ensure you get the best experience","chat.learn":"Learn more","chat.minimize":"Minimize","chat.hide":"Close","chat.hidebot.text":"Close will make the avatar disappear for 15 minutes","chat.hidebot":"Close (Hide) Avatar","chat.restart":"Restart","switch.language":"Switch Language","switch.property":"Switch Property","restart.converstation":"Restart Conversation","chat.endtext":"Are you sure you want to end the current chat?","check.availabity":"Check Availability","check.availabity.submit":"Submit","check.availabity.cancel":"Cancel","check.availabity.adults":"Adults (13+)","check.availabity.children":"Children","check.availabity.child.age":"Age - child","feedback.leave":"Leave Feedback"}},1020:function(e,t){e.exports={"chat.end":"Reinicie su conversaci\xf3n de chat","chat.endall":"Chat finalizado","chat.cancel":"Cancelar","chat.cookie":"Este asistente digital utiliza cookies para garantizar que obtenga la mejor experiencia","chat.learn":"Aprende m\xe1s","chat.minimize":"Minimizar","chat.hide":"Cerca","chat.hidebot.text":"Cerrar har\xe1 que la avatar desaparezca durante 15 minutos.","chat.hidebot":"Cerrar robot","chat.restart":"Reiniciar","switch.language":"Cambiar de idioma","switch.property":"Cambiar propiedad","restart.converstation":"Reiniciar conversaci\xf3n","chat.endtext":"\xbfEst\xe1 seguro de que desea finalizar el chat actual?","check.availabity":"Consultar disponibilidad","check.availabity.submit":"Enviar","check.availabity.cancel":"Cancelar","check.availabity.adults":"Adultas (13+)","check.availabity.children":"Ni\xf1as","check.availabity.child.age":"Edad - ni\xf1a","feedback.leave":"Deja un comentario"}},1021:function(e,t){e.exports={"chat.end":"\u91cd\u65b0\u5f00\u59cb\u60a8\u7684\u804a\u5929\u5bf9\u8bdd","chat.cancel":"\u53d6\u6d88","chat.endall":"\u7ed3\u675f\u804a\u5929","chat.cookie":"\u6b64\u6570\u5b57\u52a9\u7406\u4f7f\u7528 cookie \u6765\u786e\u4fdd\u60a8\u83b7\u5f97\u6700\u4f73\u4f53\u9a8c","chat.learn":"\u4e86\u89e3\u66f4\u591a","chat.minimize":"\u6700\u5c0f\u5316","chat.hide":"\u5173","chat.hidebot.text":"\u5173\u95ed\u5c06\u4f7f\u5934\u50cf\u6d88\u5931 15 \u5206\u949f","chat.hidebot":"\u5173\u95ed\u673a\u5668\u4eba","chat.restart":"\u91cd\u65b0\u5f00\u59cb","switch.language":"\u5207\u6362\u8bed\u8a00","switch.property":"\u5f00\u5173\u5c5e\u6027","restart.converstation":"\u91cd\u65b0\u5f00\u59cb\u804a\u5929","chat.endtext":"\u60a8\u786e\u5b9a\u8981\u7ed3\u675f\u5f53\u524d\u804a\u5929\u5417\uff1f","check.availabity":"\u68c0\u67e5\u53ef\u7528\u6027","check.availabity.submit":"\u63d0\u4ea4","check.availabity.cancel":"\u53d6\u6d88","check.availabity.adults":"\u6210\u5e74\u4eba (13+)","check.availabity.children":"\u5b69\u5b50\u4eec","check.availabity.child.age":"\u5e74\u9f84 - \u513f\u7ae5","feedback.leave":"\u7559\u4e0b\u53cd\u994b\u4fe1\u606f"}},1023:function(e,t){e.exports={"chat.end":"Red\xe9marrez votre conversation de chat","chat.endall":"Mettre fin \xe0 la discussion","chat.cancel":"Annuler","chat.cookie":"Cet assistant num\xe9rique utilise des cookies pour vous garantir la meilleure exp\xe9rience","chat.learn":"Apprendre encore plus","chat.minimize":"Minimiser","chat.hide":"proche","chat.hidebot.text":"Fermer fera dispara\xeetre l'avatar pendant 15 minutes","chat.hidebot":"Fermer le robot","chat.restart":"Red\xe9marrer","switch.language":"Changer de langue","switch.property":"Changer de propri\xe9t\xe9","restart.converstation":"Red\xe9marrer la conversation","chat.endtext":"Voulez-vous vraiment mettre fin au chat en cours ?","check.availabity":"Consultar disponibilidad","check.availabity.submit":"Enviar","check.availabity.cancel":"Annuler","check.availabity.adults":"Adultes (13+)","check.availabity.children":"Enfants","check.availabity.child.age":"\xc2ge - Enfant","feedback.leave":"Laisser les commentaires"}},1024:function(e,t){e.exports={"chat.end":"\u91cd\u65b0\u958b\u59cb\u60a8\u7684\u804a\u5929\u5c0d\u8a71","chat.cancel":"\u53d6\u6d88","chat.endall":"\u7d50\u675f\u804a\u5929","chat.cookie":"\u6b64\u6578\u5b57\u52a9\u7406\u4f7f\u7528 cookie \u4f86\u78ba\u4fdd\u60a8\u7372\u5f97\u6700\u4f73\u9ad4\u9a57","chat.learn":"\u4e86\u89e3\u66f4\u591a","chat.minimize":"\u6700\u5c0f\u5316","chat.hide":"\u95dc","chat.hidebot.text":"\u95dc\u9589\u5c07\u4f7f\u982d\u50cf\u6d88\u5931 15 \u5206\u9418","chat.hidebot":"\u95dc\u9589\u6a5f\u5668\u4eba","chat.restart":"\u91cd\u65b0\u958b\u59cb","switch.language":"\u5207\u63db\u8a9e\u8a00","switch.property":"\u958b\u95dc\u5c6c\u6027","restart.converstation":"\u91cd\u555f\u8f49\u63db","chat.endtext":"\u60a8\u78ba\u5b9a\u8981\u7d50\u675f\u7576\u524d\u804a\u5929\u55ce\uff1f","check.availabity":"\u6aa2\u67e5\u53ef\u7528\u6027","check.availabity.submit":"\u63d0\u4ea4","check.availabity.cancel":"\u53d6\u6d88","check.availabity.adults":"\u6210\u5e74\u4eba (13+)","check.availabity.children":"\u5b69\u5b50\u5011","check.availabity.child.age":"\u5e74\u9f61 - \u5152\u7ae5","feedback.leave":"\u7559\u4e0b\u53cd\u9988\u4fe1\u606f"}},1025:function(e,t){e.exports={"chat.end":"T\u012bmataria an\u014d t\u014d k\u014drerorerorero","chat.endall":"Whakamutua te Korero","chat.cancel":"Whakakore","chat.cookie":"Ma tenei kaiawhina mamati e whakamahi nga pihikete kia pai ai to wheako","chat.learn":"Ako atu","chat.minimize":"Whakaiti","chat.hide":"Katia","chat.hidebot.text":"Kati ka ngaro te avatar mo te 15 meneti","chat.hidebot":"Katia Bot","chat.restart":"T\u012bmata an\u014d","switch.language":"Whakawhiti Reo","switch.property":"whakawhiti taonga","restart.converstation":"T\u012bmataria an\u014d te Whakawhitiwhiti","chat.endtext":"Kei te tino hiahia koe ki te whakamutu i te korerorero on\u0101ianei?","check.availabity":"Tirohia te waatea","check.availabity.submit":"Tukuna","check.availabity.cancel":"Whakakore","check.availabity.adults":"Nga pakeke (13+)","check.availabity.children":"Tamariki","check.availabity.child.age":"Tau - Tamariki","feedback.leave":"Waiho Urupare"}},1027:function(e,t){e.exports={"chat.end":"Mulai ulang percakapan obrolan Anda","chat.endall":"Akhiri Obrolan","chat.cancel":"Membatalkan","chat.cookie":"Asisten digital ini menggunakan cookie untuk memastikan Anda mendapatkan pengalaman terbaik","chat.learn":"Belajarlah lagi","chat.minimize":"Memperkecil","chat.hide":"Menutup","chat.hidebot.text":"Tutup akan membuat avatar menghilang selama 15 menit","chat.hidebot":"Tutup Bot","chat.restart":"Mengulang kembali","switch.language":"Ganti Bahasa","switch.property":"Beralih Properti","restart.converstation":"Mulai ulang Percakapan","chat.endtext":"Apakah Anda yakin ingin mengakhiri obrolan saat ini?","check.availabity":"Cek ketersediaan","check.availabity.submit":"Kirim","check.availabity.cancel":"Membatalkan","check.availabity.adults":"Dewasa (13+)","check.availabity.children":"Anak-anak","check.availabity.child.age":"Usia - Anak","feedback.leave":"Tinggalkan umpan balik"}},1029:function(e,t){e.exports={"chat.end":"\u092c\u093e\u0924\u091a\u0940\u0924 \u0938\u092e\u093e\u092a\u094d\u0924 \u0915\u0930\u0947\u0902","chat.endall":"\u092c\u093e\u0924\u091a\u0940\u0924 \u092c\u0902\u0926 \u0915\u0930\u0947\u0902","chat.cancel":"\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902","chat.cookie":"\u092f\u0939 \u0921\u093f\u091c\u093f\u091f\u0932 \u0938\u0939\u093e\u092f\u0915 \u092f\u0939 \u0938\u0941\u0928\u093f\u0936\u094d\u091a\u093f\u0924 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0915\u0941\u0915\u0940\u091c\u093c \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0924\u093e \u0939\u0948 \u0915\u093f \u0906\u092a\u0915\u094b \u0938\u092c\u0938\u0947 \u0905\u091a\u094d\u091b\u093e \u0905\u0928\u0941\u092d\u0935 \u092e\u093f\u0932\u0947","chat.learn":"\u0914\u0930 \u0905\u0927\u093f\u0915 \u091c\u093e\u0928\u0947\u0902","chat.minimize":"\u091b\u094b\u091f\u093e \u0915\u0930\u0947\u0902","chat.hide":"\u092c\u0902\u0926 \u0915\u0930\u0947\u0902","chat.hidebot.text":"\u0915\u0930\u0940\u092c 15 \u092e\u093f\u0928\u091f \u0915\u0947 \u0932\u093f\u090f \u0905\u0935\u0924\u093e\u0930 \u0917\u093e\u092f\u092c \u0915\u0930 \u0926\u0947\u0917\u093e\u0964","chat.hidebot":"\u092c\u094b\u091f \u092c\u0902\u0926 \u0915\u0930\u0947\u0902","chat.restart":"\u092a\u0941\u0928\u0930\u094d\u092a\u094d\u0930\u093e\u0930\u0902\u092d \u0915\u0930\u0947\u0902","switch.language":"\u092d\u093e\u0937\u093e \u092c\u0926\u0932\u0947\u0902","switch.property":"\u0938\u0902\u092a\u0924\u094d\u0924\u093f \u092c\u0926\u0932\u0947","restart.converstation":"\u0935\u093e\u0930\u094d\u0924\u093e\u0932\u093e\u092a \u0915\u094b \u092a\u0941\u0928\u0930\u093e\u0930\u0902\u092d \u0915\u0930\u0947\u0902","chat.endtext":"\u0915\u094d\u092f\u093e \u0906\u092a \u0935\u093e\u0915\u0908 \u0935\u0930\u094d\u0924\u092e\u093e\u0928 \u091a\u0948\u091f \u0915\u094b \u0938\u092e\u093e\u092a\u094d\u0924 \u0915\u0930\u0928\u093e \u091a\u093e\u0939\u0924\u0947 \u0939\u0948\u0902?","check.availabity":"\u0909\u092a\u0932\u092c\u094d\u0927\u0924\u093e \u091c\u093e\u0902\u091a\u0947\u0902","check.availabity.submit":"\u092a\u094d\u0930\u0938\u094d\u0924\u0941\u0924 \u0915\u0930\u0928\u093e","check.availabity.cancel":"\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902","check.availabity.adults":"\u0935\u092f\u0938\u094d\u0915\u094b\u0902 (13+)","check.availabity.children":"\u092c\u091a\u094d\u091a\u0947","check.availabity.child.age":"\u0906\u092f\u0941 - \u092c\u091a\u094d\u091a\u093e","feedback.leave":"\u092a\u094d\u0930\u0924\u093f\u0915\u094d\u0930\u093f\u092f\u093e \u0926\u0947\u0902"}},1031:function(e,t){e.exports={"chat.end":"Herbegin jou kletsgesprek","chat.endall":"Be\xebindig klets","chat.cancel":"Kanselleer","chat.cookie":"Hierdie digitale assistent gebruik koekies om te verseker dat u die beste ervaring kry","chat.learn":"Leer meer","chat.minimize":"Minimaliseer","chat.hide":"Naby","chat.hidebot.text":"Close sal die avatar vir 15 minute laat verdwyn","chat.hidebot":"Maak Bot toe","chat.restart":"Begin oor","switch.language":"Van taal wisselen","switch.property":"Verander eiendom","restart.converstation":"Herbegin omskakeling","chat.endtext":"Is jy seker jy wil die huidige klets be\xebindig?","check.availabity":"Gaan Beskikbaarheid na","check.availabity.submit":"Indien","check.availabity.cancel":"Kanselleer","check.availabity.adults":"Volwassenes (13+)","check.availabity.children":"Kinders","check.availabity.child.age":"Ouderdom - kind","feedback.leave":"Los terugvoer"}},1033:function(e,t){e.exports={"chat.end":"Starten Sie Ihr Chat-Gespr\xe4ch neu","chat.endall":"Ende des Gespr\xe4chs","chat.cancel":"Abbrechen","chat.cookie":"Dieser digitale Assistent verwendet Cookies, um sicherzustellen, dass Sie die beste Erfahrung machen","chat.learn":"Mehr erfahren","chat.minimize":"Minimieren","chat.hide":"Nah dran","chat.hidebot.text":"Schlie\xdfen l\xe4sst den Avatar f\xfcr 15 Minuten verschwinden","chat.hidebot":"Bot schlie\xdfen","chat.restart":"Neu starten","switch.language":"Sprache wechseln","switch.property":"Eigenschaften wechseln","restart.converstation":"Starten Sie die Konvertierung neu","chat.endtext":"M\xf6chten Sie den aktuellen Chat wirklich beenden?","check.availabity":"Verf\xfcgbarkeit pr\xfcfen","check.availabity.submit":"Einreichen","check.availabity.cancel":"Absagen","check.availabity.adults":"Erwachsene (13+)","check.availabity.children":"Kinder","check.availabity.child.age":"Alter - Kind","feedback.leave":"Hinterlasse Kommentar"}},1035:function(e,t){e.exports={"chat.end":"\u30c1\u30e3\u30c3\u30c8\u306e\u4f1a\u8a71\u3092\u518d\u958b\u3059\u308b","chat.endall":"\u30c1\u30e3\u30c3\u30c8\u3092\u7d42\u4e86\u3059\u308b","chat.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","chat.cookie":"\u3053\u306e\u30c7\u30b8\u30bf\u30eb\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u306fCookie\u3092\u4f7f\u7528\u3057\u3066\u3001\u6700\u9ad8\u306e\u30a8\u30af\u30b9\u30da\u30ea\u30a8\u30f3\u30b9\u3092\u63d0\u4f9b\u3057\u307e\u3059","chat.learn":"\u3082\u3063\u3068\u8a73\u3057\u304f\u77e5\u308b","chat.minimize":"\u6700\u5c0f\u5316","chat.hide":"\u8fd1\u3044","chat.hidebot.text":"\u9589\u3058\u308b\u3068\u30a2\u30d0\u30bf\u30fc\u304c 15 \u5206\u9593\u6d88\u3048\u307e\u3059","chat.hidebot":"\u30dc\u30c3\u30c8\u3092\u9589\u3058\u308b","chat.restart":"\u518d\u8d77\u52d5","switch.language":"\u8a00\u8a9e\u306e\u5207\u308a\u66ff\u3048","switch.property":"\u30b9\u30a4\u30c3\u30c1\u30d7\u30ed\u30d1\u30c6\u30a3","restart.converstation":"\u4f1a\u8a71\u3092\u518d\u958b\u3059\u308b","chat.endtext":"\u73fe\u5728\u306e\u30c1\u30e3\u30c3\u30c8\u3092\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b?","check.availabity":"\u7a7a\u5ba4\u72b6\u6cc1\u3092\u78ba\u8a8d\u3059\u308b","check.availabity.submit":"\u9001\u4fe1","check.availabity.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","check.availabity.adults":"\u5927\u4eba (13+)","check.availabity.children":"\u5b50\u4f9b","check.availabity.child.age":"\u5e74\u9f62 - \u5b50","feedback.leave":"\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u6b8b\u3059"}},1037:function(e,t){e.exports={"chat.end":"\ucc44\ud305 \ub300\ud654 \ub2e4\uc2dc \uc2dc\uc791","chat.endall":"\ucc44\ud305 \uc885\ub8cc","chat.cancel":"\ucde8\uc18c","chat.cookie":"\uc774 \ub514\uc9c0\ud138 \ube44\uc11c\ub294 \ucfe0\ud0a4\ub97c \uc0ac\uc6a9\ud558\uc5ec \ucd5c\uace0\uc758 \uacbd\ud5d8\uc744 \ubcf4\uc7a5\ud569\ub2c8\ub2e4.","chat.learn":"\ub354 \uc54c\uc544\ubcf4\uae30","chat.minimize":"\ucd5c\uc18c\ud654","chat.hide":"\ub2eb\ub2e4","chat.hidebot.text":"\ub2eb\uae30\ub97c \ub204\ub974\uba74 \uc544\ubc14\ud0c0\uac00 15\ubd84 \ub3d9\uc548 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.","chat.hidebot":"\ubd07 \ub2eb\uae30","chat.restart":"\uc7ac\uc2dc\uc791","switch.language":"\uc5b8\uc5b4 \uc804\ud658","switch.property":"\uc18d\uc131 \uc804\ud658","restart.converstation":"\ub300\ud654 \ub2e4\uc2dc \uc2dc\uc791","chat.endtext":"\ud604\uc7ac \ucc44\ud305\uc744 \uc885\ub8cc\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","check.availabity":"\uac00\uc6a9\uc131 \ud655\uc778","check.availabity.submit":"\uc81c\ucd9c\ud558\ub2e4","check.availabity.cancel":"\ucde8\uc18c","check.availabity.adults":"\uc131\uc778 (13+)","check.availabity.children":"\uc5b4\ub9b0\uc774\ub4e4","check.availabity.child.age":"\ub098\uc774 - \uc544\uc774","feedback.leave":"\ud53c\ub4dc\ubc31 \ub0a8\uae30\uae30"}},1039:function(e,t){e.exports={"chat.end":"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e01\u0e32\u0e23\u0e2a\u0e19\u0e17\u0e19\u0e32\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e43\u0e2b\u0e21\u0e48","chat.endall":"\u0e2a\u0e34\u0e49\u0e19\u0e2a\u0e38\u0e14\u0e01\u0e32\u0e23\u0e41\u0e0a\u0e17","chat.cancel":"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01","chat.cookie":"\u0e1c\u0e39\u0e49\u0e0a\u0e48\u0e27\u0e22\u0e14\u0e34\u0e08\u0e34\u0e17\u0e31\u0e25\u0e19\u0e35\u0e49\u0e43\u0e0a\u0e49\u0e04\u0e38\u0e01\u0e01\u0e35\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e43\u0e2b\u0e49\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e30\u0e2a\u0e1a\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e17\u0e35\u0e48\u0e14\u0e35\u0e17\u0e35\u0e48\u0e2a\u0e38\u0e14","chat.learn":"\u0e40\u0e23\u0e35\u0e22\u0e19\u0e23\u0e39\u0e49\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21","chat.minimize":"\u0e22\u0e48\u0e2d\u0e40\u0e25\u0e47\u0e01\u0e2a\u0e38\u0e14","chat.hide":"\u0e1b\u0e34\u0e14 I","chat.hidebot.text":"\u0e1b\u0e34\u0e14\u0e08\u0e30\u0e17\u0e33\u0e43\u0e2b\u0e49\u0e2d\u0e27\u0e32\u0e15\u0e32\u0e23\u0e4c\u0e2b\u0e32\u0e22\u0e44\u0e1b\u0e40\u0e1b\u0e47\u0e19\u0e40\u0e27\u0e25\u0e32 15 \u0e19\u0e32\u0e17\u0e35","chat.hidebot":"\u0e1b\u0e34\u0e14\u0e1a\u0e2d\u0e17","chat.restart":"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19\u0e43\u0e2b\u0e21\u0e48","switch.language":"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e20\u0e32\u0e29\u0e32","switch.property":"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e04\u0e38\u0e13\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34","restart.converstation":"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e01\u0e32\u0e23\u0e2a\u0e19\u0e17\u0e19\u0e32\u0e43\u0e2b\u0e21\u0e48","chat.endtext":"\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e49\u0e19\u0e2a\u0e38\u0e14\u0e01\u0e32\u0e23\u0e41\u0e0a\u0e17\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19","check.availabity":"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e2b\u0e49\u0e2d\u0e07\u0e27\u0e48\u0e32\u0e07","check.availabity.submit":"\u0e2a\u0e48\u0e07","check.availabity.cancel":"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01","check.availabity.adults":"\u0e1c\u0e39\u0e49\u0e43\u0e2b\u0e0d\u0e48 (13+)","check.availabity.children":"\u0e40\u0e14\u0e47\u0e01","check.availabity.child.age":"\u0e2d\u0e32\u0e22\u0e38 - \u0e40\u0e14\u0e47\u0e01","feedback.leave":"\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19"}},1041:function(e,t){e.exports={"chat.end":"I-restart ang iyong pag-uusap sa chat","chat.endall":"Tapusin ang Chat","chat.cancel":"Kanselahin","chat.cookie":"Gumagamit ang cookies ng digital na ito ng cookies upang matiyak na makukuha mo ang pinakamahusay na karanasan","chat.learn":"Matuto nang higit pa","chat.minimize":"I-minimize","chat.hide":"Isara","chat.hidebot.text":"Ang pagsara ay gagawing mawala ang avatar sa loob ng 15 minuto","chat.hidebot":"Isara ang Bot","chat.restart":"I-restart","switch.language":"Lumipat ng Wika","switch.property":"Lumipat ng Ari-arian","restart.converstation":"I-restart ang Conversation","chat.endtext":"Sigurado ka bang gusto mong tapusin ang kasalukuyang chat?","check.availabity":"Suriin ang Availability","check.availabity.submit":"Ipasa","check.availabity.cancel":"Kanselahin","check.availabity.adults":"Matanda (13+)","check.availabity.children":"Mga bata","check.availabity.child.age":"Edad - Bata","feedback.leave":"Mag-iwan ng opinyon"}},1043:function(e,t){e.exports={"chat.end":"Kh\u1edfi \u0111\u1ed9ng l\u1ea1i cu\u1ed9c tr\xf2 chuy\u1ec7n c\u1ee7a b\u1ea1n","chat.endall":"K\u1ebft th\xfac tr\xf2 chuy\u1ec7n","chat.cancel":"H\u1ee7y b\u1ecf","chat.cookie":"Tr\u1ee3 l\xfd k\u1ef9 thu\u1eadt s\u1ed1 n\xe0y s\u1eed d\u1ee5ng cookie \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o b\u1ea1n c\xf3 \u0111\u01b0\u1ee3c tr\u1ea3i nghi\u1ec7m t\u1ed1t nh\u1ea5t","chat.learn":"T\xecm hi\u1ec3u th\xeam","chat.minimize":"Gi\u1ea3m thi\u1ec3u","chat.hide":"\u0110\xf3ng","chat.hidebot.text":"\u0110\xf3ng s\u1ebd l\xe0m cho h\xecnh \u0111\u1ea1i di\u1ec7n bi\u1ebfn m\u1ea5t trong 15 ph\xfat","chat.hidebot":"\u0110\xf3ng Bot","chat.restart":"Kh\u1edfi \u0111\u1ed9ng l\u1ea1i","switch.language":"Chuy\u1ec3n \u0111\u1ed5i ng\xf4n ng\u1eef","switch.property":"Chuy\u1ec3n \u0111\u1ed5i thu\u1ed9c t\xednh","restart.converstation":"Kh\u1edfi \u0111\u1ed9ng l\u1ea1i h\u1ed9i tho\u1ea1i","chat.endtext":"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n k\u1ebft th\xfac cu\u1ed9c tr\xf2 chuy\u1ec7n hi\u1ec7n t\u1ea1i kh\xf4ng?","check.availabity":"S\u1eb5n s\xe0ng ki\u1ec3m tra","check.availabity.submit":"N\u1ed9p","check.availabity.cancel":"H\u1ee7y b\u1ecf","check.availabity.adults":"Ng\u01b0\u1eddi l\u1edbn (13+)","check.availabity.children":"B\u1ecdn tr\u1ebb","check.availabity.child.age":"Tu\u1ed5i - Tr\u1ebb em","feedback.leave":"\u0110\u1ec3 l\u1ea1i ph\u1ea3n h\u1ed3i"}},1045:function(e,t){e.exports={"chat.end":"\u0623\u0639\u062f \u0628\u062f\u0621 \u0645\u062d\u0627\u062f\u062b\u0629 \u0627\u0644\u062f\u0631\u062f\u0634\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643","chat.endall":"\u0646\u0647\u0627\u064a\u0629 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629","chat.cancel":"\u064a\u0644\u063a\u064a","chat.cookie":"\u064a\u0633\u062a\u062e\u062f\u0645 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u0627\u0639\u062f \u0627\u0644\u0631\u0642\u0645\u064a \u0645\u0644\u0641\u0627\u062a \u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u0627\u0631\u062a\u0628\u0627\u0637 \u0644\u0636\u0645\u0627\u0646 \u062d\u0635\u0648\u0644\u0643 \u0639\u0644\u0649 \u0623\u0641\u0636\u0644 \u062a\u062c\u0631\u0628\u0629","chat.learn":"\u064a\u062a\u0639\u0644\u0645 \u0623\u0643\u062b\u0631","chat.minimize":"\u062a\u0635\u063a\u064a\u0631","chat.hide":"\u064a\u063a\u0644\u0642","chat.hidebot.text":"\u0625\u063a\u0644\u0627\u0642 \u0633\u064a\u062c\u0639\u0644 \u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0631\u0645\u0632\u064a\u0629 \u062a\u062e\u062a\u0641\u064a \u0644\u0645\u062f\u0629 15 \u062f\u0642\u064a\u0642\u0629","chat.hidebot":"\u0625\u063a\u0644\u0627\u0642 (\u0625\u062e\u0641\u0627\u0621) \u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0631\u0645\u0632\u064a\u0629","chat.restart":"\u0627\u0639\u0627\u062f\u0629 \u0627\u0644\u0628\u062f\u0621","switch.language":"\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u0644\u063a\u0629","switch.property":"\u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u0645\u0645\u062a\u0644\u0643\u0627\u062a","restart.converstation":"\u0623\u0639\u062f \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629","chat.endtext":"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u062f\u0631\u062f\u0634\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629\u061f","check.availabity":"\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629","check.availabity.submit":"\u0625\u0631\u0633\u0627\u0644","check.availabity.cancel":"\u064a\u0644\u063a\u064a","check.availabity.adults":"\u0627\u0644\u0643\u0628\u0627\u0631 (13+)","check.availabity.children":"\u0623\u0637\u0641\u0627\u0644","check.availabity.child.age":"\u0627\u0644\u0639\u0645\u0631 - \u0627\u0644\u0637\u0641\u0644","feedback.leave":"\u0627\u062a\u0631\u0643 \u062a\u0642\u064a\u064a\u0645 \u0644\u0644\u062e\u062f\u0645\u0629"}},1047:function(e,t){e.exports={"chat.end":"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0447\u0430\u0442","chat.endall":"\u041a\u043e\u043d\u0435\u0446 \u0447\u0430\u0442","chat.cancel":"\u041e\u0442\u043c\u0435\u043d\u0430","chat.cookie":"\u042d\u0442\u043e\u0442 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u043c\u043e\u0449\u043d\u0438\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0444\u0430\u0439\u043b\u044b cookie, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0432\u0430\u043c \u043d\u0430\u0438\u043b\u0443\u0447\u0448\u0438\u0435 \u0432\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u043d\u0438\u044f.","chat.learn":"\u0423\u0447\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435","chat.minimize":"\u0421\u0432\u0435\u0441\u0442\u0438 \u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0443","chat.hide":"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c","chat.hidebot.text":"Close \u0437\u0430\u0441\u0442\u0430\u0432\u0438\u0442 \u0430\u0432\u0430\u0442\u0430\u0440 \u0438\u0441\u0447\u0435\u0437\u043d\u0443\u0442\u044c \u043d\u0430 15 \u043c\u0438\u043d\u0443\u0442.","chat.hidebot":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c (\u0441\u043a\u0440\u044b\u0442\u044c) \u0430\u0432\u0430\u0442\u0430\u0440","chat.restart":"\u041d\u0430\u0447\u0430\u0442\u044c \u0441\u043d\u0430\u0447\u0430\u043b\u0430","switch.language":"\u0421\u043c\u0435\u043d\u0430 \u044f\u0437\u044b\u043a\u0430","switch.property":"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e","restart.converstation":"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440","chat.endtext":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0447\u0430\u0442?","check.availabity":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0445 \u043c\u0435\u0441\u0442","check.availabity.submit":"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435","check.availabity.cancel":"\u041e\u0442\u043c\u0435\u043d\u0430","check.availabity.adults":"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0435 (13+)","check.availabity.children":"\u0414\u0435\u0442\u0438","check.availabity.child.age":"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 - \u0440\u0435\u0431\u0435\u043d\u043e\u043a","feedback.leave":"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043e\u0442\u0437\u044b\u0432"}},1049:function(e,t){e.exports={"chat.end":"Aloita chat-keskustelu uudelleen","chat.endall":"Lopeta keskustelu","chat.cancel":"Peruuttaa","chat.cookie":"T\xe4m\xe4 digitaalinen avustaja k\xe4ytt\xe4\xe4 ev\xe4steit\xe4 varmistaakseen, ett\xe4 saat parhaan k\xe4ytt\xf6kokemuksen","chat.learn":"Lue lis\xe4\xe4","chat.minimize":"Minimoida","chat.hide":"kiinni","chat.hidebot.text":"Sulje poistaa avatarin 15 minuutiksi","chat.hidebot":"Sulje (Piilota) Avatar","chat.restart":"Uudelleenk\xe4ynnist\xe4\xe4","switch.language":"Vaihda kielt\xe4","switch.property":"Vaihda omaisuutta","restart.converstation":"Aloita keskustelu uudelleen","chat.endtext":"Haluatko varmasti lopettaa nykyisen keskustelun?","check.availabity":"Tarkista saatavuus","check.availabity.submit":"L\xe4het\xe4","check.availabity.cancel":"Peruuttaa","check.availabity.adults":"Aikuiset (13+)","check.availabity.children":"Lapset","check.availabity.child.age":"Ik\xe4 - lapsi","feedback.leave":"J\xe4t\xe4 palautetta"}},1063:function(e,t,a){e.exports=a(2425)},1200:function(e,t){},1202:function(e,t){},1246:function(e,t){},1259:function(e,t,a){},1298:function(e,t){},1300:function(e,t){},1328:function(e,t){},1330:function(e,t){},1331:function(e,t){},1336:function(e,t){},1338:function(e,t){},1345:function(e,t){},1347:function(e,t){},1365:function(e,t){},1367:function(e,t){},1379:function(e,t){},1382:function(e,t){},1980:function(e,t){},1981:function(e,t){},1982:function(e,t){},2087:function(e,t,a){},2088:function(e,t,a){},2089:function(e,t,a){},2097:function(e,t){},2103:function(e,t){},2104:function(e,t,a){},2105:function(e,t,a){},2106:function(e,t,a){},2107:function(e,t,a){},2109:function(e,t,a){},2110:function(e,t,a){},2111:function(e,t,a){},2330:function(e,t){},2352:function(e,t){},2388:function(e,t){},2423:function(e,t,a){},2425:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(112),s=a.n(o),r=a(10),c=a.n(r),l=a(27),d=a(129),p=a(21),h=a(11),u=a(1),m=a(2),g=a(13),b=a(5),v=a(6),y=a(113),f=a(84),S=a.n(f),k=(a(1259),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleMouseEnter=function(){n.setState({hover:!0})},n.handleMouseLeave=function(){n.setState({hover:!1})},n.state={hover:!1,nudgeavtar:!1,botPosition:"right"},n.bubble_clicked=n.bubble_clicked.bind(Object(g.a)(n)),n.nudge_clicked=n.nudge_clicked.bind(Object(g.a)(n)),n.hint_close=n.hint_close.bind(Object(g.a)(n)),n.nudgeavtar_clicked=n.nudgeavtar_clicked.bind(Object(g.a)(n)),window.addEventListener("message",n.windowBuddbleMessage.bind(Object(g.a)(n)),!1),n}return Object(m.a)(a,[{key:"windowBuddbleMessage",value:function(e){"string"===typeof e.data&&e.data.startsWith("nudgepopup:")&&this.setState({nudgeavtar:!0})}},{key:"nudgeavtar_clicked",value:function(){this.setState({nudgeavtar:!1}),this.postMessage("nudgeminimized")}},{key:"bubble_clicked",value:function(){this.props.onOpened()}},{key:"nudge_clicked",value:function(){this.props.onOpened()}},{key:"hint_close",value:function(e){e.stopPropagation(),this.props.hintClosed()}},{key:"postMessage",value:function(e){window.parent&&window.parent.postMessage(e,"*")}},{key:"componentDidMount",value:function(){if(void 0!==this.props.botSettings.bubbleSettings&&null!==this.props.botSettings.bubbleSettings){if(void 0!==this.props.botSettings.bubbleSettings.bubblePosition&&null!==this.props.botSettings.bubbleSettings.bubblePosition){var e=this.props.botSettings.bubbleSettings.bubblePosition;"true"===this.props.mobile?(this.setState({botPosition:"Left"===e.alignInMobile?this.props.position+"_"+e.alignInMobile.toLowerCase():this.props.position}),this.postMessage("chatbotalign:".concat(e.alignInMobile,"|side:").concat(e.sideInMobile,"|bottom:").concat(e.bottomInMobile))):(this.setState({botPosition:"Left"===e.align?this.props.position+"_"+e.align.toLowerCase():this.props.position}),this.postMessage("chatbotalign:".concat(e.align,"|side:").concat(e.side,"|bottom:").concat(e.bottom)))}if(void 0!==this.props.botSettings.bubbleSettings.scrollAnimation&&null!==this.props.botSettings.bubbleSettings.scrollAnimation){var t=this.props.botSettings.bubbleSettings.scrollAnimation;!0===t.enabled&&this.postMessage("chatbotscrollanimation|".concat(t.beforeAnimationTop,"|").concat(t.afterAnimationTop))}}else this.postMessage("chatbotremoveposition")}},{key:"render",value:function(){var e=this;return this.props.disabledChatbot?null:!1===this.state.nudgeavtar?i.a.createElement("div",{className:this.state.botPosition,onClick:this.bubble_clicked},this.props.currentNudge?this.props.currentNudge.eyeCatcher.messages.map((function(t){return"string"===typeof t?i.a.createElement("div",{className:"chat_hint",onClick:e.nudge_clicked},t,i.a.createElement("div",{className:"chat_hint_close",onClick:e.hint_close})):i.a.createElement("div",{className:"chat_hint_image_container"},i.a.createElement("img",{className:"chat_hint_image",alt:"",src:t.url}))})):"",void 0!==this.props.botSettings?void 0!==this.props.botSettings.bubbleSettings&&null!==this.props.botSettings.bubbleSettings&&this.props.botSettings.bubbleSettings.enabled?i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:this.props.fadeIn?"chat_bubble chat_bubble_fade ".concat("true"==this.props.mobile?"askmebtnmobile":"askmebtn"):"chat_bubble chat_bubble_shrink ".concat("true"==this.props.mobile?"askmebtnmobile":"askmebtn"),style:Object(h.a)({backgroundColor:this.props.botSettings.bubbleSettings.backGroundColor,color:this.props.botSettings.bubbleSettings.textColor,paddingTop:this.props.botSettings.bubbleSettings.paddingTop},this.state.hover&&{backgroundColor:this.props.botSettings.bubbleSettings.backGroundColorHover,color:this.props.botSettings.bubbleSettings.textColorHover}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},S()(this.props.botSettings.bubbleSettings.text))):i.a.createElement("div",{style:{backgroundImage:"url(".concat(this.props.botSettings.urls.icon)},className:this.props.fadeIn?"chat_bubble chat_bubble_fade":"chat_bubble chat_bubble_shrink"}):i.a.createElement("div",{className:"chat_loading"}," ")):i.a.createElement("div",{className:this.state.botPosition,onClick:this.nudgeavtar_clicked},i.a.createElement("div",{style:{backgroundImage:"url(".concat(this.props.botSettings.urls.icon)},className:this.props.fadeIn?"chat_bubble chat_bubble_fade":"chat_bubble chat_bubble_shrink"}))}}]),a}(n.Component)),E=a(351),_=a.n(E),w=(a(2087),a(909),a(910),a(2088),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={popUpHeight:0,title:e.webview.title,url:e.webview.url,height:e.webview.height,hideHeader:e.webview.largeWindowHideHeader},n.findInputTimerId=setInterval((function(){var e=document.getElementById("chat_box");if(e){var t=e.querySelectorAll("input"),a=e.querySelectorAll("[role='form']");if(!(t.length<1||a.length<1)){var i=document.getElementsByClassName("chat_popup booking_popup");i.length&&n.setState({popUpHeight:i[0].clientHeight}),clearInterval(n.findInputTimerId)}}}),50),n.close=n.close.bind(Object(g.a)(n)),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.webview&&(e.webview&&e.webview.title===this.props.webview.title&&e.webview.url===this.props.webview.url&&e.webview.height===this.props.webview.height&&e.webview.largeWindowHideHeader===this.props.webview.largeWindowHideHeader||this.setState({title:this.props.webview.title,url:this.props.webview.url,height:this.props.webview.height,hideHeader:this.props.webview.largeWindowHideHeader}))}},{key:"close",value:function(){var e=this;this.setState({closing:!0}),setTimeout((function(){e.setState({closing:!1}),e.props.api.setExtension("WEB_VIEW",void 0)}),800)}},{key:"render",value:function(){var e=this.props.styling,t={height:!0===this.props.messenger?void 0!==this.state.hideHeader&&!0===this.state.hideHeader?"calc(100vh - 1px)":"calc(100vh - 55px)":"calc("+this.state.height+"% - 0px)",animationName:this.state.closing?"slide-down":"slide-up",top:!0===this.props.messenger?void 0!==this.state.hideHeader&&!0===this.state.hideHeader?"0px":"16px":""};return i.a.createElement("div",{className:"web-view-container",style:t},void 0!==this.state.hideHeader&&!0===this.state.hideHeader?i.a.createElement("div",{className:"web-view-close-chatbox",onClick:this.close},i.a.createElement("svg",{style:{fill:this.state.url.indexOf("/room?")>0?"white":e.colours.headerText||"black"},className:"web-view-close-svg"},i.a.createElement("use",{xlinkHref:"/res/defs.svg#svg-icon-times"}))):i.a.createElement("div",{className:"web-view-header",style:{backgroundColor:e.colours.header,color:e.colours.headerText}},i.a.createElement("span",{className:"truncate"}," ",this.state.title," "),i.a.createElement("div",{className:"web-view-close",onClick:this.close},i.a.createElement("img",{src:"/res/crosswebview.png",width:"20",height:"20"}))),i.a.createElement("div",{className:"web-view-inner-container"},i.a.createElement("iframe",{src:this.state.url,title:"Chat Web View",className:"web-view-frame"})))}}]),a}(n.Component)),C=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),n=t.call(this,e),e.webviewExt&&("true"==e.api.isMobile()?n.openInternalView(e.webviewExt.title,e.webviewExt.url,e.api,e.webviewExt.largeWindowHideHeader):n.openExternalView(e.webviewExt,e.styling)),window.addEventListener("message",n.receiveWindowMessage.bind(Object(g.a)(n)),!1),n}return Object(m.a)(a,[{key:"receiveWindowMessage",value:function(e){var t=this;"string"===typeof e.data&&e.data.startsWith("closeWebView")&&this.props.api.setExtension("WEB_VIEW_EXTERNAL",void 0),"string"===typeof e.data&&e.data.startsWith("fallbackWebView")&&(this.props.api.setExtension("WEB_VIEW",{title:this.props.webviewExt.title,url:this.props.webviewExt.url,height:100}),setTimeout((function(){t.props.api.setExtension("WEB_VIEW_EXTERNAL",void 0)}),10))}},{key:"componentDidUpdate",value:function(e){this.props.opened||this.closeExternalView(),this.props.webviewExt&&(e.webviewExt&&e.webviewExt.title===this.props.webviewExt.title&&e.webviewExt.url===this.props.webviewExt.url||(!0===this.props.api.isMobile()?this.openInternalView(this.props.webviewExt.title,this.props.webviewExt.url,this.props.api,this.props.largeWindowHideHeader):this.openExternalView(this.props.webviewExt,this.props.styling)))}},{key:"componentWillUnmount",value:function(){this.closeExternalView()}},{key:"openInternalView",value:function(e,t,a,n){a.setExtension("WEB_VIEW",{title:e,url:t,height:100,largeWindowHideHeader:n}),setTimeout((function(){return a.setExtension("WEB_VIEW_EXTERNAL",void 0)}),10)}},{key:"openExternalView",value:function(e,t){if(void 0==e.mode||null===e.mode){var a={title:e.title,url:e.url,styling:t,hideHeader:e.largeWindowHideHeader};this.postMessage("openWebView:"+JSON.stringify(a))}else{var n={title:e.title,url:e.url,mode:e.mode,styling:t,hideHeader:e.largeWindowHideHeader};this.postMessage("WebViewMode:"+JSON.stringify(n))}}},{key:"closeExternalView",value:function(){this.postMessage("closeWebView")}},{key:"render",value:function(){return i.a.createElement("div",null)}},{key:"postMessage",value:function(e){window.parent&&window.parent.postMessage(e,"*")}}]),a}(n.Component),I=a(85),T=(a(2089),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).state={searchTerm:"",bottomMargin:0,filteredSuggestions:[],maximised:!1},e.suggestions&&(e.suggestions.getSuggestionCallback=n.processUserInput.bind(Object(g.a)(n))),n.onSuggestionClicked.bind(Object(g.a)(n)),n.findInputTimerId=setInterval((function(){var e=document.getElementById("chat_box");if(e){var t=e.querySelectorAll("input"),a=e.querySelectorAll("[role='form']");t.length<1||a.length<1||(n.setState({bottomMargin:a[0].clientHeight}),n.updateSuggestions(t[0].value),t[0].addEventListener("input",(function(e){n.updateSuggestions(e.target.value)})),clearInterval(n.findInputTimerId))}}),50),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.suggestions&&e.suggestions.time!==this.props.suggestions.time&&(this.updateSuggestions(this.state.searchTerm),this.setState({maximised:!1}),this.props.suggestions.getSuggestionCallback=this.processUserInput.bind(this))}},{key:"processUserInput",value:function(e){var t=this;if(this.props.suggestions){var a,n=this.props.suggestions.options.filter((function(a){return t.doesSuggestionMatch(a,e)}));if(1===n.length)a=n[0].name;else{var i=n.find((function(t){return t.name.toLowerCase()===e.toLowerCase()||t.synonyms&&t.synonyms.some((function(t){return t.toLowerCase()===e.toLowerCase()}))}));a=i?i.name:void 0}return!a&&n.length<1&&this.updateSuggestions(""),a}}},{key:"updateSuggestions",value:function(e){var t=this;this.setState({searchTerm:e,maximised:e.length>0,filteredSuggestions:this.props.suggestions.options.filter((function(a){return t.doesSuggestionMatch(a,e)}))})}},{key:"doesSuggestionMatch",value:function(e,t){return[].concat(Object(I.a)(e.synonyms?e.synonyms.map((function(e){return e.toLowerCase()})):[]),[e.name.toLowerCase()]).some((function(e){return e.startsWith(t.toLowerCase())}))}},{key:"onSuggestionClicked",value:function(e){this.props.api.sendActivity({type:"WEB_CHAT/SEND_MESSAGE",payload:{text:e}})}},{key:"render",value:function(){var e=this,t=this.props.styling;return i.a.createElement("div",{className:"chat_suggestion_container",style:{height:"calc(100% - "+this.state.bottomMargin+"px)"}},this.state.maximised?i.a.createElement("div",{className:"chat_suggestion_results"},i.a.createElement("div",{className:"chat_suggestion_header"},this.props.suggestions.question,i.a.createElement("div",{className:"chat_suggestion_header_minimise",style:{borderColor:t.colours.header},onClick:function(){e.setState({maximised:!e.state.maximised})}},this.state.maximised?"Hide":"")),this.state.filteredSuggestions.map((function(a){return i.a.createElement("div",{className:"chat_suggestion_item",key:a.name,onClick:function(){e.onSuggestionClicked(a.name)}},i.a.createElement("div",{className:"chat_suggestion_item_inner"},i.a.createElement("div",{className:"chat_suggestion_item_select_box",style:{borderColor:t.colours.header}}," "),a.name))}))):"")}}]),a}(n.Component)),x=a(38),A=a(52),N=Object(A.d)((function(e){return i.a.createElement(A.a,e)}),{withRef:!1});function O(e){var t=e.menuOpen,a=e.persistentMenu,o=(e.persistentMenuEnabled,e.handleMenuClick),s=e.botSettings,r=(e.cookiesDetail,e.botSite),c=(new Date).getFullYear(),l=Object(n.useState)(c),d=Object(x.a)(l,2),p=d[0],h=(d[1],function(e,t){o({itemType:e,items:t})}),u=function(e){r(e)};return i.a.createElement(n.Fragment,null,a.length>0&&i.a.createElement("div",{className:"chat_box_popup_new",onClick:t},i.a.createElement("div",{className:"menu_popup area"},a.map((function(e,t){return i.a.createElement("div",{className:"menu_popup_items",key:t},e.callToActions.filter((function(e){return"select_property"!==e.payLoad&&"switch_language"!==e.payLoad&&"restart"!==e.payLoad&&"hidebot"!==e.payLoad})).map((function(e,t){return i.a.createElement("button",{className:"popupmenu",key:t,onClick:function(){return h(e.type,e)}},i.a.createElement("span",{className:"icon_text"}),i.a.createElement("span",{className:"text"},e.title))})),e.callToActions.filter((function(e){return"select_property"===e.payLoad||"switch_language"===e.payLoad||"restart"===e.payLoad||"hidebot"===e.payLoad})).map((function(e,t){return i.a.createElement(n.Fragment,{key:t},"switch_language"!==e.payLoad&&i.a.createElement("button",{className:"popupmenu",onClick:function(){return h(e.type,e)}},"select_property"===e.payLoad&&i.a.createElement(n.Fragment,null,i.a.createElement("span",{className:"property_icon"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 20 20"},i.a.createElement("path",{fillRule:"evenodd",d:"M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694 1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z"}),i.a.createElement("path",{d:"M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z"}))),i.a.createElement("span",{className:"text"},i.a.createElement(N,{id:"switch.property"}))),"restart"===e.payLoad&&i.a.createElement(n.Fragment,null,i.a.createElement("span",{className:"restart_icon"},i.a.createElement("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20.000000pt",height:"20.000000pt",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet"},i.a.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none"},i.a.createElement("path",{d:"M2470 4617 c-19 -12 -43 -38 -54 -57 -21 -35 -21 -46 -24 -1063 -2 -737 1 -1040 9 -1070 16 -59 75 -114 134 -122 57 -9 129 24 162 74 l23 34 0 1061 c0 1041 0 1062 -20 1094 -30 49 -75 72 -141 72 -42 0 -65 -6 -89 -23z"}),i.a.createElement("path",{d:"M1165 4146 c-91 -40 -123 -164 -64 -247 34 -48 87 -65 264 -84 88 -10 163 -21 168 -24 4 -4 -23 -29 -60 -57 -96 -70 -214 -183 -229 -221 -32 -74 -2 -168 66 -207 39 -23 122 -26 158 -7 13 7 52 39 88 71 75 68 185 152 191 147 2 -3 -6 -84 -18 -181 l-21 -176 23 -47 c13 -26 36 -56 50 -66 29 -21 103 -33 143 -23 32 8 83 51 101 85 18 35 109 792 100 837 -7 39 -46 89 -85 109 -26 14 -740 105 -813 105 -17 -1 -46 -7 -62 -14z"}),i.a.createElement("path",{d:"M3130 3959 c-62 -26 -100 -85 -100 -154 0 -85 32 -122 159 -181 298 -139 574 -413 710 -705 49 -105 94 -237 118 -349 26 -123 26 -448 -1 -575 -125 -594 -585 -1051 -1176 -1165 -527 -103 -1080 99 -1423 518 -66 81 -101 102 -170 102 -52 0 -100 -29 -135 -80 -20 -29 -23 -44 -20 -92 5 -65 18 -87 123 -204 253 -282 605 -483 990 -564 129 -28 438 -38 582 -20 660 82 1235 534 1468 1155 131 351 149 749 51 1119 -132 498 -489 924 -964 1154 -97 47 -166 61 -212 41z"}),i.a.createElement("path",{d:"M975 3115 c-165 -60 -138 -307 37 -331 62 -9 110 9 152 56 120 133 -20 337 -189 275z"}),i.a.createElement("path",{d:"M844 2531 c-153 -70 -124 -294 42 -326 80 -15 170 42 194 122 24 80 -13 162 -90 201 -54 27 -92 28 -146 3z"}),i.a.createElement("path",{d:"M903 1905 c-47 -29 -83 -92 -83 -146 1 -49 32 -112 70 -139 40 -28 126 -38 170 -20 73 30 123 128 101 200 -34 114 -158 165 -258 105z"})))),i.a.createElement("span",{className:"text"},i.a.createElement(N,{id:"restart.converstation"}))),"hidebot"===e.payLoad&&i.a.createElement(n.Fragment,null,i.a.createElement("span",{className:"close_icon"},i.a.createElement("svg",{version:"1.1",width:"20",height:"20",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",x:"10px",y:"10px",fill:"currentColor"},i.a.createElement("g",null,i.a.createElement("g",null,i.a.createElement("path",{d:"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M327.115,365.904 L256,294.789l-71.115,71.115l-38.789-38.789L217.211,256l-71.115-71.115l38.789-38.789L256,217.211l71.115-71.115l38.789,38.789\tL294.789,256l71.115,71.115L327.115,365.904z"}))))),i.a.createElement("span",{className:"text"},i.a.createElement(N,{id:"chat.hidebot"})))),s&&s.multilingual&&"switch_language"===e.payLoad&&i.a.createElement("button",{className:"popupmenu",key:t,onClick:function(){return h(e.type,e)}},i.a.createElement("span",{className:"language_icon"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},i.a.createElement("path",{d:"M14.022,7h1a1.0013,1.0013,0,0,1,1,1V9a1,1,0,0,0,2,0V8a3.00328,3.00328,0,0,0-3-3h-1a1,1,0,0,0,0,2Zm-4,9h-1a1.0013,1.0013,0,0,1-1-1V14a1,1,0,0,0-2,0v1a3.00328,3.00328,0,0,0,3,3h1a1,1,0,0,0,0-2Zm11-1a1,1,0,0,0,0-2h-3v-.5a1,1,0,0,0-2,0V13h-3a1,1,0,0,0,0,2h5.18427a6.72756,6.72756,0,0,1-1.22553,2.52667,6.66828,6.66828,0,0,1-.62915-.98272.99972.99972,0,1,0-1.77929.9121,8.67791,8.67791,0,0,0,.9591,1.468A6.6182,6.6182,0,0,1,13.10645,20.023a1.00008,1.00008,0,0,0,.42675,1.9541,8.63506,8.63506,0,0,0,3.445-1.62164,8.72368,8.72368,0,0,0,3.46857,1.62115,1,1,0,1,0,.43066-1.95312,6.72477,6.72477,0,0,1-2.4461-1.09009A8.73637,8.73637,0,0,0,20.24371,15ZM9.05176,11.24268a1.00011,1.00011,0,0,0,1.94043-.48536L9.23486,3.72754a2.28107,2.28107,0,0,0-4.42578,0L3.05176,10.75732a1.00011,1.00011,0,0,0,1.94043.48536L5.5528,9H8.49115ZM6.0528,7l.69671-2.78711a.2913.2913,0,0,1,.54492,0L7.99115,7Z"}))),i.a.createElement("span",{className:"text"},i.a.createElement(N,{id:"switch.language"}))))})))})),i.a.createElement("div",{className:"popup_bottombar"},i.a.createElement("div",{className:"popup_bottombar_row"},i.a.createElement("a",{href:"",onClick:function(){return u(s.urls.webPoweredBy)}},"\xa9 ",p," Book Me Bob, Inc."),i.a.createElement("a",{className:"page_link",href:"",onClick:function(){return u("https://www.bookmebob.com/privacy-policy")}}," Privacy"))))))}var L=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setCheckAvailability=function(e){n.setState({isCheckedAvailability:e})},n.state={active:n.props.open_property_popup,isCheckedAvailability:n.props.isCheckedAvailability||!1,pid:void 0!==localStorage.getItem(n.props.property_state_store)&&null!==localStorage.getItem(n.props.property_state_store)?localStorage.getItem(n.props.property_state_store):""},n.props.bookingApp.rooms||(n.props.bookingApp.rooms=1,n.props.bookingApp.adults=1,n.props.bookingApp.children=0),n.selectProperty=function(e){n.props.bookingApp.selectedPid=e,n.props.setPropertyPopUp(!1),n.forceUpdate(),localStorage.setItem(n.props.bookingApp.lStore.PROPERTYID,e.value),localStorage.setItem(n.props.bookingApp.lStore.PROPERTYNAME,e.label),n.props.bookingApp.callbacks.getStore().dispatch({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/update",value:{pid:e.value,pname:e.label}}}),n.setState({active:!1}),n.props.close_property_popup(),n.props.GetServiceAvailable(n.props.property_state_store)},n.sendDates=n.sendDates.bind(Object(g.a)(n)),n.toggle=n.toggle.bind(Object(g.a)(n)),n}return Object(m.a)(a,[{key:"toggle",value:function(){var e=this.state.active;this.setState({active:!e}),this.setState({open:!e}),this.props.setPropertyPopUp(!1),this.props.close_pop(),this.props.close_property_popup()}},{key:"close_pop",value:function(e){this.state.active&&(this.setState({active:!1}),this.setState({open:!1}),this.props.setPropertyPopUp(!1),this.props.close_pop(),this.props.close_property_popup())}},{key:"sendDates",value:function(){var e=this,t={};this.props.bookingApp.selectedPid&&(t=this.state.properties.find((function(t){return t.pid===e.props.bookingApp.selectedPid}))),this.props.bookingApp.callbacks.getStore().dispatch({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/booking-details",value:{hotel:t.name,dates:this.props.bookingApp.dates,rooms:this.props.bookingApp.rooms,adults:this.props.bookingApp.adults,kids:this.props.bookingApp.kids}}}),this.close_pop()}},{key:"render",value:function(){var e=this,t=(this.props.room_app,this.props.bookingApp.selectedPid);return t&&this.props.bookingApp.properties.find((function(e){return e.pid===t})),i.a.createElement("div",{className:"chat_box_popup_new"},i.a.createElement("div",{className:"switch_language_popup ".concat(this.state.active?"area":"closepop")},i.a.createElement("div",{className:"true"==this.props.mobile?"switch_language_popup_header chat_header_mobile":"switch_language_popup_header",style:{backgroundColor:this.props.botSettings.colours.header}},i.a.createElement("div",{className:"header_icon",onClick:this.toggle},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},i.a.createElement("path",{d:"M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"}))),i.a.createElement("div",{className:"header_text",style:{color:this.props.botSettings.colours.headerText}},i.a.createElement(N,{id:"switch.property"}))),i.a.createElement("div",{className:"switch_language_popup_body"},i.a.createElement("div",{className:"switch_language_popup_body popup_items ".concat("true"==this.props.mobile?"popup_items_mobile":"popup_items")},this.props.bookingApp.properties&&this.props.bookingApp.properties.map((function(t,a){return i.a.createElement("button",{className:"popupmenu",onClick:function(){return e.selectProperty(t)},key:a},i.a.createElement("span",{className:"text"},t.label),e.state.pid===t.value?i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",style:{color:"#19af19"}},i.a.createElement("path",{d:"M18.71,7.21a1,1,0,0,0-1.42,0L9.84,14.67,6.71,11.53A1,1,0,1,0,5.29,13l3.84,3.84a1,1,0,0,0,1.42,0l8.16-8.16A1,1,0,0,0,18.71,7.21Z"})):"")}))))))}}]),a}(n.Component),M=a(1017),j=a.n(M),D=a(1018),B=a.n(D),H={messages:Object(h.a)({},B.a),locale:"en-US",data:j.a},P=a(1019),R=a.n(P),z=a(1020),V=a.n(z),W={messages:Object(h.a)({},V.a),locale:"es-ES",data:R.a},G=a(353),U=a.n(G),F=a(1021),Z=a.n(F),Y={messages:Object(h.a)({},Z.a),locale:"zh-ZH",data:U.a},q=a(1022),J=a.n(q),K=a(1023),X=a.n(K),Q={messages:Object(h.a)({},X.a),locale:"fr-FR",data:J.a},$=a(1024),ee=a.n($),te={messages:Object(h.a)({},ee.a),locale:"zh-HK",data:U.a},ae=a(1025),ne=a.n(ae),ie={messages:Object(h.a)({},ne.a),locale:"mi-MI",data:{locale:"mi",pluralRuleFunction:function(e,t){return t&&1===e?"one":"other"}}},oe=a(1026),se=a.n(oe),re=a(1027),ce=a.n(re),le={messages:Object(h.a)({},ce.a),locale:"id-ID",data:se.a},de=a(1028),pe=a.n(de),he=a(1029),ue=a.n(he),me={messages:Object(h.a)({},ue.a),locale:"hi-HI",data:pe.a},ge=a(1030),be=a.n(ge),ve=a(1031),ye=a.n(ve),fe={messages:Object(h.a)({},ye.a),locale:"af-AF",data:be.a},Se=a(1032),ke=a.n(Se),Ee=a(1033),_e=a.n(Ee),we={messages:Object(h.a)({},_e.a),locale:"de-DE",data:ke.a},Ce=a(1034),Ie=a.n(Ce),Te=a(1035),xe=a.n(Te),Ae={messages:Object(h.a)({},xe.a),locale:"ja-JA",data:Ie.a},Ne=a(1036),Oe=a.n(Ne),Le=a(1037),Me=a.n(Le),je={messages:Object(h.a)({},Me.a),locale:"ko-KO",data:Oe.a},De=a(1038),Be=a.n(De),He=a(1039),Pe=a.n(He),Re={messages:Object(h.a)({},Pe.a),locale:"th-TH",data:Be.a},ze=a(1040),Ve=a.n(ze),We=a(1041),Ge=a.n(We),Ue={messages:Object(h.a)({},Ge.a),locale:"tl-TL",data:Ve.a},Fe=a(1042),Ze=a.n(Fe),Ye=a(1043),qe=a.n(Ye),Je={messages:Object(h.a)({},qe.a),locale:"vi-VI",data:Ze.a},Ke=a(1044),Xe=a.n(Ke),Qe=a(1045),$e=a.n(Qe),et={messages:Object(h.a)({},$e.a),locale:"ar-AR",data:Xe.a},tt=a(1046),at=a.n(tt),nt=a(1047),it=a.n(nt),ot={messages:Object(h.a)({},it.a),locale:"ru-RU",data:at.a},st=a(1048),rt=a.n(st),ct=a(1049),lt=a.n(ct),dt={en:H,es:W,zh:Y,fr:Q,hk:te,mi:ie,id:le,hi:me,af:fe,ar:et,de:we,ja:Ae,ko:je,th:Re,tl:Ue,vi:Je,ru:ot,fi:{messages:Object(h.a)({},lt.a),locale:"fi-FI",data:rt.a}};Object(A.c)(dt.en.data),Object(A.c)(dt.es.data),Object(A.c)(dt.zh.data),Object(A.c)(dt.fr.data),Object(A.c)(dt.hk.data),Object(A.c)(dt.mi.data),Object(A.c)(dt.id.data),Object(A.c)(dt.hi.data),Object(A.c)(dt.af.data),Object(A.c)(dt.ar.data),Object(A.c)(dt.de.data),Object(A.c)(dt.ja.data),Object(A.c)(dt.ko.data),Object(A.c)(dt.th.data),Object(A.c)(dt.tl.data),Object(A.c)(dt.vi.data),Object(A.c)(dt.ru.data),Object(A.c)(dt.fi.data);var pt=dt,ht=a(2435),ut=a(2432),mt=a(2434),gt=a(2438),bt=a(2436),vt=(a(2104),a(1058)),yt={control:function(e){return Object(h.a)(Object(h.a)({},e),{},{borderColor:"#ccc",boxShadow:"0 0 0 1 #ccc","&:hover":{borderColor:"#ccc"}})}},ft=(n.Component,a(2105),function(){return function(e){return function(e){var t=e.activeTyping;return St(),(t=Object.values(t)).length?function(){var e=document.querySelector("#chat_box .webchat__basic-transcript div ul");if(!e)return void console.error("Typing indicator: couldn't find messageList");var t=e.children,a=t[t.length-1];a&&a.querySelector(".typing-indicator-inline")||e.appendChild(function(){var e=document.createElement("li");return e.innerHTML='\n        <div class="typing-indicator-inline">\n            <div class="typing-indicator-disp">\n                <span></span>\n                <span></span>\n                <span></span>\n            </div>\n        </div>\n    ',e.className="",e.setAttribute("role","listitem"),e}())}():St(),!!t.length&&i.a.createElement("div",{className:"ako-webchat-typing-indicator"})}}});function St(){var e=document.querySelector(".typing-indicator-inline");e&&e.parentNode.removeChild(e)}var kt,Et="https://chatapi.bookmebob.com/saveFeedback",_t=function(){function e(t,a,n,i,o){Object(u.a)(this,e),this.botName=t,this.botImage=a,this.gid=n,this.iid=i,this.mobile=o}return Object(m.a)(e,[{key:"start",value:function(){kt&&clearInterval(kt),kt=setInterval(this.addParticipantTags.bind(this),200)}},{key:"addParticipantTags",value:function(){var e=document.querySelector("#chat_box .webchat__basic-transcript div ul");if(e)for(var t=e.children,a=0;a<t.length;a++)if(!t[a].className.includes("participant-tag")){var n=0===a,i=!1,o=!1;if(n||(i=t[a].querySelector(".webchat__bubble--from-user")?!t[a-1].querySelector(".webchat__bubble--from-user"):t[a-1].querySelector(".webchat__bubble--from-user"),o=t[a-1].className.includes("participant-tag")),(n||i)&&!o){var s=void 0;s=t[a].querySelector(".webchat__bubble--from-user")?this.getUserTag():this.getBotTag(),e.insertBefore(s,t[a])}var r=!1,c=null,l=t[a].querySelector(".webchat__stacked-layout__status span");if(null===l&&(l=t[a].querySelector(".webchat__carousel-filmstrip__status span")),0!==a&&null!==l&&a<t.length&&(void 0!==t[a+1]?(t[a+1].querySelector(".webchat__bubble--from-user")&&(r=!0),c=l.querySelector(".feedback-tag")):(r=!0,c=l.querySelector(".feedback-tag"))),0!==a&&r&&null===c){var d=void 0,p=void 0,h=void 0,u=void 0,m=void 0,g=void 0,b=void 0,v=l.parentElement.parentElement,y=!1,f=!1,S=!1;if(null!==v){var k=v.children;if(k[0].querySelector(".herocard-container")){var E=k[0].querySelector(".herocard-container");d=E.getAttribute("data-activity-id"),p=E.getAttribute("data-con-id"),m=E.getAttribute("data-feedback"),g=E.getAttribute("data-view-btn"),b=E.getAttribute("data-msg-type"),S="false"!==E.getAttribute("data-inzendesk")}else if(k[0].querySelector(".videocard-container")){var _=k[0].querySelector(".videocard-container");d=_.getAttribute("data-activity-id"),p=_.getAttribute("data-con-id"),m=_.getAttribute("data-feedback"),g=_.getAttribute("data-view-btn"),b=_.getAttribute("data-msg-type"),S="false"!==_.getAttribute("data-inzendesk")}else if(k[0].querySelector(".markdown")){var w=k[0].querySelector(".markdown");d=w.getAttribute("data-activity-id"),p=w.getAttribute("data-con-id"),m=w.getAttribute("data-feedback"),g=w.getAttribute("data-view-btn"),b=w.getAttribute("data-msg-type"),h="markdown",y="true"===w.getAttribute("width"),u=w.getAttribute("text-len"),S="false"!==w.getAttribute("data-inzendesk")}else k[0].querySelector(".ac-adaptiveCard")&&(f=!0)}var C=this.getBotFeedBack(d,p,m);if(!t[a].querySelector(".webchat__bubble--from-user")){null!==t[a].querySelector(".webchat__stacked-layout__message")&&!0===y&&(u>50&&u<60?C.classList.add("feed-left-message-min"):C.classList.add("feed-left-message"));var I=t[a].querySelector(".webchat__stacked-layout__attachment");if(null!==I){var T=I.querySelector(".webchat__adaptive-card-renderer");if(null!==T){var x=T.querySelector(".ac-textBlock p");x.innerHTML.includes("Conference")||x.innerHTML.includes("Long Stay Enquiry")?"true"===this.mobile?C.classList.add("feed-left-attachform-conference-mobile"):C.classList.add("feed-left-attachform-conference"):C.classList.add("feed-left-attachform")}else"true"===this.mobile?C.classList.add("feed-left-attachment_mobile"):C.classList.add("feed-left-attachment")}var A=t[a].querySelector(".webchat__carousel-layout .herocard-container");if(null!==A)if("true"===this.mobile?C.classList.add("feed-left-attachment-carousel_mobile"):C.classList.add("feed-left-attachment-carousel"),t[a].querySelector(".webchat__carousel-filmstrip__attachments").getElementsByClassName("herocard-text-area").length>0)null===A.querySelector(".herocard-text-area")&&("true"===this.mobile?C.style.bottom="0.7rem":C.style.bottom="0.8rem");var N=t[a].querySelector(".webchat__carousel-layout .videocard-container");if(null!=N)if("true"===this.mobile?C.classList.add("feed-left-carousel-layout_mobile"):C.classList.add("feed-left-carousel-layout"),t[a].querySelector(".webchat__carousel-filmstrip__attachments").getElementsByClassName("videocard-text-area").length>0)null===N.querySelector(".videocard-text-area")&&("true"===this.mobile?C.style.bottom="3rem":C.style.bottom="0.8rem");l.append(C),"markdown"===h&&!1===y&&(l.querySelector(".feedback-tag").style.display="none")}"Fallback"!==b&&"Welcome"!==b||C.remove(),!0===f&&C.remove(),void 0!==g&&null!==g&&"0000000"===g.split("|")[1]&&C.remove(),!0===S&&C.remove()}}}},{key:"getUserTag",value:function(){var e=document.createElement("li");return e.innerHTML="You",e.className="participant-tag participant-tag-user",e.setAttribute("role","listitem"),e}},{key:"getBotTag",value:function(){var e=document.createElement("li");return e.innerHTML="<div class='participant-tag-bot-bubble' style=\"background-image: url('".concat(this.botImage,"')\"> </div> \n            <div class='participant-tag-bot-text'> ").concat(this.botName," </div>"),e.className="participant-tag participant-tag-bot",e.setAttribute("role","listitem"),e}},{key:"clearTags",value:function(){var e,t=document.querySelectorAll(".participant-tag"),a=Object(p.a)(t);try{for(a.s();!(e=a.n()).done;){e.value.remove()}}catch(n){a.e(n)}finally{a.f()}}},{key:"TanslateWasHelpFullText",value:function(e){switch(e){case"af":return"Het hierdie gehelp?";case"ar":return"\u0647\u0644 \u0643\u0627\u0646 \u0647\u0630\u0627 \u0645\u0641\u064a\u062f\u0627\u061f";case"de":return"War dies hilfreich?";case"es":return"\xbfFue \xfatil?";case"fr":return"Est-ce que cela a \xe9t\xe9 utile?";case"hi":return"\u0915\u094d\u092f\u093e \u092f\u0947 \u0938\u0939\u093e\u092f\u0915 \u0925\u093e?";case"id":return"Apakah ini membantu?";case"ja":return"\u3053\u308c\u306f\u5f79\u306b\u7acb\u3061\u307e\u3057\u305f\u304b\uff1f";case"ko":return"\ub3c4\uc6c0\uc774 \ub418\uc5c8\ub098\uc694?";case"mi":return"I awhina tenei?";case"ru":return"\u0411\u044b\u043b\u043e \u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u043e?";case"tl":return"Nakakatulong ba ito?";case"th":return"\u0e2a\u0e34\u0e48\u0e07\u0e19\u0e35\u0e49\u0e21\u0e35\u0e1b\u0e23\u0e30\u0e42\u0e22\u0e0a\u0e19\u0e4c\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?";case"vi":return"L\xe0 h\u1eefu \xedch kh\xf4ng?";case"zh":return"\u8fd9\u4e2a\u6709\u5e2e\u52a9\u5417\uff1f";case"zh-TW":return"\u9019\u500b\u6709\u5e6b\u52a9\u55ce\uff1f";case"ar":return"\u0647\u0644 \u0643\u0627\u0646 \u0647\u0630\u0627 \u0645\u0641\u064a\u062f\u0627\u061f";default:return"Was this helpful?"}}},{key:"getBotFeedBack",value:function(e,t,a){var n=this.gid,i=this.iid,o=document.createElement("div");o.className="feedback-tag chat_feedback_container";var s=document.createElement("div");s.className="feedback-tag chat_feedBack_body",o.appendChild(s);var r=document.createElement("div");r.className="feedback-response-body",r.style.display="none",o.appendChild(r);var c=document.createElement("div");c.className="chat_feedback_text",c.innerText=this.TanslateWasHelpFullText(localStorage.getItem(this.iid+"-language")),s.appendChild(c);var l=document.createElement("button"),d=document.createElement("button"),p=document.createElement("button");return l.className="btn_like",l.value=e,l.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='currentColor'><path d='M21.3,10.08A3,3,0,0,0,19,9H14.44L15,7.57A4.13,4.13,0,0,0,11.11,2a1,1,0,0,0-.91.59L7.35,9H5a3,3,0,0,0-3,3v7a3,3,0,0,0,3,3H17.73a3,3,0,0,0,2.95-2.46l1.27-7A3,3,0,0,0,21.3,10.08ZM7,20H5a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1H7Zm13-7.82-1.27,7a1,1,0,0,1-1,.82H9V10.21l2.72-6.12A2.11,2.11,0,0,1,13.1,6.87L12.57,8.3A2,2,0,0,0,14.44,11H19a1,1,0,0,1,.77.36A1,1,0,0,1,20,12.18Z'></path></svg>",l.addEventListener("click",(function(){var e=this;if(void 0!==n&&void 0!==t){s.style.display="none",r.style.display="block",p.style.color="green",p.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' style='margin-bottom:5px;margin-left:-1px' width='20' height='20' viewBox='0 0 24 24' fill='currentColor'><path d='M21.3,10.08A3,3,0,0,0,19,9H14.44L15,7.57A4.13,4.13,0,0,0,11.11,2a1,1,0,0,0-.91.59L7.35,9H5a3,3,0,0,0-3,3v7a3,3,0,0,0,3,3H17.73a3,3,0,0,0,2.95-2.46l1.27-7A3,3,0,0,0,21.3,10.08ZM7,20H5a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1H7Zm13-7.82-1.27,7a1,1,0,0,1-1,.82H9V10.21l2.72-6.12A2.11,2.11,0,0,1,13.1,6.87L12.57,8.3A2,2,0,0,0,14.44,11H19a1,1,0,0,1,.77.36A1,1,0,0,1,20,12.18Z'></path></svg>";var a={groupId:n,messageId:this.value,feedback:"Like"};try{fetch("".concat(Et),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)})}catch(d){}var o=JSON.parse(localStorage.getItem(i+"-chatfeedback"));null===o&&(o=[]);var c=Object(I.a)(o),l=c.findIndex((function(t){return t.messageId===e.value}));-1===l?c.push({messageId:this.value,feedback:"Like"}):(c[l].messageId=this.value,c[l].feedback="Like"),localStorage.setItem(i+"-chatfeedback",JSON.stringify(c))}})),s.appendChild(l),d.className="btn_dislike",d.value=e,d.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='currentColor'><path d='M19,2H6.27A3,3,0,0,0,3.32,4.46l-1.27,7A3,3,0,0,0,5,15H9.56L9,16.43A4.13,4.13,0,0,0,12.89,22a1,1,0,0,0,.91-.59L16.65,15H19a3,3,0,0,0,3-3V5A3,3,0,0,0,19,2ZM15,13.79l-2.72,6.12a2.13,2.13,0,0,1-1.38-2.78l.53-1.43A2,2,0,0,0,9.56,13H5a1,1,0,0,1-.77-.36A1,1,0,0,1,4,11.82l1.27-7a1,1,0,0,1,1-.82H15ZM20,12a1,1,0,0,1-1,1H17V4h2a1,1,0,0,1,1,1Z'></path></svg>",d.addEventListener("click",(function(){var e=this;if(void 0!==n&&void 0!==t){s.style.display="none",r.style.display="block",p.style.color="red",p.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' style='margin-bottom:1px;margin-left:-1px' width='20' height='20' viewBox='0 0 24 24' fill='currentColor'><path d='M19,2H6.27A3,3,0,0,0,3.32,4.46l-1.27,7A3,3,0,0,0,5,15H9.56L9,16.43A4.13,4.13,0,0,0,12.89,22a1,1,0,0,0,.91-.59L16.65,15H19a3,3,0,0,0,3-3V5A3,3,0,0,0,19,2ZM15,13.79l-2.72,6.12a2.13,2.13,0,0,1-1.38-2.78l.53-1.43A2,2,0,0,0,9.56,13H5a1,1,0,0,1-.77-.36A1,1,0,0,1,4,11.82l1.27-7a1,1,0,0,1,1-.82H15ZM20,12a1,1,0,0,1-1,1H17V4h2a1,1,0,0,1,1,1Z'></path></svg>";var a={groupId:n,messageId:this.value,feedback:"Dislike"};try{fetch("".concat(Et),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)})}catch(u){}var o=document.getElementById("feedback_popup");if(null!==o){document.getElementById("feedback_popup_body").classList.remove("closepop"),document.getElementById("feedback_popup_body").classList.add("area");var c=document.getElementById("feedback_button");c.value=this.value,void 0!==c.value&&(o.style.display="block")}var l=JSON.parse(localStorage.getItem(i+"-chatfeedback"));null===l&&(l=[]);var d=Object(I.a)(l),h=d.findIndex((function(t){return t.messageId===e.value}));-1===h?d.push({messageId:this.value,feedback:"Dislike"}):(d[h].messageId=this.value,d[h].feedback="Dislike"),localStorage.setItem(i+"-chatfeedback",JSON.stringify(d))}})),s.appendChild(d),p.className="btn_orginal",p.value=e,p.addEventListener("click",(function(){var e=this;if(void 0!==n&&void 0!==t){s.style.display="flex",r.style.display="none";var a={groupId:n,messageId:this.value,feedback:"None"};try{fetch("".concat(Et),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)})}catch(d){}var o=JSON.parse(localStorage.getItem(i+"-chatfeedback"));null===o&&(o=[]);var c=Object(I.a)(o),l=c.findIndex((function(t){return t.messageId===e.value}));-1===l?c.push({messageId:this.value,feedback:"None"}):(c[l].messageId=this.value,c[l].feedback="None"),localStorage.setItem(i+"-chatfeedback",JSON.stringify(c))}})),r.appendChild(p),"Like"===a&&(s.style.display="none",r.style.display="block",p.style.color="green",p.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' style='margin-bottom:5px;margin-left:-1px' width='20' height='20' viewBox='0 0 24 24' fill='currentColor'><path d='M21.3,10.08A3,3,0,0,0,19,9H14.44L15,7.57A4.13,4.13,0,0,0,11.11,2a1,1,0,0,0-.91.59L7.35,9H5a3,3,0,0,0-3,3v7a3,3,0,0,0,3,3H17.73a3,3,0,0,0,2.95-2.46l1.27-7A3,3,0,0,0,21.3,10.08ZM7,20H5a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1H7Zm13-7.82-1.27,7a1,1,0,0,1-1,.82H9V10.21l2.72-6.12A2.11,2.11,0,0,1,13.1,6.87L12.57,8.3A2,2,0,0,0,14.44,11H19a1,1,0,0,1,.77.36A1,1,0,0,1,20,12.18Z'></path></svg>"),"Dislike"===a&&(s.style.display="none",r.style.display="block",p.style.color="red",p.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' style='margin-bottom:1px;margin-left:-1px' width='20' height='20' viewBox='0 0 24 24' fill='currentColor'><path d='M19,2H6.27A3,3,0,0,0,3.32,4.46l-1.27,7A3,3,0,0,0,5,15H9.56L9,16.43A4.13,4.13,0,0,0,12.89,22a1,1,0,0,0,.91-.59L16.65,15H19a3,3,0,0,0,3-3V5A3,3,0,0,0,19,2ZM15,13.79l-2.72,6.12a2.13,2.13,0,0,1-1.38-2.78l.53-1.43A2,2,0,0,0,9.56,13H5a1,1,0,0,1-.77-.36A1,1,0,0,1,4,11.82l1.27-7a1,1,0,0,1,1-.82H15ZM20,12a1,1,0,0,1-1,1H17V4h2a1,1,0,0,1,1,1Z'></path></svg>"),o}}]),e}(),wt=function(e){var t=e.dispatch;return function(e){return function(a){var n=a.cardAction,i=n.type,o=n.value;if("openUrl"!=i||!o.includes(":Webview"))return e(a);var s=o,r=s.indexOf(":Webview"),c=JSON.parse(s.substring(r+8)),l=s.substring(0,r);t({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/openWebView",value:{url:"".concat(l),title:c.title,mode:c.mode,largeWindowHideHeader:!1}}})}}};function Ct(e){var t=e.input,a=e.lang,o=Object(n.useState)(t),s=Object(x.a)(o,2),r=s[0],c=s[1],l=Object(n.useState)(!1),d=Object(x.a)(l,2),p=d[0],h=d[1];return Object(n.useEffect)((function(){fetch("https://chatapi.bookmebob.com/google-translate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({q:t,target:a})}).then((function(e){e.json().then((function(e){c(e.output)}))})),h(!0)}),[t]),i.a.createElement(n.Fragment,null,!0===p?S()(r):"")}a(484);var It=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleMouseEnter=function(){n.setState({hover:!0})},n.handleMouseLeave=function(){n.setState({hover:!1})},n.state={hover:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"herocard-button herocard-button-col",key:this.props.btn.title,style:Object(h.a)({backgroundColor:this.props.botSettings.colours.heroButtonBackground,color:this.props.botSettings.colours.heroButtonText},this.state.hover&&{backgroundColor:this.props.botSettings.colours.heroButtonBackgroundHover,color:this.props.botSettings.colours.heroButtonTextHover}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:function(){e.props.action(e.props.btn)}},this.props.btn.title)}}]),a}(n.Component),Tt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleMouseEnter=function(){n.setState({hover:!0})},n.handleMouseLeave=function(){n.setState({hover:!1})},n.state={hover:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"herocard-button herocard-button-row",key:this.props.btn.title,style:Object(h.a)({backgroundColor:this.props.botSettings.colours.heroButtonBackground,color:this.props.botSettings.colours.heroButtonText},this.state.hover&&{backgroundColor:this.props.botSettings.colours.heroButtonBackgroundHover,color:this.props.botSettings.colours.heroButtonTextHover}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:function(){e.props.action(e.props.btn)}},this.props.btn.title)}}]),a}(n.Component),xt=a(320)({html:!0,linkify:!0,typographer:!0}),At=xt.renderer.rules.link_open||function(e,t,a,n,i){return i.renderToken(e,t,a)};xt.renderer.rules.link_open=function(e,t,a,n,i){var o=e[t].attrIndex("target");return o<0?e[t].attrPush(["target","_blank"]):e[t].attrs[o][1]="_blank",At(e,t,a,n,i)};var Nt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={showmore:!1},n.action=n.action.bind(Object(g.a)(n)),n.showmore=n.showmore.bind(Object(g.a)(n)),n.showless=n.showless.bind(Object(g.a)(n)),n}return Object(m.a)(a,[{key:"showmore",value:function(){this.setState({showmore:!0})}},{key:"showless",value:function(){this.setState({showmore:!1})}},{key:"action",value:function(e){if("imBack"===e.type)this.props.api.sendActivity({type:"WEB_CHAT/SEND_MESSAGE",payload:{text:e.value}}),setTimeout((function(){null!==document.querySelector("ul.webchat__basic-transcript__transcript")&&document.querySelector("ul.webchat__basic-transcript__transcript").lastChild.scrollIntoView({behavior:"smooth",block:"start"})}),500);else if("openurl"===e.type.toLowerCase())if("openUrl"==e.type&&e.value.includes(":Webview"))if(e.value.includes("ServiceView"))this.props.servicePopup();else{this.props.addLinks(e.value);var t=e.value,a=t.indexOf(":Webview"),n=JSON.parse(t.substring(a+8)),i=t.substring(0,a);this.props.api.sendActivity({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/openWebView",value:{url:"".concat(i),title:n.title,mode:n.mode,largeWindowHideHeader:void 0!==n.largeWindowHideHeader&&n.largeWindowHideHeader}}})}else this.props.addLinks(e.value),window.parent?window.parent.postMessage("openUrl:".concat(e.value),"*"):window.location=e.value;else if("messageback"===e.type.toLowerCase()){var o=JSON.parse(e.value);if("availblity"===o.type){this.props.availblityForm(o);var s={GroupId:o.gid,PropertyId:o.pid,Button:o.clickButton,Creator:"api"};s.roomId=o.roomId,void 0!==o.id&&""!==o.id&&(s.SetId=o.id),fetch("https://chatapi.bookmebob.com/recommender-stats",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)})}else{"webView"===o.type?this.props.api.sendActivity({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/openWebView",value:{url:"".concat(o.url),title:"".concat(e.title),mode:"Normal",largeWindowHideHeader:!0}}}):"askaquestion"===o.type?(this.props.bookingApp.selectedPid=o.pid,this.forceUpdate(),localStorage.setItem(this.props.bookingApp.lStore.PROPERTYID,o.pid),localStorage.setItem(this.props.bookingApp.lStore.PROPERTYNAME,o.name),this.props.bookingApp.callbacks.getStore().dispatch({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/update",value:{pid:o.pid,pname:o.name}}})):(this.props.addLinks(o.url),window.parent?window.parent.postMessage("openUrl:".concat(o.url),"*"):window.location=o.url);var r={GroupId:o.gid,PropertyId:o.pid,Button:o.clickButton,Creator:"api"};o.productId?r.productId=o.productId:o.roomId?r.roomId=o.roomId:o.promoId?r.promoId=o.promoId:o.addonId&&(r.addonId=o.addonId),void 0!==o.id&&""!==o.id&&(r.SetId=o.id),fetch("https://chatapi.bookmebob.com/recommender-stats",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})}}}},{key:"render",value:function(){var e,t,a=this,n=this.props.herocard;n.images&&n.images.length>0&&(t=n.images[0].url);var o,s=null!==(e=n.webConfig)&&void 0!==e?e:{},r=JSON.parse(localStorage.getItem(this.props.iid+"-chatfeedback"));return null!==r&&(o=r.filter((function(e){return e.messageId===a.props.messageId}))[0]),i.a.createElement("div",{className:"herocard-container","data-activity-id":this.props.messageId,"data-con-id":this.props.conversationId,"data-feedback":void 0!==o&&o.feedback,"data-view-btn":this.props.replyToId,"data-msg-type":this.props.cardActivitiesSummary,"data-inzendesk":this.props.inZenDesk},t?i.a.createElement("img",{className:"herocard-image",src:t,alt:""}):"",n.title||n.text?i.a.createElement("div",{className:"herocard-text-area"},n.title?i.a.createElement("div",{className:"ac-textBlock herocard-title-text"},n.title):"",n.text?i.a.createElement("div",{className:"ac-textBlock"},!this.state.showmore&&(n.text.length>125?n.text.substring(0,125).split("\n").map((function(e,t){return i.a.createElement("span",{key:t},S()(xt.renderInline(e)),i.a.createElement("br",null))})):n.text.split("\n").map((function(e,t){return i.a.createElement("span",{key:t},S()(xt.renderInline(e)),i.a.createElement("br",null))}))),this.state.showmore&&n.text.split("\n").map((function(e,t){return i.a.createElement("span",{key:t},S()(xt.renderInline(e)),i.a.createElement("br",null))})),!this.state.showmore&&n.text.length>125&&i.a.createElement("div",{style:{textAlign:"right"}},i.a.createElement("a",{style:{textDecoration:"underline",cursor:"pointer",fontSize:"0.9em"},onClick:function(){a.showmore()}},"Show More")," "),this.state.showmore&&i.a.createElement("div",{style:{textAlign:"right"}},i.a.createElement("a",{style:{textDecoration:"underline",cursor:"pointer",fontSize:"0.9em"},onClick:function(){a.showless()}},"Show Less"))):""):"",n.buttons&&s.actionsRow?i.a.createElement("div",{className:"herocard-button-row-container"},n.buttons.map((function(e){return i.a.createElement(Tt,{btn:e,botSettings:a.props.botSettings,action:a.action})}))):"",n.buttons&&!s.actionsRow?i.a.createElement("div",{className:"herocard-button-col-container"},n.buttons.map((function(e,t){return i.a.createElement(It,{key:t,btn:e,botSettings:a.props.botSettings,action:a.action})}))):"")}}]),a}(n.Component),Ot=(a(2106),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={files:[],error:void 0,used:e.content.used},n.uploadRef=i.a.createRef(),n.selectFile=n.selectFile.bind(Object(g.a)(n)),n.filesChanged=n.filesChanged.bind(Object(g.a)(n)),n.uploadFiles=n.uploadFiles.bind(Object(g.a)(n)),n}return Object(m.a)(a,[{key:"selectFile",value:function(){this.uploadRef.current&&this.uploadRef.current.click()}},{key:"filesChanged",value:function(){var e,t=null===(e=this.uploadRef.current)||void 0===e?void 0:e.files;this.setState({files:t?Object.values(t):[]})}},{key:"uploadFiles",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:void 0}),t=[],a=this.state.files[0],(n=new FormData).append("file",a),e.next=7,fetch(this.props.content.uploadUrl,{method:"POST",body:n});case 7:if((i=e.sent).ok){e.next=11;break}return 422===i.status?this.setState({error:"File is too large or of wrong format."}):this.setState({error:"Unknown error."}),e.abrupt("return");case 11:return e.next=13,i.text();case 13:o=e.sent.replaceAll('"',""),t.push({contentType:"ako/file-upload-response",content:{uploadId:o}}),this.props.api.sendActivity({type:"DIRECT_LINE/POST_ACTIVITY",payload:{activity:{type:"event",name:"ako/file-upload-response",value:o}},meta:{}}),this.setState({files:[],used:!0});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=null!==(e=this.props.content)&&void 0!==e?e:{},n=a.allowMultiple,o=null!==(t=a.accept)&&void 0!==t?t:"",s=this.state,r=s.files,c=s.error,l=s.used;return i.a.createElement("div",{className:"upload-container"},l?i.a.createElement("i",null," File Uploaded "):i.a.createElement("div",{className:"btn btn-outline-secondary w-100",onClick:this.selectFile},n?"Select Files":"Select File"),i.a.createElement("input",{type:"file",className:"file-upload-hidden",onChange:this.filesChanged,ref:this.uploadRef,accept:o,multiple:n}),c?i.a.createElement("div",{class:"file-upload-error"}," ",c," "):"",r.length>0?i.a.createElement("div",null,i.a.createElement("div",{className:"w-100 mt-3 mb-2"},r.length," file(s) selected:",r.map((function(e){return i.a.createElement("div",{key:e.name}," ",e.name," ")}))),i.a.createElement("div",{className:"btn btn-outline-success w-100",onClick:this.uploadFiles},"Upload")):"")}}]),a}(n.Component)),Lt=a(320)({html:!0,linkify:!0,typographer:!0}),Mt=Lt.renderer.rules.link_open||function(e,t,a,n,i){return i.renderToken(e,t,a)};function jt(e){var t,a=e.content,o=e.messageId,s=e.conversationId,r=e.iid,c=e.replyToId,l=e.cardActivitiesSummary,d=e.inZenDesk,p=JSON.parse(localStorage.getItem(r+"-chatfeedback"));return null!==p&&(t=p.filter((function(e){return e.messageId===o}))[0]),i.a.createElement("div",{className:"markdown","data-activity-id":o,"text-len":a.length,"data-con-id":s,width:a.length>50?"true":"false","data-feedback":void 0!==t&&t.feedback,"data-view-btn":c,"data-msg-type":l,"data-inzendesk":d},void 0!==a&&null!==a&&a.split("\n").map((function(e,t){return""!==e&&i.a.createElement(n.Fragment,{key:t},S()(Lt.render(e)))})))}Lt.renderer.rules.link_open=function(e,t,a,n,i){var o=e[t].attrIndex("target");return o<0?e[t].attrPush(["target","_blank"]):e[t].attrs[o][1]="_blank",Mt(e,t,a,n,i)};a(2107);function Dt(e){e.card;var t,a=e.content,n=e.messageId,o=e.conversationId,s=e.iid,r=e.replyToId,c=e.cardActivitiesSummary,l=e.inZenDesk,d=JSON.parse(localStorage.getItem(s+"-chatfeedback"));return null!==d&&(t=d.filter((function(e){return e.messageId===n}))[0]),i.a.createElement("div",{className:"videocard-container","data-activity-id":n,"data-con-id":o,"data-feedback":void 0!==t&&t.feedback,"data-view-btn":r,"data-msg-type":c,"data-inzendesk":l},i.a.createElement("ul",{className:"media-list"},i.a.createElement("li",null,i.a.createElement("iframe",{className:"videocard-iframe",allowFullScreen:"allowfullscreen",src:a.media[0].url.toString().replace("https://www.youtube.com/watch?v=","https://www.youtube.com/embed/").replace("https://vimeo.com/","https://player.vimeo.com/video/")}))),void 0!==a.title&&i.a.createElement("div",{className:"videocard-text-area"},i.a.createElement("div",{className:"ac-textBlock videocard-title-text"},a.title)))}var Bt=function(e,t,a,n,o,s,r,c,l,d){return function(){return function(p){return function(h){switch(h.attachment.contentType){case"application/vnd.microsoft.card.hero":return i.a.createElement(Nt,{herocard:h.attachment.content,replyToId:h.activity.replyToId,iid:o,conversationId:h.activity.conversation.id,messageId:h.activity.id,addLinks:s,gid:n,api:e,directLine:a,botSettings:t,availblityForm:r,servicePopup:c,cardActivitiesSummary:void 0!==h.activity&&void 0!==h.activity.summary?h.activity.summary:"",inZenDesk:l,bookingApp:d});case"ako/file-upload-prompt":return i.a.createElement(Ot,{content:h.attachment.content,api:e});case"text/markdown":return i.a.createElement(jt,{content:h.attachment.content,iid:o,replyToId:h.activity.replyToId,conversationId:h.activity.conversation.id,messageId:h.activity.id,cardActivitiesSummary:void 0!==h.activity&&void 0!==h.activity.summary?h.activity.summary:"",inZenDesk:l});case"application/vnd.microsoft.card.video":return i.a.createElement(Dt,{card:h,content:h.attachment.content,iid:o,replyToId:h.activity.replyToId,conversationId:h.activity.conversation.id,messageId:h.activity.id,cardActivitiesSummary:void 0!==h.activity&&void 0!==h.activity.summary?h.activity.summary:"",inZenDesk:l});default:return p(h)}}}}},Ht=(a(2108),a(1051)),Pt=a(69),Rt=a.n(Pt),zt=a(2430),Vt=a(2431),Wt=a(2433),Gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ut=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleAdultsChange=function(e){n.setState({adults:e.target.value})},n.handleChildrenChange=function(e){if(n.setState({children:e.target.value}),n.props.data.bookingEngineUrl.includes("{CHILDREN_AGE}")){var t=parseInt(e.target.value),a=Object(I.a)(n.state.children_age);if(a.length>t){for(var i=[],o=0;o<t;o++)i.push(a[o]);a=i}else for(o=a.length;o<t;o++)a.push(Object(d.a)({id:o+1},"children_age_"+(o+1),""));n.setState({children_age:a})}},n.handlePromoCodeChange=function(e){n.setState({promoCode:e.target.value})},n.handleAdultsChange=n.handleAdultsChange.bind(Object(g.a)(n)),n.handleChildrenChange=n.handleChildrenChange.bind(Object(g.a)(n)),n.submit=n.submit.bind(Object(g.a)(n)),n.setSelectedDayRange=n.setSelectedDayRange.bind(Object(g.a)(n)),n.calculateNights=n.calculateNights.bind(Object(g.a)(n)),n.handleChangeChildrenAge=n.handleChangeChildrenAge.bind(Object(g.a)(n)),n.handlePromoCodeChange=n.handlePromoCodeChange.bind(Object(g.a)(n)),n.state={active:n.props.open_availblity_popup,minimumDate:{year:Rt()().add(1,"days").year(),month:Rt()().add(1,"days").month()+1,day:Rt()().add(1,"days").date()},selectedDayRange:{from:{year:Rt()().add(15,"days").year(),month:Rt()().add(15,"days").month()+1,day:Rt()().add(15,"days").date()},to:{year:Rt()().add(17,"days").year(),month:Rt()().add(17,"days").month()+1,day:Rt()().add(17,"days").date()}},adults:2,children:0,nights:0,children_age:[],promoCode:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.selectedDayRange.from.year+"-"+this.state.selectedDayRange.from.month+"-"+this.state.selectedDayRange.from.day,t=this.state.selectedDayRange.to.year+"-"+this.state.selectedDayRange.to.month+"-"+this.state.selectedDayRange.to.day,a=Rt()(e).format(this.props.data.dateFormat),n=Rt()(t).format(this.props.data.dateFormat),i=this.calculateNights(a,n);this.setState({nights:i})}},{key:"handleChangeChildrenAge",value:function(e,t){var a=Object(I.a)(this.state.children_age);a=this.state.children_age.map((function(a){return a.id===t?Object(h.a)(Object(h.a)({},a),{},Object(d.a)({},e.target.name,e.target.value)):Object(h.a)({},a)})),this.setState({children_age:a})}},{key:"setSelectedDayRange",value:function(e){this.setState({selectedDayRange:e});var t=0;if(null!==e.from&&null!==e.to){var a=e.from.year+"-"+e.from.month+"-"+e.from.day,n=e.to.year+"-"+e.to.month+"-"+e.to.day,i=Rt()(a).format(this.props.data.dateFormat),o=Rt()(n).format(this.props.data.dateFormat);t=this.calculateNights(i,o)}this.setState({nights:t})}},{key:"calculateNights",value:function(e,t){for(var a=new Date(e),n=new Date(t),i=0;n>a;)i++,a.setDate(a.getDate()+1);return i}},{key:"submit",value:function(){var e=this.props.data,t=this.state.selectedDayRange.from.year+"-"+this.state.selectedDayRange.from.month+"-"+this.state.selectedDayRange.from.day,a=this.state.selectedDayRange.to.year+"-"+this.state.selectedDayRange.to.month+"-"+this.state.selectedDayRange.to.day,n=Rt()(t).format(e.dateFormat),i=Rt()(a).format(e.dateFormat),o="",s=this.state.children_age;s.length>0&&s.map((function(e,t){""!==e["children_age_"+(t+1)]&&0!==t&&(o+="-"),o+=e["children_age_"+(t+1)]}));var r=e.bookingEngineUrl;0===this.state.children&&r.includes("{ADULTS}-{CHILDREN_AGE}")&&(r=r.replace("{ADULTS}-{CHILDREN_AGE}","{ADULTS}{CHILDREN_AGE}")),r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace("{CHECK_IN}",n)).replace("{CHECK_OUT}",i)).replace("{ADULTS}",this.state.adults)).replace("{CHILDREN}",this.state.children)).replace("{LANGUAGE}",this.props.lang)).replace("{ROOM_TYPE}",e.roomBookingEngineCode)).replace("{NIGHTS}",this.state.nights)).replace("{CHILDREN_AGE}",o)).replace("{PROMO_CODE}",this.state.promoCode);var c={groupId:this.props.data.gid,propertyId:this.props.data.pid,checkInDate:t,checkOutDate:a,nights:this.state.nights,adults:this.state.adults,childrens:this.state.children,creator:"webview",promoCode:this.state.promoCode},l="Customer referred to the booking page for dates";l+=" "+Gt[this.state.selectedDayRange.from.month-1]+" "+this.state.selectedDayRange.from.day+", "+this.state.selectedDayRange.from.year+" to "+Gt[this.state.selectedDayRange.to.month-1]+" "+this.state.selectedDayRange.to.day+", "+this.state.selectedDayRange.to.year,0!==this.state.adults&&(l+=", for "+this.state.adults+" adults"),0!==this.state.children&&(l+=" and "+this.state.children+" children"),this.props.api.sendActivity({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/booking",value:{msg:"".concat(l)}}}),fetch("".concat("https://chatapi.bookmebob.com/booking-engine-data"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}),this.props.addLinks(r),this.props.closeAvailblityForm(),window.parent?window.parent.postMessage("openUrl:"+r,"*"):window.location=r}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"chat_box_popup_new"},i.a.createElement("div",{className:"endchat_popup area"},i.a.createElement("h1",{className:"availablityh1"},"",i.a.createElement(N,{id:"check.availabity"}),""),i.a.createElement(zt.a,null,i.a.createElement(Vt.a,{xs:12},i.a.createElement(Ht.Calendar,{value:this.state.selectedDayRange,minimumDate:this.state.minimumDate,onChange:this.setSelectedDayRange,style:{height:"32.7em"}}))),i.a.createElement(zt.a,{className:"mt-3"},i.a.createElement(Vt.a,{xs:6,style:{margin:"0"}},i.a.createElement(ut.a,null,i.a.createElement(Wt.a,null,i.a.createElement(N,{id:"check.availabity.adults"})),i.a.createElement(mt.a,{type:"select",name:"adults",value:this.state.adults,onChange:this.handleAdultsChange},i.a.createElement("option",null,"1"),i.a.createElement("option",null,"2"),i.a.createElement("option",null,"3"),i.a.createElement("option",null,"4"),i.a.createElement("option",null,"5"),i.a.createElement("option",null,"6")))),i.a.createElement(Vt.a,{xs:6,style:{margin:"0"}},i.a.createElement(ut.a,null,i.a.createElement(Wt.a,null,i.a.createElement(N,{id:"check.availabity.children"})),i.a.createElement(mt.a,{type:"select",name:"children",value:this.state.children,onChange:this.handleChildrenChange},i.a.createElement("option",null,"0"),i.a.createElement("option",null,"1"),i.a.createElement("option",null,"2"),i.a.createElement("option",null,"3"),i.a.createElement("option",null,"4"),i.a.createElement("option",null,"5"),i.a.createElement("option",null,"6")))),this.state.children_age.length>0&&this.state.children_age.map((function(t,a){return i.a.createElement(Vt.a,{xs:4,style:{margin:"0"},key:a},i.a.createElement(ut.a,null,i.a.createElement(Wt.a,null,i.a.createElement(N,{id:"check.availabity.child.age"})," ",a+1),i.a.createElement(mt.a,{type:"select",name:"children_age_"+(a+1),value:t[a],onChange:function(a){return e.handleChangeChildrenAge(a,t.id)}},i.a.createElement("option",null,"0"),i.a.createElement("option",null,"1"),i.a.createElement("option",null,"2"),i.a.createElement("option",null,"3"),i.a.createElement("option",null,"4"),i.a.createElement("option",null,"5"),i.a.createElement("option",null,"6"),i.a.createElement("option",null,"7"),i.a.createElement("option",null,"8"),i.a.createElement("option",null,"9"),i.a.createElement("option",null,"10"),i.a.createElement("option",null,"11"),i.a.createElement("option",null,"12"))))}))),this.props.data.bookingEngineUrl.includes("{PROMO_CODE}")&&i.a.createElement(zt.a,null,i.a.createElement(Vt.a,{xs:12,style:{margin:"0"},className:"mb-3"},i.a.createElement(mt.a,{type:"text",value:this.state.promoCode,placeholder:"Promo Code",onChange:this.handlePromoCodeChange}))),i.a.createElement("button",{className:"availablity_button",onClick:this.submit},"",i.a.createElement(N,{id:"check.availabity"}),""),i.a.createElement("button",{className:"cancelchat_button",onClick:this.props.closeAvailblityForm},"",i.a.createElement(N,{id:"check.availabity.cancel"}),"")))}}]),a}(n.Component);a(2109);function Ft(e){var t=e.mobile,a=e.open_service_popup,o=e.close_serivce_popup,s=e.pid,r=e.gid,c=e.conversation_id,l=Object(n.useState)([]),d=Object(x.a)(l,2),p=d[0],h=d[1];Object(n.useEffect)((function(){fetch("https://chatapi.bookmebob.com/searchallservice?propertyId="+s+"&languageCode=en",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){var t=e.result.filter((function(e){return"Active"===e.status}));h(t)}))}))}),[s]);var u=function(e){var a,n="".concat("https://services.bookmebob.com/serviceview","?gid=").concat(r,"&pid=").concat(s,"&sid=").concat(e,"&conversation_id=").concat(c,"&mobile=").concat(t,"&open=0&custom=1");a="openServiceView:"+JSON.stringify(n),window.parent&&window.parent.postMessage(a,"*")};return i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"service_view_popup"},i.a.createElement("div",{className:"service_popup ".concat(""," ").concat(a?"area":"closepop")},i.a.createElement("div",{className:"true"==t?"service_popup_header chat_header_mobile":"service_popup_header",style:{backgroundColor:"white"}},i.a.createElement("div",{className:"service_header_icon",onClick:o},i.a.createElement("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",preserveAspectRatio:"xMidYMid meet"},i.a.createElement("g",{transform:"translate(0.000000,1060.000000) scale(0.100000,-0.100000)",stroke:"none"},i.a.createElement("path",{d:"M6216 10184 c-145 -35 15 118 -2514 -2408 -1712 -1711 -2337 -2342 -2352 -2373 -25 -52 -26 -145 -4 -199 11 -29 364 -387 1352 -1377 2312 -2315 3350 -3340 3409 -3371 202 -102 450 -61 612 101 38 38 80 91 94 118 79 157 79 331 0 490 -20 40 -437 463 -2066 2093 l-2042 2042 2036 2038 c1368 1368 2046 2053 2064 2085 93 162 88 377 -13 533 -121 187 -357 281 -576 228z"}))))),i.a.createElement("div",{className:"service_popup_body"},i.a.createElement("p",{className:"text-left"},"Hi there, Here's some personality curated options for you."),i.a.createElement("div",{className:"popup_services ".concat("true"==t?"popup_items_mobile":"popup_items"," mt-4")},0===p.length?i.a.createElement("div",{id:"spinner",className:"container",style:{height:"60vh"}},i.a.createElement("div",{className:"loading"})):p.map((function(e,t){return i.a.createElement("div",{className:"service_item",key:t,onClick:function(){return u(e.id)}},i.a.createElement("div",{className:"service_item_image",style:{backgroundImage:""!==e.imageLink?"url("+e.imageLink+")":"",backgroundPosition:"center",backgroundSize:"cover"}},""===e.imageLink&&i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"green",width:"25px",height:"25px",viewBox:"0 0 512 512"},i.a.createElement("path",{d:"M190.5 68.8L225.3 128H224 152c-22.1 0-40-17.9-40-40s17.9-40 40-40h2.2c14.9 0 28.8 7.9 36.3 20.8zM64 88c0 14.4 3.5 28 9.6 40H32c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H480c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32H438.4c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88h-2.2c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41C215.7 16.9 186.1 0 154.2 0H152C103.4 0 64 39.4 64 88zm336 0c0 22.1-17.9 40-40 40H288h-1.3l34.8-59.2C329.1 55.9 342.9 48 357.8 48H360c22.1 0 40 17.9 40 40zM32 288V464c0 26.5 21.5 48 48 48H224V288H32zM288 512H432c26.5 0 48-21.5 48-48V288H288V512z"}))),i.a.createElement("div",{className:"service_item_text"},i.a.createElement("p",{className:"mb-1"},e.title)))}))),i.a.createElement("div",{className:"service_popup_footer d-none"},i.a.createElement("div",{className:"service_social_media_icon"},i.a.createElement("button",null,i.a.createElement("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 360.000000 363.000000",preserveAspectRatio:"xMidYMid meet"},i.a.createElement("g",{transform:"translate(0.000000,363.000000) scale(0.100000,-0.100000)",stroke:"none"},i.a.createElement("path",{d:"M1578 3595 c-542 -74 -1042 -431 -1297 -925 -260 -506 -266 -1074 -15 -1587 l65 -132 -156 -462 c-85 -254 -154 -464 -152 -466 2 -2 219 66 482 150 l479 154 101 -48 c569 -272 1251 -211 1769 160 116 82 286 250 376 369 233 311 350 664 350 1055 -1 280 -50 501 -170 754 -250 527 -753 896 -1333 978 -124 18 -368 18 -499 0z m544 -305 c482 -102 882 -436 1062 -888 284 -712 -29 -1518 -719 -1852 -207 -100 -397 -143 -630 -144 -251 0 -426 43 -662 160 l-151 75 -268 -85 c-148 -47 -271 -86 -276 -86 -4 0 34 120 84 268 l91 267 -48 74 c-295 456 -305 1051 -25 1524 133 226 361 441 592 558 138 70 321 127 473 148 109 15 364 5 477 -19z"}),i.a.createElement("path",{d:"M1185 2707 c-43 -20 -138 -124 -169 -185 -59 -117 -72 -259 -35 -392 76 -279 406 -707 689 -895 136 -91 371 -194 536 -235 74 -19 93 -20 155 -11 124 20 233 74 303 151 63 70 100 246 59 282 -24 20 -328 181 -374 198 -51 18 -79 8 -121 -47 -75 -96 -144 -163 -169 -163 -32 0 -185 78 -265 136 -97 69 -187 157 -259 253 -69 91 -125 188 -125 216 0 9 28 48 63 86 62 70 96 121 97 148 0 15 -134 379 -155 421 -18 35 -25 37 -121 44 -57 5 -87 3 -109 -7z"}))),"Whatsapp"),i.a.createElement("button",null," ",i.a.createElement("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 600.000000 600.000000",preserveAspectRatio:"xMidYMid meet"},i.a.createElement("g",{transform:"translate(0.000000,600.000000) scale(0.100000,-0.100000)",stroke:"none"},i.a.createElement("path",{d:"M2715 5889 c-410 -38 -849 -171 -1190 -360 -243 -136 -427 -272 -624 -464 -437 -424 -696 -931 -783 -1530 -17 -117 -17 -532 0 -640 78 -488 227 -846 510 -1224 96 -129 343 -383 467 -481 l80 -63 5 -512 5 -511 490 268 489 269 111 -25 c728 -168 1454 -85 2105 240 287 144 519 311 746 538 417 419 663 904 751 1483 23 155 23 518 0 678 -86 588 -360 1112 -803 1534 -448 427 -1020 696 -1670 786 -141 20 -541 28 -689 14z m110 -2061 c72 -73 186 -191 255 -263 68 -71 180 -187 248 -257 l124 -127 652 361 c358 198 676 374 706 391 l55 30 -41 -44 c-663 -708 -1533 -1629 -1539 -1629 -1 0 -166 174 -366 388 -199 213 -366 388 -369 390 -3 1 -287 -151 -631 -339 -343 -188 -662 -362 -709 -387 l-85 -46 35 42 c49 58 1524 1622 1530 1622 3 0 64 -60 135 -132z"}))),"Messenger")))))))}function Zt(e){e.data;var t=e.setZchatFeedback,a=Object(n.useState)({rate:"",comments:"",status:""}),o=Object(x.a)(a,2),s=o[0],r=o[1],c=Object(n.useState)({like:"",dislike:""}),l=Object(x.a)(c,2),d=l[0],p=l[1];return i.a.createElement("div",{className:"chat_box_popup_new"},i.a.createElement("div",{className:"feedback_popup"},i.a.createElement("h1",null,"Please rate this chat"),i.a.createElement("div",{className:"feedback_body_popup"},i.a.createElement("button",{className:"btn_like",style:{color:d.like},onClick:function(){return r(Object(h.a)(Object(h.a)({},s),{},{rate:"good"})),void p({like:"green",dislike:""})}},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},i.a.createElement("path",{d:"M21.3,10.08A3,3,0,0,0,19,9H14.44L15,7.57A4.13,4.13,0,0,0,11.11,2a1,1,0,0,0-.91.59L7.35,9H5a3,3,0,0,0-3,3v7a3,3,0,0,0,3,3H17.73a3,3,0,0,0,2.95-2.46l1.27-7A3,3,0,0,0,21.3,10.08ZM7,20H5a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1H7Zm13-7.82-1.27,7a1,1,0,0,1-1,.82H9V10.21l2.72-6.12A2.11,2.11,0,0,1,13.1,6.87L12.57,8.3A2,2,0,0,0,14.44,11H19a1,1,0,0,1,.77.36A1,1,0,0,1,20,12.18Z"}))),i.a.createElement("button",{className:"btn_dislike",style:{color:d.dislike},onClick:function(){return r(Object(h.a)(Object(h.a)({},s),{},{rate:"bad"})),void p({dislike:"red",like:""})}},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},i.a.createElement("path",{d:"M19,2H6.27A3,3,0,0,0,3.32,4.46l-1.27,7A3,3,0,0,0,5,15H9.56L9,16.43A4.13,4.13,0,0,0,12.89,22a1,1,0,0,0,.91-.59L16.65,15H19a3,3,0,0,0,3-3V5A3,3,0,0,0,19,2ZM15,13.79l-2.72,6.12a2.13,2.13,0,0,1-1.38-2.78l.53-1.43A2,2,0,0,0,9.56,13H5a1,1,0,0,1-.77-.36A1,1,0,0,1,4,11.82l1.27-7a1,1,0,0,1,1-.82H15ZM20,12a1,1,0,0,1-1,1H17V4h2a1,1,0,0,1,1,1Z"}))),i.a.createElement("br",null),i.a.createElement("div",{className:"feedback_input_area"},i.a.createElement("label",null,"Leave a comment(optional)"),i.a.createElement("textarea",{className:"feedback_input",onChange:function(e){return r(Object(h.a)(Object(h.a)({},s),{},{comments:e.target.value}))}})),i.a.createElement("button",{className:"feedback_button",id:"feedback_button",onClick:function(){return function(){var e=Object(h.a)({},s);e.status="send",t(e)}()}},"Send"),i.a.createElement("button",{className:"cancelchat_button",onClick:function(){return function(){var e=Object(h.a)({},s);e.status="skip",t(e)}()}},"Skip"))))}a(2110);var Yt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).state={searchTerm:"",bottomMargin:0,filteredSuggestions:[],maximised:!1},n.onSuggestionClicked.bind(Object(g.a)(n)),n.findInputTimerId=setInterval((function(){var e=document.getElementById("chat_box");if(e){var t=e.querySelectorAll("input"),a=e.querySelectorAll("[role='form']");t.length<1||a.length<1||(n.setState({bottomMargin:a[0].clientHeight}),n.updateSuggestions(),clearInterval(n.findInputTimerId))}}),50),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.suggestions&&e.suggestions!==this.props.suggestions&&this.updateSuggestions()}},{key:"updateSuggestions",value:function(){this.setState({maximised:this.props.suggestions.length>0,filteredSuggestions:this.props.suggestions})}},{key:"onSuggestionClicked",value:function(e){this.props.api.sendActivity({type:"WEB_CHAT/SEND_MESSAGE",payload:{text:e}}),this.props.api.sendActivity({type:"WEB_CHAT/SET_SEND_BOX",payload:{text:""}}),this.setState({maximised:!this.state.maximised})}},{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("chat_box");null!==t&&void 0!==t&&document.addEventListener("click",(function(a){!0===e.state.maximised&&(t.contains(a.target)&&e.setState({maximised:!1}))}))}},{key:"render",value:function(){var e=this,t=this.props.styling;return i.a.createElement(n.Fragment,null,this.state.maximised&&this.state.filteredSuggestions.length>0?i.a.createElement(n.Fragment,null,i.a.createElement("div",{className:"chat_auto_suggestion_container",style:{height:"calc(79% - 38px)"}},i.a.createElement("div",{className:"chat_auto_suggestion_results"},i.a.createElement("div",{className:"chat_auto_suggestion_header"},i.a.createElement("div",null," ",i.a.createElement("img",{src:"https://bmbuiassetsprod.blob.core.windows.net/images/minimizeresults.png"})," "),i.a.createElement("span",null," Suggestions ")),this.state.filteredSuggestions.map((function(a){return i.a.createElement("div",{className:"chat_auto_suggestion_item",key:a.response,onClick:function(){e.onSuggestionClicked(a.response)}},i.a.createElement("div",{className:"chat_auto_suggestion_item_inner"},i.a.createElement("div",{className:"chat_auto_suggestion_item_select_box",style:{backgroundColor:t.colours.header,border:"solid 1px ".concat(t.colours.headerText)}}," "),i.a.createElement("div",{className:"chat_auto_suggestion_item_text"}," ",a.response," ")))})))),i.a.createElement("div",{className:"chat_auto_suggestion_header_minimise",style:{borderColor:t.colours.header,bottom:"48px"},onClick:function(){e.setState({maximised:!e.state.maximised})}},this.state.maximised?"Hide":"")):"")}}]),a}(n.Component),qt={backgroundColor:"#e9eef4",bubbleBorderRadius:8,bubbleTextColor:"#353f48",bubbleBackground:"#fff",bubbleFromUserBorderRadius:8,bubbleFromUserBackground:"#dfcf92",bubbleFromUserTextColor:"#353f48",sendBoxTextColor:"#000",sendBoxBorderTop:"solid 1px #fff",sendBoxBorderBottom:"",sendBoxButtonColor:"#767676",sendBoxButtonColorOnFocus:"#333",sendBoxButtonColorOnHover:"#333",sendBoxPlaceholderColor:"#767676",paddingWide:20,hideUploadButton:!0,timestampColor:"#767676",sendBoxBackground:"#fff",bubbleBorderColor:"#E6E6E6",bubbleFromUserBorderColor:"#E6E6E6",suggestedActionLayout:"stacked",suggestedActionHeight:30,suggestedActionBorderRadius:"50vh",suggestedActionBorderWidth:0,suggestedActionBackground:"#fff",suggestedActionTextColor:"#353f48"},Jt=[{id:"en",name:"English",desc:"English",code:"en",locale:"en"},{id:"hi",name:"Hindi",desc:"\u0939\u093f\u0902\u0926\u0940",code:"hi",locale:"hi"},{id:"id",name:"Indonesian",desc:"bahasa Indonesia",code:"id",locale:"id"},{id:"es",name:"Spanish",desc:"Espa\xf1ol",code:"es",locale:"es"},{id:"fr",name:"French",desc:"fran\xe7ais",code:"fr",locale:"fr"},{id:"de",name:"German",desc:"Deutsche",code:"de",locale:"de"},{id:"zh",name:"Chinese",desc:"\u7b80\u4f53\u4e2d\u6587",code:"ZH-\u7c21",locale:"zh"},{id:"vi",name:"Vietnamese",desc:"Ti\u1ebfng Vi\u1ec7t",code:"vi",locale:"vi"},{id:"th",name:"Thai",desc:"\u0e44\u0e17\u0e22",code:"th",locale:"th"},{id:"ja",name:"Japanese",desc:"\u65e5\u672c\u8a9e",code:"ja",locale:"ja"},{id:"zh-TW",name:"Chinese (Traditional)",desc:"\u7e41\u9ad4\u4e2d\u6587",code:"ZH-\u7e41",locale:"hk"},{id:"tl",name:"Tagalog (Filipino)",desc:"Tagalog (Filipino)",code:"tl",locale:"tl"},{id:"af",name:"Afrikaans",desc:"Afrikaans",code:"af",locale:"af"},{id:"ko",name:"Korean",desc:"\ud55c\uad6d\uc5b4",code:"ko",locale:"ko"},{id:"mi",name:"Maori",desc:"Maori",code:"mi",locale:"mi"},{id:"ar",name:"Arabic",desc:"\u0639\u0631\u0628\u064a",code:"ar",locale:"ar"},{id:"ru",name:"Russian",desc:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru",locale:"ru"},{id:"fi",name:"Finnish",desc:"Suomalainen",code:"fi",locale:"fi"}],Kt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleVisitorEmailChange=function(e){n.setState({email:e.target.value})},n.handleVisitorNameChange=function(e){n.setState({name:e.target.value})},n.handleVisitorPhoneNumerChange=function(e){for(var t=!0,a=e.target.value.split(""),i=0;i<a.length;i++){var o=a[i];t=((o=o.charCodeAt(0))>=48||45===o||40===o||41===o)&&(o<=57||45===o||40===o||41===o)}t&&n.setState({phoneNumber:e.target.value})},n.handleVisitorCheckBoxChange=function(e){n.setState({consentGiven:e.target.checked})},n.hadleVisitorFirstNameChange=function(e){n.setState({firstName:e.target.value})},n.hadleVisitorLastNameChange=function(e){n.setState({lastName:e.target.value})},n.hadleVisitorZipCodeChange=function(e){n.setState({zipCode:e.target.value})},n.handleChangeLanguage=function(e){var t=Jt.find((function(t){return t.id===e}));if(t&&n.setState({language:t.id,languageCode:t.code,langLocale:t.locale}),localStorage.setItem(n.props.language_state_store,t.id),n.props.bookingApp.callbacks.getStore().dispatch({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/lang-update",value:{lang:e}}}),n.props.persistentMenu.filter((function(t){return t.locale.includes(e)})).length>0){var a=n.props.persistentMenu.filter((function(t){return t.locale.includes(e)}));n.setState({persistentMenuData:a})}else{var i=n.props.persistentMenu.filter((function(e){return e.locale.includes("default")})),o=[];i[0].callToActions.map((function(t){var a=t.title;if(""!==a){if("en"===e)o.push({title:t.title,type:t.type,payLoad:t.payLoad,url:t.url});else if("select_property"!==t.payLoad&&"switch_language"!==t.payLoad&&"restart"!==t.payLoad&&"hidebot"!==t.payLoad)fetch("https://chatapi.bookmebob.com/google-translate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({q:a,target:e})}).then((function(e){e.json().then((function(e){o.push({title:e.output,type:t.type,payLoad:t.payLoad,url:t.url})}))}));else o.push({title:t.title,type:t.type,payLoad:t.payLoad,url:t.url});n.setState({persistentMenuData:[{locale:e,callToActions:o}]})}}))}n.close_language_popup()},n.handleMenuClick=function(e){"postback"===e.itemType?"switch_language"===e.items.payLoad?n.setState({open_language_popup:!0}):"select_property"===e.items.payLoad?n.setState({open_property_popup:!0}):"restart"===e.items.payLoad?n.end_clicked():"hidebot"===e.items.payLoad?n.hide_bot_confirm():n.props.bookingApp.callbacks.getStore().dispatch({type:"WEB_CHAT/SEND_MESSAGE",payload:{text:e.items.payLoad}}):(n.addLinks(e.items.url),window.parent?window.parent.postMessage("openUrl:"+e.items.url,"*"):window.location=e.items.url)},n.handleCancelFeedbackResponse=function(){n.setState({leaveFeedbackMessage:""}),document.getElementById("feedback_popup").style.display="none"},n.handleFeedBackResponse=function(e){var t=document.getElementById("feedback_button");if(null!==t&&void 0!==t.value){document.getElementById("feedback_popup_body").classList.remove("area"),document.getElementById("feedback_popup_body").classList.add("closepop"),document.getElementById("feedback_popup").style.display="none";var a={groupId:n.props.gid,messageId:t.value,leaveMessage:n.state.leaveFeedbackMessage};try{fetch("".concat("https://chatapi.bookmebob.com/save-leavefeedback"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)})}catch(i){}n.setState({leaveFeedbackMessage:""})}},n.GetServiceAvailable=function(e){var t="";void 0!==localStorage.getItem(e)&&null!==localStorage.getItem(e)&&(t=localStorage.getItem(e)),""!==t?fetch("https://chatapi.bookmebob.com/searchallservice?propertyId="+t+"&languageCode=en").then((function(e){return e.json()})).then((function(e){e.result.length>0?n.setState({isServiceAvailable:!0}):n.setState({isServiceAvailable:!1})})):n.setState({isServiceAvailable:!1})},n.props.bookingApp.callbacks.close=function(){n.props.bookingApp.open=!1,n.forceUpdate()},n.props.setBubbleToShrinkIn(),localStorage.setItem(n.props.language_state_store,n.props.lang),n.state={ask_close:!1,menu_open:!1,ask_bot_hide:!1,language:n.props.lang,languageCode:"",langLocale:"",visitorPopupState:!0,name:"",email:"",phoneNumber:"",firstName:"",lastName:"",zipCode:"",consentGiven:!1,languageOptions:Jt.sort(n.dynamicSort("name")),persistentMenuData:[],open_language_popup:!1,open_property_popup:!1,open_availblity_popup:!1,open_service_popup:!1,open_ZChatfeedback_popup:!1,bubble_type:"",availblityData:null,zChatfeedbackData:null,isServiceAvailable:!1,isButtonDisable:!1,leaveFeedbackMessage:"",endChat:!1},n.state.confirm_cookies="yes"!==localStorage.getItem(n.props.cookies_state_store),n.hide_bot_confirm=function(){n.setState({ask_bot_hide:!1}),n.props.hideBot()},n.close_bot_ask_hide=function(){n.setState({ask_bot_hide:!1}),n.props.onClosed()},n.end_clicked=function(){n.setState({ask_close:!0}),n.setState({menu_open:!1}),!0===n.props.messenger&&n.props.bot_restartClick()},n.menu_popup_open=function(){n.setState({menu_open:!0}),n.setState({ask_close:!1})},n.menu_popup_Close=function(){n.setState({menu_open:!1})},n.close_confirmed=function(){n.props.inZenDesk?n.setState({ask_close:!1,open_ZChatfeedback_popup:!0,endChat:!0}):(n.setState({ask_close:!1}),n.props.endClicked())},n.close_language_popup=function(){n.setState({open_language_popup:!1})},n.open_language_popup=function(){n.setState({open_language_popup:!0})},n.close_property_popup=function(){n.setState({open_property_popup:!1})},n.close_service_popup=function(){n.setState({open_service_popup:!1})},n.OpenServicePopUp=function(){n.setState({open_service_popup:!0})},n.popupclose_confirmed=function(){n.setState({ask_close:!1}),n.props.closeClicked()},n.refresh=function(){n.props.refreshClicked()},n.close_cancel=function(){n.setState({ask_close:!1})},n.close_clicked=function(){n.setState({ask_bot_hide:!0})},n.close_cardapp=function(){n.setState({card_app:void 0})},n.close_roomapp=function(){n.setState({room_app:void 0})},n.cookies_understood=function(){localStorage.setItem(n.props.cookies_state_store,"yes"),n.setState({confirm_cookies:!1})},n.availblityForm=function(e){n.setState({open_availblity_popup:!0,availblityData:e})},n.closeAvailblityForm=function(){n.setState({open_availblity_popup:!1}),n.props.setAvailblity(void 0)},n.setZchatFeedback=function(e){n.setState({open_ZChatfeedback_popup:!1,zChatfeedbackData:e}),n.props.sendFeedbackZenDeskChat(e,n.state.endChat)},n.cookies_details=function(e){n.addLinks(e),window.parent?window.parent.postMessage("openUrl:"+e,"*"):window.location=e},n.bob_site=function(e){n.addLinks(e),window.parent?window.parent.postMessage("openUrl:"+e,"*"):window.location=e},n.movetotop=function(){var e,t=document.getElementsByClassName("webchat__basic-transcript__scrollable"),a=Object(p.a)(t);try{for(a.s();!(e=a.n()).done;){e.value.scrollTo({top:0,behavior:"smooth"})}}catch(n){a.e(n)}finally{a.f()}},n.save_visitor=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={iid:n.props.iid,gid:n.props.gid,pid:n.props.pid,name:n.state.name,firstName:n.state.firstName,lastName:n.state.lastName,zipCode:n.state.zipCode,email:n.state.email,phoneNumber:n.state.phoneNumber,consentGiven:n.state.consentGiven},n.setState({visitorPopupState:!1,isButtonDisable:!0}),e.next=5,fetch("".concat("https://chatapi.bookmebob.com/visitors","/").concat(n.props.vid),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:a})});case 5:e.sent,localStorage.setItem(n.props.visitor_state_store,JSON.stringify(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addLinks=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://chatapi.bookmebob.com/links"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:n.props.directline.conversationId,groupId:n.props.gid,link:t})});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),new _t(n.props.botSettings.name,n.props.botSettings.urls.icon,n.props.gid,n.props.iid,n.props.mobile).start(),n}return Object(m.a)(a,[{key:"createCssRules",value:function(){var e=this,t=setInterval((function(){var a=document.getElementsByClassName("webchat__icon-button");document.styleSheets[0].insertRule("\n        .chat_header_btn_resize i{\n          color:".concat(e.props.botSettings.colours.closeIcon," !important;\n        }\n        "),0),document.styleSheets[0].insertRule("\n        .chat_header_btn_resize i:hover{\n          color:".concat(e.props.botSettings.colours.closeIconHover," !important;\n        }\n        "),0),document.styleSheets[0].insertRule("\n        .chat_header_btn_end svg {\n            fill: ".concat(e.props.botSettings.colours.closeIcon," !important;\n        }\n        "),0),document.styleSheets[0].insertRule("\n        .chat_header_btn_end svg:hover {\n          fill: ".concat(e.props.botSettings.colours.closeIconHover," !important;\n        }\n         "),0),document.styleSheets[0].insertRule("\n        .header_icon svg {\n            fill: ".concat(e.props.botSettings.colours.closeIcon," !important;\n        }\n        "),0),document.styleSheets[0].insertRule("\n        .header_icon svg:hover {\n          fill: ".concat(e.props.botSettings.colours.closeIconHover," !important;\n        }\n         "),0),document.styleSheets[0].insertRule("\n        .chat_header_btn_close svg {\n            fill: ".concat(e.props.botSettings.colours.minimizeIcon," !important;\n        }\n        "),0),document.styleSheets[0].insertRule("\n        .chat_header_btn_close svg:hover {\n          fill: ".concat(e.props.botSettings.colours.minimizeIconHover," !important;\n        }\n         "),0),document.styleSheets[0].insertRule("\n        .chat_header_btn_language svg {\n          fill: ".concat(e.props.botSettings.colours.minimizeIcon," !important;\n        }\n         "),0),document.styleSheets[0].insertRule("\n        .chat_header_btn_language svg:hover {\n          fill: ".concat(e.props.botSettings.colours.minimizeIconHover," !important;\n        }\n         "),0),document.styleSheets[0].insertRule("\n        .chat_header_menuitem svg {\n            fill: ".concat(e.props.botSettings.colours.minimizeIcon," !important;\n        }\n        "),0),document.styleSheets[0].insertRule("\n        .chat_header_menuitem svg:hover {\n          fill: ".concat(e.props.botSettings.colours.minimizeIconHover," !important;\n        }\n         "),0),document.styleSheets[0].insertRule("\n         .webchat__send-icon {\n            opacity:1;\n           fill: ".concat(e.props.botSettings.colours.sendIcon," !important;\n           cursor: pointer;\n         }\n          "),0),document.styleSheets[0].insertRule("\n          .webchat__send-icon:hover {\n            fill: ".concat(e.props.botSettings.colours.sendIconHover," !important;\n            \n          }\n           "),0),document.styleSheets[0].insertRule(".main {\n            margin-left: 13px;\n            margin-right: 13px;\n            border-bottom-left-radius: 8px;\n            border-bottom-right-radius: 8px;\n            border-top-left-radius: 8px;\n            border-top-right-radius: 8px;\n          }",0),0!==a.length&&(a[0].innerHTML="<svg version='1.1' id='Layer_1' class='webchat__send-icon' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 122.88 116.6' style='enable-background:new 0 0 122.88 116.6;margin-right: 10px;  width: 25px;'xml:space='preserve'><g><path d='M24.44,0h74.01c6.68,0,12.77,2.75,17.19,7.17c4.47,4.47,7.24,10.65,7.24,17.45v67.35c0,6.8-2.78,12.98-7.25,17.45 c-4.42,4.42-10.51,7.17-17.19,7.17H24.44c-6.68,0-12.77-2.75-17.19-7.17C2.77,104.96,0,98.78,0,91.98V24.62 c0-6.81,2.77-12.99,7.24-17.45C11.67,2.75,17.75,0,24.44,0L24.44,0z M64.51,39.22v28.33c0,0.85-0.34,1.62-0.9,2.17 c-0.56,0.56-1.33,0.9-2.17,0.9c-0.85,0-1.62-0.34-2.17-0.9c-0.56-0.56-0.9-1.32-0.9-2.17V39.22l-10.92,9.53 c-0.63,0.55-1.43,0.8-2.21,0.76c-0.79-0.05-1.55-0.39-2.12-1.02c-0.56-0.63-0.81-1.43-0.77-2.21c0.05-0.78,0.39-1.54,1.02-2.1 l16.04-14c0.59-0.52,1.33-0.77,2.06-0.77c0.73,0.01,1.46,0.28,2.02,0.8l16.03,14c0.61,0.56,0.95,1.31,1,2.08 c0.05,0.78-0.21,1.57-0.77,2.2l-0.02,0.02c-0.56,0.62-1.32,0.95-2.09,1h-0.01c-0.78,0.04-1.58-0.21-2.21-0.77L64.51,39.22 L64.51,39.22z M4.93,82.85c0.85,3.45,2.55,6.55,4.83,9.01c3.36,3.62,7.99,5.87,13.1,5.87h77.17c0.21,0,0.41,0,0.62-0.01l1.25-0.09 c4.36-0.47,8.29-2.6,11.23-5.77c2.28-2.46,3.97-5.55,4.83-9V24.62c0-5.28-2.17-10.09-5.67-13.58c-3.54-3.54-8.44-5.74-13.84-5.74 H24.44c-5.4,0-10.3,2.2-13.84,5.74c-3.49,3.49-5.66,8.3-5.66,13.58V82.85L4.93,82.85z'/></g></svg>",clearInterval(t))}),1e3),a=document.getElementsByClassName("webchat__send-text-box-count");if(!1===this.props.inTwiliochat&&!1===this.props.inZenDesk&&!0===this.props.botSettings.features.fixedResponses){if(null===a||0===a.length){var n=document.querySelector("form"),i=document.getElementsByClassName("main");if(null!==n){var o=function(){var e=this.value.replace(/ /g,"").length||0;e<=40?(d.style.color="green",s[0].style.display="block",r.style.display="none",e=""!==this.value?40-e:""):(s[0].style.display="none",r.style.display="block",d.style.color="red",e="-"+(30-(70-e))),d.innerHTML=e},s=document.getElementsByClassName("webchat__icon-button"),r=document.createElement("button");i[0].appendChild(r),r.type="button",r.style.display="none",r.style.backgroundColor="Transparent",r.style.border="0",r.style.outline="0",r.style.padding="0",r.style.width="40px",r.disabled="disabled",r.style.opacity="0.4",r.innerHTML="<svg version='1.1' id='Layer_1' class='webchat__send-icon' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 122.88 116.6' style='enable-background:new 0 0 122.88 116.6;margin-right: 10px;  width: 25px;'xml:space='preserve'><g><path d='M24.44,0h74.01c6.68,0,12.77,2.75,17.19,7.17c4.47,4.47,7.24,10.65,7.24,17.45v67.35c0,6.8-2.78,12.98-7.25,17.45 c-4.42,4.42-10.51,7.17-17.19,7.17H24.44c-6.68,0-12.77-2.75-17.19-7.17C2.77,104.96,0,98.78,0,91.98V24.62 c0-6.81,2.77-12.99,7.24-17.45C11.67,2.75,17.75,0,24.44,0L24.44,0z M64.51,39.22v28.33c0,0.85-0.34,1.62-0.9,2.17 c-0.56,0.56-1.33,0.9-2.17,0.9c-0.85,0-1.62-0.34-2.17-0.9c-0.56-0.56-0.9-1.32-0.9-2.17V39.22l-10.92,9.53 c-0.63,0.55-1.43,0.8-2.21,0.76c-0.79-0.05-1.55-0.39-2.12-1.02c-0.56-0.63-0.81-1.43-0.77-2.21c0.05-0.78,0.39-1.54,1.02-2.1 l16.04-14c0.59-0.52,1.33-0.77,2.06-0.77c0.73,0.01,1.46,0.28,2.02,0.8l16.03,14c0.61,0.56,0.95,1.31,1,2.08 c0.05,0.78-0.21,1.57-0.77,2.2l-0.02,0.02c-0.56,0.62-1.32,0.95-2.09,1h-0.01c-0.78,0.04-1.58-0.21-2.21-0.77L64.51,39.22 L64.51,39.22z M4.93,82.85c0.85,3.45,2.55,6.55,4.83,9.01c3.36,3.62,7.99,5.87,13.1,5.87h77.17c0.21,0,0.41,0,0.62-0.01l1.25-0.09 c4.36-0.47,8.29-2.6,11.23-5.77c2.28-2.46,3.97-5.55,4.83-9V24.62c0-5.28-2.17-10.09-5.67-13.58c-3.54-3.54-8.44-5.74-13.84-5.74 H24.44c-5.4,0-10.3,2.2-13.84,5.74c-3.49,3.49-5.66,8.3-5.66,13.58V82.85L4.93,82.85z'/></g></svg>";var c=document.getElementsByClassName("webchat__send-box-text-box__input")[0];n.setAttribute("id","form_send");var l=document.createElement("div");document.getElementById("form_send").appendChild(l),l.classList.add("webchat__send-text-box-count"),l.setAttribute("id","webchat__send-text-box-count");var d=document.createElement("span");l.appendChild(d),d.setAttribute("id","span-count"),d.style.marginLeft="5px",d.style.fontSize="14px",null!==c&&""!==c&&(c.addEventListener("keyup",(function(t){!1===e.props.inTwiliochat&&!1===e.props.inZenDesk&&(document.getElementById("webchat__send-text-box-count").style.display="block",c.value.replace(/ /g,"").length<=70&&o.call(c))})),c.addEventListener("keypress",(function(t){if(!1===e.props.inTwiliochat&&!1===e.props.inZenDesk){var a=c.value.replace(/ /g,"").length;a>=70?(t.stopPropagation(),t.preventDefault()):a>40&&"Enter"===t.key&&(c.focus(),t.stopPropagation(),t.preventDefault())}})))}}}else null!==document.getElementById("webchat__send-text-box-count")&&(document.getElementById("webchat__send-text-box-count").style.display="none");if(this.props.botSettings.features.addOnUpsells&&this.state.isServiceAvailable){var p=document.getElementsByClassName("webchat__send-curated-option");if(null===p||0===p.length){var h=document.getElementsByClassName("main"),u=document.getElementById("form_send");if(null!==h&&h.length>0){var m=document.createElement("div");u.parentNode.insertBefore(m,u),m.className="webchat__send-curated-option",m.innerHTML="<svg version='1.0' xmlns='http://www.w3.org/2000/svg' width='20px' height='20px' viewBox='0 0 512.000000 512.000000' preserveAspectRatio='xMidYMid meet'><g transform='translate(0.000000,512.000000) scale(0.100000,-0.100000)' fill='#000000' stroke='none'><path d='M2330 5110 c-494 -48 -950 -230 -1350 -538 -195 -150 -448 -432 -594 -662 -63 -99 -186 -351 -230 -471 -49 -134 -102 -340 -128 -499 -31 -195 -31 -565 0 -760 45 -276 116 -498 237 -745 132 -269 269 -460 489 -681 221 -220 412 -357 681 -489 247 -121 469 -192 745 -237 195 -31 565 -31 760 0 276 45 498 116 745 237 269 132 460 269 681 489 220 221 357 412 489 681 88 179 132 296 180 476 63 240 78 371 78 649 0 278 -15 409 -78 649 -48 180 -92 297 -180 476 -132 269 -269 460 -489 681 -221 220 -412 357 -681 489 -246 121 -474 193 -740 235 -147 23 -475 34 -615 20z m468 -401 c488 -53 934 -270 1288 -623 415 -415 634 -943 634 -1526 0 -583 -219 -1111 -634 -1526 -415 -415 -943 -634 -1526 -634 -583 0 -1111 219 -1526 634 -415 415 -634 943 -634 1526 0 583 219 1111 634 1526 349 349 800 569 1276 623 110 12 376 13 488 0z'/><path d='M2515 3761 c-67 -17 -127 -74 -144 -138 -7 -24 -11 -190 -11 -440 l0 -403 -390 0 c-251 0 -408 -4 -442 -11 -65 -14 -129 -73 -148 -136 -27 -89 18 -191 102 -232 43 -20 56 -21 461 -21 l416 0 3 -422 c3 -407 4 -425 24 -463 11 -22 40 -53 63 -70 37 -26 51 -30 111 -30 60 0 74 4 111 30 23 17 52 48 63 70 20 38 21 56 24 463 l3 422 416 0 c405 0 418 1 461 21 84 41 129 143 102 232 -19 63 -83 122 -148 136 -34 7 -191 11 -442 11 l-390 0 0 403 c0 250 -4 416 -11 440 -11 43 -59 101 -98 121 -35 18 -99 26 -136 17z'/></g> </svg>",m.addEventListener("click",(function(t){e.setState({open_service_popup:!0})}))}}}}},{key:"dynamicSort",value:function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(a,n){return(a[e]<n[e]?-1:a[e]>n[e]?1:0)*t}}},{key:"componentDidMount",value:function(){var e=this,t=this.state.languageOptions.filter((function(t){return-1!==e.props.botSettings.languages.indexOf(t.id)})),a=this.state.language,n=this.state.languageOptions.filter((function(t){return t.id===e.state.language}));if(n.length>0?this.setState({languageOptions:t,languageCode:n[0].code,langLocale:n[0].locale}):this.setState({languageOptions:t}),(void 0!==this.props.persistentMenu||null!==this.props.persistentMenu)&&0===this.state.persistentMenuData.length)if(this.props.persistentMenu.filter((function(e){return e.locale.includes(a)})).length>0){var i=this.props.persistentMenu.filter((function(e){return e.locale.includes(a)}));this.setState({persistentMenuData:i})}else{var o=this.props.persistentMenu.filter((function(e){return e.locale.includes("default")})),s=[];o[0].callToActions.map((function(t){var n=t.title;if(""!==n){if("en"===a)s.push({title:t.title,type:t.type,payLoad:t.payLoad,url:t.url});else if("select_property"!==t.payLoad&&"switch_language"!==t.payLoad&&"restart"!==t.payLoad&&"hidebot"!==t.payLoad)fetch("https://chatapi.bookmebob.com/google-translate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({q:n,target:a})}).then((function(e){e.json().then((function(e){s.push({title:e.output,type:t.type,payLoad:t.payLoad,url:t.url})}))}));else s.push({title:t.title,type:t.type,payLoad:t.payLoad,url:t.url});e.setState({persistentMenuData:[{locale:a,callToActions:s}]})}}))}void 0===this.props.botSettings&&null===this.props.botSettings||void 0!==this.props.botSettings.bubbleSettings&&null!==this.props.botSettings.bubbleSettings&&(void 0!==this.props.botSettings.bubbleSettings.bubbleType&&null!==this.props.botSettings.bubbleSettings.bubbleType?this.setState({bubble_type:this.props.botSettings.bubbleSettings.bubbleType}):this.setState({bubble_type:"Bubble"}));var r=this,c=document.getElementById("chat_box");null!==c&&void 0!==c&&document.addEventListener("click",(function(e){!0===r.state.ask_bot_hide&&(c.contains(e.target)&&r.setState({ask_bot_hide:!1}))}));var l=document.getElementById("chat_box_visitor");null!==l&&void 0!==l&&document.addEventListener("click",(function(e){!0===r.state.ask_bot_hide&&(l.contains(e.target)&&r.setState({ask_bot_hide:!1}))})),void 0!==this.props.pid&&null!==this.props.pid&&this.GetServiceAvailable(this.props.property_state_store)}},{key:"componentDidUpdate",value:function(e,t){e.availblity!==this.props.availblity&&void 0!==this.props.availblity&&this.availblityForm(this.props.availblity),e.openZChat_popup!==this.props.openZChat_popup&&this.setState({open_ZChatfeedback_popup:this.props.openZChat_popup}),e.property_popup!==this.props.property_popup&&this.setState({open_property_popup:this.props.property_popup}),e.lang!==this.props.lang&&void 0!==this.props.lang&&this.handleChangeLanguage(this.props.lang),e.bot_restart!==this.props.bot_restart&&this.setState({ask_close:this.props.bot_restart})}},{key:"render",value:function(){var e=this,t=pt[""===this.state.langLocale?"en":this.state.langLocale],a=this.props,o=a.store,s=a.directline,r=a.inputEnabled,c=a.user_id,l=a.loadingLivechat,d=a.agentName,p=a.mobile,h=a.botSettings,u=a.bookingApp,m=a.room_app,g=a.close_pop,b=a.opened,v=a.connectionError,y=a.inactivePopupOne,f=a.inactivePopupTwo,k=a.persistentMenuEnabled,E=a.resize_full,I=a.resize_actual,x=this.state,M=x.ask_close,j=x.menu_open,D=x.confirm_cookies,B=x.ask_bot_hide;return void 0!==h&&(qt.backgroundColor=h.colours.botBackground,qt.bubbleFromUserBackground=h.colours.botUser,qt.bubbleFromUserBorderColor=h.colours.botUser,qt.bubbleFromUserTextColor=h.colours.botUserText,qt.bubbleBackground=h.colours.botBot,qt.bubbleBorderColor=h.colours.botBot,qt.bubbleTextColor=h.colours.botBotText,"true"===p?!0===h.hideSendBoxInMobile&&this.props.hideTypingTextBox():!0===h.hideSendBox&&this.props.hideTypingTextBox(),void 0!==localStorage.getItem(this.props.property_state_store)&&null!==localStorage.getItem(this.props.property_state_store)||this.props.hideTypingTextBox(),h.colours.sendBoxButton&&(qt.sendBoxButtonColor=h.colours.sendBoxButton),h.colours.sendBoxText&&(qt.sendBoxTextColor=h.colours.sendBoxText),h.colours.sendBoxBottomBorder&&(qt.sendBoxBorderBottom="solid 1px ".concat(h.colours.sendBoxBottomBorder),qt.sendBoxBorderTop=""),h.colours.sendBoxButtonFocus&&(qt.sendBoxButtonColorOnFocus=h.colours.sendBoxButtonFocus),h.colours.sendBoxButtonHover&&(qt.sendBoxButtonColorOnHover=h.colours.sendBoxButtonHover),h.colours.timeStamp&&(qt.timestampColor=h.colours.timeStamp),h.colours.sendBoxPlaceHolder&&(qt.sendBoxPlaceholderColor=h.colours.sendBoxPlaceHolder),h.colours.sendBoxBackground&&(qt.sendBoxBackground=h.colours.sendBoxBackground),h.colours.suggestionBackground&&(qt.suggestedActionBackground=h.colours.suggestionBackground),h.colours.suggestionText&&(qt.suggestedActionTextColor=h.colours.suggestionText),this.createCssRules()),i.a.createElement(A.b,{locale:t.locale,messages:t.messages},i.a.createElement(n.Fragment,null," ",i.a.createElement("div",{className:"true"==p?"".concat("Bubble"===this.state.bubble_type?"chat_window":"sildeopen"," chat_window_mobile ").concat(this.props.customStyle,"Window"):"".concat("Bubble"===this.state.bubble_type?"chat_window":"sildeopen").concat(!0===this.props.resize?" resize":""," ").concat(!0===this.props.messenger?" chat_window_msg":""," ").concat(this.props.customStyle,"Window"),style:{display:b?"block":"none",transition:!1===this.props.resize?"all .1s ease-in":"all .2s ease-out"}},void 0!==h?i.a.createElement(i.a.Fragment,null,!this.props.messenger&&i.a.createElement("div",{className:"true"==p?"chat_header chat_header_mobile ".concat(this.props.customStyle,"Header ").concat(!0===this.props.messenger?" chat_header_msg":""):"chat_header ".concat(this.props.customStyle,"Header ").concat(!0===this.props.resize?" resize-header":""," ").concat(!0===this.props.messenger?" chat_header_msg":""),style:{backgroundColor:h.colours.header}},i.a.createElement("div",{className:"chat_header_menuitem",onClick:this.menu_popup_open},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},i.a.createElement("path",{d:"M12,7a2,2,0,1,0-2-2A2,2,0,0,0,12,7Zm0,10a2,2,0,1,0,2,2A2,2,0,0,0,12,17Zm0-7a2,2,0,1,0,2,2A2,2,0,0,0,12,10Z"}))),i.a.createElement("div",{className:"chat_header_icon",style:{backgroundImage:"url(".concat(h.urls.icon,")")}}),i.a.createElement("div",{className:"chat_header_labels"},i.a.createElement("span",{className:"chat_header_title",style:{color:h.colours.headerText}}," ",d||h.name," ")," "),i.a.createElement("div",{className:"chat_header_btn_close ".concat(this.props.customStyle,"HeaderBtn"),onClick:this.close_clicked},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},i.a.createElement("path",{d:"M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"}))),""===this.props.customStyle&&"true"!==p?i.a.createElement("div",{className:"chat_header_btn_resize",onClick:this.props.resize?I:E},this.props.resize?i.a.createElement("i",{className:"glyphicon glyphicon-resize-small icon-2x"}):i.a.createElement("i",{className:"glyphicon glyphicon-resize-full icon-2x"})):null,h.multilingual?i.a.createElement("div",{className:"chat_header_btn_language ".concat(this.props.customStyle),onClick:this.open_language_popup},i.a.createElement("svg",{version:"1.1",id:"anna_vital_language_icon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 256 256",fill:"currentColor"},i.a.createElement("path",{d:"M62.4,101c-1.5-2.1-2.1-3.4-1.8-3.9c0.2-0.5,1.6-0.7,3.9-0.5c2.3,0.2,4.2,0.5,5.8,0.9c1.5,0.4,2.8,1,3.8,1.7\tc1,0.7,1.8,1.5,2.3,2.6c0.6,1,1,2.3,1.4,3.7c0.7,2.8,0.5,4.7-0.5,5.7c-1.1,1-2.6,0.8-4.6-0.6c-2.1-1.4-3.9-2.8-5.5-4.2 C65.5,105.1,63.9,103.2,62.4,101z M40.7,190.1c4.8-2.1,9-4.2,12.6-6.4c3.5-2.1,6.6-4.4,9.3-6.8c2.6-2.3,5-4.9,7-7.7 c2-2.7,3.8-5.8,5.4-9.2c1.3,1.2,2.5,2.4,3.8,3.5c1.2,1.1,2.5,2.2,3.8,3.4c1.3,1.2,2.8,2.4,4.3,3.8c1.5,1.4,3.3,2.8,5.3,4.5 c0.7,0.5,1.4,0.9,2.1,1c0.7,0.1,1.7,0,3.1-0.6c1.3-0.5,3-1.4,5.1-2.8c2.1-1.3,4.7-3.1,7.9-5.4c1.6-1.1,2.4-2,2.3-2.7 c-0.1-0.7-1-1-2.7-0.9c-3.1,0.1-5.9,0.1-8.3-0.1c-2.5-0.2-5-0.6-7.4-1.4c-2.4-0.8-4.9-1.9-7.5-3.4c-2.6-1.5-5.6-3.6-9.1-6.2\tc1-3.9,1.8-8,2.4-12.4c0.3-2.5,0.6-4.3,0.8-5.6c0.2-1.2,0.5-2.4,0.9-3.3c0.3-0.8,0.4-1.4,0.5-1.9c0.1-0.5-0.1-1-0.4-1.6\tc-0.4-0.5-1-1.1-1.9-1.7c-0.9-0.6-2.2-1.4-3.9-2.3c2.4-0.9,5.1-1.7,7.9-2.6c2.7-0.9,5.7-1.8,8.8-2.7c3-0.9,4.5-1.9,4.6-3.1 c0.1-1.2-0.9-2.3-3.2-3.5c-1.5-0.8-2.9-1.1-4.3-0.9c-1.4,0.2-3.2,0.9-5.4,2.2c-0.6,0.4-1.8,0.9-3.4,1.6c-1.7,0.7-3.6,1.5-6,2.5 c-2.4,1-5,2-7.8,3.1c-2.9,1.1-5.8,2.2-8.7,3.2c-2.9,1.1-5.7,2-8.2,2.8c-2.6,0.8-4.6,1.4-6.1,1.6c-3.8,0.8-5.8,1.6-5.9,2.4\tc0,0.8,1.5,1.6,4.4,2.4c1.2,0.3,2.3,0.6,3.1,0.6c0.8,0.1,1.7,0.1,2.5,0c0.8-0.1,1.6-0.3,2.4-0.5c0.8-0.3,1.7-0.7,2.8-1.1 c1.6-0.8,3.9-1.7,6.9-2.8c2.9-1,6.6-2.4,11.2-4c0.9,2.7,1.4,6,1.4,9.8c0,3.8-0.4,8.1-1.4,13c-1.3-1.1-2.7-2.3-4.2-3.6\tc-1.5-1.3-2.9-2.6-4.3-3.9c-1.6-1.5-3.2-2.5-4.7-3c-1.6-0.5-3.4-0.5-5.5,0c-3.3,0.9-5,1.9-4.9,3.1c0,1.2,1.3,1.8,3.8,1.9 c0.9,0.1,1.8,0.3,2.7,0.6c0.9,0.3,1.9,0.9,3.2,1.8c1.3,0.9,2.9,2.2,4.7,3.8c1.8,1.6,4.2,3.7,7,6.3c-1.2,2.9-2.6,5.6-4.1,8\tc-1.5,2.5-3.4,5-5.5,7.3c-2.2,2.4-4.7,4.8-7.7,7.2c-3,2.5-6.6,5.1-10.8,7.8c-4.3,2.8-6.5,4.7-6.5,5.6C35,192.1,37,191.7,40.7,190.1z M250.5,81.8v165.3l-111.6-36.4L10.5,253.4V76.1l29.9-10V10.4l81.2,28.7L231.3,2.6v73.1L250.5,81.8z M124.2,50.6L22.3,84.6v152.2 l101.9-33.9V50.6L124.2,50.6z M219.4,71.9V19L138.1,46L219.4,71.9z M227,201.9L196.5,92L176,85.6l-30.9,90.8l18.9,5.9l5.8-18.7 l31.9,10l5.7,22.3L227,201.9z M174.8,147.7l22.2,6.9l-10.9-42.9L174.8,147.7z"}))):null,i.a.createElement("div",{className:"chat_header_btn_end ".concat(this.props.customStyle,"HeaderBtn d-none"),onClick:this.end_clicked},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},i.a.createElement("path",{d:"M19,11H5a1,1,0,0,0,0,2H19a1,1,0,0,0,0-2Z"}))),""!==this.props.customStyle?i.a.createElement("div",{className:"chat_header_btn_end ".concat(this.props.customStyle),style:{backgroundImage:"url(".concat(h.urls.refreshIcon)},onClick:this.refresh}," "):null),j?i.a.createElement(O,{mobile:p,menuOpen:this.menu_popup_Close,persistentMenu:this.state.persistentMenuData,persistentMenuEnabled:k,handleMenuClick:this.handleMenuClick,botSettings:h,cookiesDetail:this.cookies_details,botSite:this.bob_site}):"",M?i.a.createElement("div",{className:"chat_box_popup_new",onClick:function(){e.setState({ask_close:!1}),e.props.messenger&&e.props.bot_restartClick()}},i.a.createElement("div",{className:"endchat_popup ".concat(M?"area":"closepop")},i.a.createElement("h1",null,"",i.a.createElement(N,{id:"chat.end"}),""),i.a.createElement("p",{className:"endchat_text"},i.a.createElement(N,{id:"chat.endtext"})),i.a.createElement("button",{className:"endchat_button",onClick:this.close_confirmed},"",i.a.createElement(N,{id:"chat.end"}),""),i.a.createElement("button",{className:"cancelchat_button",onClick:this.close_cancel},"",i.a.createElement(N,{id:"chat.cancel"}),""))):"",this.state.open_ZChatfeedback_popup&&i.a.createElement(Zt,{data:this.state.zChatfeedbackData,setZchatFeedback:this.setZchatFeedback}),this.state.open_language_popup&&i.a.createElement("div",{className:"chat_box_popup_new"},i.a.createElement("div",{className:"switch_language_popup ".concat(this.state.open_language_popup?"area":"closepop")},i.a.createElement("div",{className:"true"==p?"switch_language_popup_header chat_header_mobile":"switch_language_popup_header",style:{backgroundColor:h.colours.header}},i.a.createElement("div",{className:"header_icon",onClick:this.close_language_popup},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},i.a.createElement("path",{d:"M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"}))),i.a.createElement("div",{className:"header_text",style:{color:h.colours.headerText}},i.a.createElement(N,{id:"switch.language"}))),i.a.createElement("div",{className:"switch_language_popup_body"},i.a.createElement("div",{className:"switch_language_popup_body ".concat("true"==p?"popup_items_mobile":"popup_items")},h.multilingual?this.state.languageOptions.map((function(t,a){return i.a.createElement("button",{className:"popupmenu",onClick:function(){return e.handleChangeLanguage(t.id)},key:a},i.a.createElement("span",{className:"text"},t.desc),e.state.language===t.id?i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",style:{color:"#19af19"}},i.a.createElement("path",{d:"M18.71,7.21a1,1,0,0,0-1.42,0L9.84,14.67,6.71,11.53A1,1,0,1,0,5.29,13l3.84,3.84a1,1,0,0,0,1.42,0l8.16-8.16A1,1,0,0,0,18.71,7.21Z"})):"")})):this.state.languageOptions.filter((function(t){return t.id.includes(e.state.language)})).map((function(t,a){return i.a.createElement("button",{className:"popupmenu",key:a},i.a.createElement("span",{className:"text"},t.desc),e.state.language===t.id?i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",style:{color:"#19af19"}},i.a.createElement("path",{d:"M18.71,7.21a1,1,0,0,0-1.42,0L9.84,14.67,6.71,11.53A1,1,0,1,0,5.29,13l3.84,3.84a1,1,0,0,0,1.42,0l8.16-8.16A1,1,0,0,0,18.71,7.21Z"})):"")})))))),this.state.open_property_popup&&i.a.createElement(L,{close_property_popup:this.close_property_popup,open_property_popup:this.state.open_property_popup,pid:this.props.pid,close_pop:g,room_app:m,bookingApp:u,botSettings:h,isCheckedAvailability:this.props.isCheckedAvailability,hideRoomDetail:this.props.hideRoomDetail,mobile:p,GetServiceAvailable:this.GetServiceAvailable,property_state_store:this.props.property_state_store,setPropertyPopUp:this.props.setPropertyPopUp}),this.state.open_availblity_popup&&i.a.createElement(Ut,{api:this.props.api,data:this.state.availblityData,open_availblity_popup:this.state.open_availblity_popup,closeAvailblityForm:this.closeAvailblityForm,botSettings:h,lang:this.state.language,addLinks:this.addLinks,gid:this.props.gid,pid:this.props.pid}),this.state.open_service_popup&&i.a.createElement(Ft,{mobile:p,open_service_popup:this.state.open_service_popup,close_serivce_popup:this.close_service_popup,pid:this.props.pid,gid:this.props.gid,conversation_id:this.props.directline.conversationId}),i.a.createElement("div",{className:"chat_box_popup_new",id:"feedback_popup",style:{display:"none"}},i.a.createElement("div",{className:"feedback_popup",id:"feedback_popup_body"},i.a.createElement("h1",null,i.a.createElement(N,{id:"feedback.leave"})),i.a.createElement("textarea",{className:"feedback_input",value:this.state.leaveFeedbackMessage,onChange:function(t){return e.setState({leaveFeedbackMessage:t.target.value})}}),i.a.createElement("button",{className:"feedback_button",id:"feedback_button",onClick:function(t){return e.handleFeedBackResponse(t)}},i.a.createElement(N,{id:"check.availabity.submit"})),i.a.createElement("button",{className:"cancelchat_button",onClick:function(){return e.handleCancelFeedbackResponse()}},i.a.createElement(N,{id:"check.availabity.cancel"})))),i.a.createElement("div",{className:"chat_popup_area",style:{paddingTop:!0===this.props.messenger?"0em":""}},D&&!this.props.messenger?i.a.createElement("div",{className:"chat_popup",style:{zIndex:5,padding:"0.5em"}},i.a.createElement("div",{className:"chat_popup_text",style:{width:"85%"}}," ",i.a.createElement(N,{id:"chat.cookie"}),"."," ",i.a.createElement("span",{className:"fake_link",onClick:function(){return e.cookies_details(h.urls.webCookies)}}," ",i.a.createElement(N,{id:"chat.learn"})," ")," "),i.a.createElement("div",{className:"btn btn-outline-primary float-right mr-2 btn_popup",onClick:this.cookies_understood}," ","X"," ")):"",B?i.a.createElement("div",{className:"chat_popup",onClick:function(){return e.setState({ask_bot_hide:!1})},style:{zIndex:5,padding:"0.5em",display:"block"}},i.a.createElement("div",{className:"chat_popup_body"},i.a.createElement("div",{className:"chat_popup_text text-center",style:{width:"100%"}}," ",i.a.createElement(N,{id:"chat.hidebot.text"})," "),i.a.createElement("div",{className:"btn btn-outline-success mr-2 mt-2 btn_popup",onClick:this.close_bot_ask_hide}," ",i.a.createElement(N,{id:"chat.minimize"})," "),i.a.createElement("div",{className:"btn btn-outline-primary mr-2 mt-2 btn_popup",onClick:this.hide_bot_confirm}," ",i.a.createElement(N,{id:"chat.hide"})," "),i.a.createElement("div",{className:"btn btn-outline-danger mr-2 mt-2 btn_popup",onClick:this.end_clicked}," ",i.a.createElement(N,{id:"chat.restart"})," "))):""),i.a.createElement("div",{className:"chat_box_outer".concat(this.props.messenger?" pt-0":""),style:{paddingBottom:"df96582a-c1d2-4be7-abc5-af820013452c"===this.props.gid||"56431a33-0783-46e0-ab83-afb0016d3b58"===this.props.gid||"a7e06370-a3bc-43ef-ba88-afb100137eca"===this.props.gid||"3af8dc3a-2be5-456e-82b5-afc60145e4ad"===this.props.gid?"38px":"29px"}},h.inactivePopUpWarning&&!0===h.inactivePopUpWarning.enabled&&y&&i.a.createElement("div",{className:"chat_box_connection_error",style:{display:y?"block":"none"}},i.a.createElement("div",{className:"chat_box_connection_error_inner"},i.a.createElement("span",{className:"connection_error_icon",role:"img","aria-label":"Warning"}," ","\u26a0\ufe0f"," ")," ",i.a.createElement("p",null),i.a.createElement("span",{className:"connection_error_text_small"},"en"===this.state.language?h.inactivePopUpWarning.message:i.a.createElement(Ct,{input:h.inactivePopUpWarning.message,lang:this.state.language}))," ",i.a.createElement("br",null),i.a.createElement("div",{className:"btn btn-outline-muted mt-4 connection_error_restart",onClick:this.popupclose_confirmed}," ","en"===this.state.language?"Close":i.a.createElement(Ct,{input:"Close",lang:this.state.language})," "))),h.inactivePopUpSession&&!0===h.inactivePopUpSession.enabled&&f&&i.a.createElement("div",{className:"chat_box_connection_error",style:{display:f?"block":"none"}},i.a.createElement("div",{className:"chat_box_connection_error_inner"},i.a.createElement("span",{className:"connection_error_icon",role:"img","aria-label":"Warning"}," ","\u26a0\ufe0f"," ")," ",i.a.createElement("p",null),i.a.createElement("span",{className:"connection_error_text_small"},"en"===this.state.language?h.inactivePopUpSession.message:i.a.createElement(Ct,{input:h.inactivePopUpSession.message,lang:this.state.language}))," ",i.a.createElement("br",null),i.a.createElement("div",{className:"btn btn-outline-muted mt-4 connection_error_restart",onClick:this.close_confirmed}," ","en"===this.state.language?"Restart":i.a.createElement(Ct,{input:"Restart",lang:this.state.language})," "))),i.a.createElement("div",{className:"chat_box_connection_error",style:{display:v?"block":"none"}},i.a.createElement("div",{className:"chat_box_connection_error_inner"},i.a.createElement("span",{className:"connection_error_icon",role:"img","aria-label":"Warning"}," ","\u26a0\ufe0f"," ")," ",i.a.createElement("p",null),i.a.createElement("span",{className:"connection_error_text_small"},"Your session has expired due to inactivity")," ",i.a.createElement("br",null),i.a.createElement("div",{className:"btn btn-outline-muted mt-4 connection_error_restart",onClick:this.close_confirmed}," ","Restart"," "))),!0===this.props.moveTop&&i.a.createElement("div",{id:"kt_scrolltop",className:"scrolltop",onClick:function(){return e.movetotop()}},i.a.createElement("span",{className:"glyphicon glyphicon-chevron-up"})),i.a.createElement("div",{className:"chat_box ".concat(this.props.customStyle),id:"chat_box"},s&&!l?i.a.createElement(_.a,{locale:this.state.language,directLine:s,styleOptions:qt,store:o,disabled:!r,userID:c,typingIndicatorMiddleware:ft,cardActionMiddleware:wt,attachmentMiddleware:Bt(this.props.api,h,s,this.props.gid,this.props.iid,this.addLinks,this.availblityForm,this.OpenServicePopUp,this.props.inZenDesk,this.props.bookingApp)}):""!==this.props.customStyle?i.a.createElement("div",{id:"spinner",className:"container"},i.a.createElement("div",{className:"loading"})):i.a.createElement("div",{className:"chat_loading"}),this.props.extensions.CHAT_SUGGESTION?i.a.createElement(T,{suggestions:this.props.extensions.CHAT_SUGGESTION,api:this.props.extensions._api,styling:this.props.botSettings,opened:b}):"",this.props.extensions.CHAT_AUTOCOMPLETE?i.a.createElement(Yt,{suggestions:this.props.extensions.CHAT_AUTOCOMPLETE,api:this.props.extensions._api,styling:this.props.botSettings,opened:b}):"",this.props.extensions.WEB_VIEW?i.a.createElement(w,{webview:this.props.extensions.WEB_VIEW,api:this.props.extensions._api,styling:this.props.botSettings,opened:b,messenger:this.props.messenger}):"",this.props.extensions.WEB_VIEW_EXTERNAL?i.a.createElement(C,{webviewExt:this.props.extensions.WEB_VIEW_EXTERNAL,api:this.props.extensions._api,styling:this.props.botSettings,opened:b}):"")," ",!0===this.state.visitorPopupState&&!0===h.visitorPopup&&i.a.createElement("div",{className:"chat_box_visitor_details",id:"chat_box_visitor"},i.a.createElement("div",{className:"chat_box_visitor_details_inner",style:{borderColor:h.colours.botBot}},null!==h.visitorSettings&&i.a.createElement(ht.a,{onSubmit:function(t){return e.save_visitor(t)}},i.a.createElement("h4",null," ","en"===this.state.language?h.visitorSettings.title:i.a.createElement(Ct,{input:h.visitorSettings.title,lang:this.state.language})," "),"en"===this.state.language?S()(h.visitorSettings.subTitle):i.a.createElement(Ct,{input:h.visitorSettings.subTitle,lang:this.state.language})," ",h.visitorSettings.fields.map((function(t,a){return"Name"===t.field?i.a.createElement(n.Fragment,{key:a},i.a.createElement(ut.a,null,i.a.createElement(mt.a,{bsSize:"sm",type:"text",name:"name",value:e.state.name,placeholder:"Name",onChange:e.handleVisitorNameChange,required:t.mandatory}))):"FirstName"===t.field?i.a.createElement(n.Fragment,{key:a},i.a.createElement(ut.a,null,i.a.createElement(mt.a,{bsSize:"sm",type:"text",name:"FirstName",value:e.state.firstName,placeholder:"First Name",onChange:e.hadleVisitorFirstNameChange,required:t.mandatory}))):"LastName"===t.field?i.a.createElement(n.Fragment,{key:a},i.a.createElement(ut.a,null,i.a.createElement(mt.a,{bsSize:"sm",type:"text",name:"lastName",value:e.state.lastName,placeholder:"Last Name",onChange:e.hadleVisitorLastNameChange,required:t.mandatory}))):"Email"===t.field?i.a.createElement(n.Fragment,{key:a},i.a.createElement(ut.a,null,i.a.createElement(mt.a,{bsSize:"sm",type:"email",name:"email",placeholder:"Email",value:e.state.email,onChange:e.handleVisitorEmailChange,required:t.mandatory}))):"PhoneNumber"===t.field?i.a.createElement(n.Fragment,{key:a},i.a.createElement(ut.a,null,i.a.createElement(mt.a,{bsSize:"sm",type:"text",name:"",placeholder:"Phone Number",value:e.state.phoneNumber,onChange:e.handleVisitorPhoneNumerChange,required:t.mandatory}))):"ZipCode"===t.field?i.a.createElement(n.Fragment,{key:a},i.a.createElement(ut.a,null,i.a.createElement(mt.a,{bsSize:"sm",type:"number",name:"zipCode",value:e.state.zipCode,placeholder:"Zip Code",onChange:e.hadleVisitorZipCodeChange,required:t.mandatory}))):void 0})),i.a.createElement(ut.a,null,i.a.createElement(gt.a,{id:"consent",type:"checkbox",name:"consentGiven",checked:this.state.consentGiven,onChange:this.handleVisitorCheckBoxChange,label:null!==h.visitorSettings.checkboxText?"en"===this.state.language?h.visitorSettings.checkboxText:i.a.createElement(Ct,{input:h.visitorSettings.checkboxText,lang:this.state.language}):"en"===this.state.language?"I want to receive offers or promotions from the hotel by email or text messages.":i.a.createElement(Ct,{input:"I want to receive offers or promotions from the hotel by email or text messages.",lang:this.state.language})})),i.a.createElement(bt.a,{style:{backgroundColor:h.colours.botBot,color:h.colours.botBotText},disabled:this.state.isButtonDisable},i.a.createElement(n.Fragment,null,i.a.createElement("svg",{className:"",height:"28",viewBox:"0 0 45.7 33.8",width:"28"},i.a.createElement("path",{clipRule:"evenodd",d:"M8.55 25.25l21.67-7.25H11zm2.41-9.47h19.26l-21.67-7.23zm-6 13l4-11.9L5 5l35.7 11.9z"})),"en"===this.state.language?h.visitorSettings.buttonText:i.a.createElement(Ct,{input:h.visitorSettings.buttonText,lang:this.state.language}))))))),""===this.props.customStyle?i.a.createElement("div",{className:"true"==p?"chat_footer chat_footer_mobile".concat(this.props.messenger?" chat_footer_msg":""):"chat_footer ".concat(!0===this.props.resize?" resize-footer":""," ").concat(this.props.messenger?" chat_footer_msg":""),style:{backgroundColor:h.colours.botBackground,color:qt.timestampColor}},!this.props.messenger&&i.a.createElement("div",{className:"poweredby",onClick:function(){return e.bob_site(h.urls.webPoweredBy)}},i.a.createElement("span",null," ",h.text.webPoweredBy1," ","df96582a-c1d2-4be7-abc5-af820013452c"!==this.props.gid&&"56431a33-0783-46e0-ab83-afb0016d3b58"!==this.props.gid&&"a7e06370-a3bc-43ef-ba88-afb100137ec"!==this.props.gid&&"3af8dc3a-2be5-456e-82b5-afc60145e4ad"!==this.props.gid&&i.a.createElement("img",{src:"/res/bmb-logo-text.png",width:70}),("df96582a-c1d2-4be7-abc5-af820013452c"===this.props.gid||"56431a33-0783-46e0-ab83-afb0016d3b58"===this.props.gid||"a7e06370-a3bc-43ef-ba88-afb100137eca"===this.props.gid||"3af8dc3a-2be5-456e-82b5-afc60145e4ad"===this.props.gid)&&i.a.createElement("img",{src:"https://bmbuiassetsprod.blob.core.windows.net/images/Hotel%20Alexandra%20Hong%20Kong.png",width:110})," "))):null):""!==this.props.customStyle?i.a.createElement("div",{id:"spinner",className:"container"},i.a.createElement("div",{className:"loading"})):i.a.createElement("div",{className:"chat_loading"}))," "))}}]),a}(n.Component);a(2111);function Xt(e){var t=e.onOpened,a=(e.hintClosed,e.currentNudge,e.fadeIn,e.botSettings),o=(e.position,e.mobile,e.disabledChatbot),s=Object(n.useState)(!0),r=Object(x.a)(s,2),c=r[0],l=r[1],d=Object(n.useState)(!1),p=Object(x.a)(d,2),h=(p[0],p[1],Object(n.useState)(!1)),u=Object(x.a)(h,2),m=u[0],g=u[1],b=function(e){window.parent&&window.parent.postMessage(e,"*")};Object(n.useEffect)((function(){if(c){if(window.addEventListener("message",v,!1),void 0!==a.bubbleSettings&&null!==a.bubbleSettings){if(void 0!==a.bubbleSettings.bubblePosition&&null!==a.bubbleSettings.bubblePosition){var e=a.bubbleSettings.bubblePosition;b("chatbotalign:".concat(e.align,"|side:").concat(e.side,"|bottom:").concat(e.bottom,"|top:350"))}if(void 0!==a.bubbleSettings.scrollAnimation&&null!==a.bubbleSettings.scrollAnimation){var t=a.bubbleSettings.scrollAnimation;!0===t.enabled&&b("chatbotscrollanimation|".concat(t.beforeAnimationTop,"|").concat(t.afterAnimationTop))}}else b("chatbotremoveposition");l(!1)}}),[a]);var v=function(e){"string"===typeof e.data&&e.data.startsWith("nudgepopup:")&&g(!0)};return o||m?null:i.a.createElement(n.Fragment,null,i.a.createElement("div",{onClick:function(){t()}},i.a.createElement("div",{className:"silde-bubble"},i.a.createElement("div",{dir:"auto",className:"silde-bubble-textarea",method:"textContainer"},i.a.createElement("span",{className:"bubbletext",method:"textContent"},i.a.createElement("span",{className:"glyphicon glyphicon-comment"})," Message")))))}var Qt,$t,ea="https://chatapi.bookmebob.com/saveMessage",ta="https://chatapi.bookmebob.com/properties";function aa(e,t,a,n){n.enableChat(),n.setExtension("CHAT_AUTOCOMPLETE",void 0),n.scrollChat();var i=n.getChatState().directline;if(na(a)&&a.payload&&a.payload.activity&&a.payload.activity.channelData){if(a.payload.activity.channelData.suggestionUi){a.payload.activity.suggestedActions=[];var o=a.payload.activity.channelData.suggestionUi;o.time=Date.now(),o.question=a.payload.activity.text,n.setExtension("CHAT_SUGGESTION",o)}else a.payload.activity.channelData.liveChat&&n.startZenDeskChat();if(a.payload.activity.channelData.webView){var s=a.payload.activity.channelData.webView;"Booking Url"===s.title?window.parent?window.parent.postMessage("openUrl:".concat(s.url),"*"):window.location=s.url:"Availability"===s.title?n.setAvailblity(s.availabilityData):"LocationPopUp"===s.title?n.setPropertyPopUp(!0):s.largeWindow?n.setExtension("WEB_VIEW_EXTERNAL",s):n.setExtension("WEB_VIEW",s)}}if(na(a)&&a.payload&&a.payload.activity&&a.payload.activity.suggestedActions?"Recommender"===a.payload.activity.inputHint&&n.hideTypingTextBox():na(a)&&a.payload&&a.payload.activity&&a.payload.activity.type&&"message"===a.payload.activity.type&&"bot"===a.payload.activity.from.role&&n.showTypingTextBox(),a.payload&&a.payload.activity&&a.payload.activity.text&&a.payload.activity.text.startsWith("Transferring you to a human"))n.getChatState().livechat||n.startLivechat();else if(a.payload&&a.payload.activity&&a.payload.activity.text&&a.payload.activity.text===i.conversationId&&void 0===a.payload.activity.name)n.getChatState().twiliochat||n.startTwiliochat(i.conversationId,a.payload.activity.from.id);else if(a.payload&&a.payload.activity&&a.payload.activity.text&&a.payload.activity.text===i.conversationId&&a.payload.activity.name&&"signalRConversation"===a.payload.activity.name)n.getChatState().signalrchat||(console.log("startChat"),n.startSignalRchat(i.conversationId,a.payload.activity.from.id));else if(a.payload&&a.payload.activity&&a.payload.activity.text&&a.payload.activity.text.startsWith("Agent")&&a.payload.activity.text.indexOf("has joined")>0)n.setAgentId(a.payload.activity.from.id),ca(a.payload.activity.text,"Visitor",n);else if(a.payload&&a.payload.activity&&a.payload.activity.text&&a.payload.activity.text.startsWith("Agent")&&a.payload.activity.text.indexOf("left the conversation")>0)n.endTwilio();else if(a.payload&&a.payload.activity&&a.payload.activity.text&&a.payload.activity.text.startsWith("Ok, I\u2019ll show you our rooms12")){if(void 0===(r=n.getPID())||""===r)void 0!==(c=localStorage.getItem(n.getChatState().lStore.PROPERTYID))&&null!=c&&(r=c);fetch(ta+"/"+r+"/rooms",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n.getRoomTypes(e.rooms),n.showBookingForm(!1,!1)}))}else if(n.getChatState().getRoomTypes){if(a.payload&&a.payload.activity&&a.payload.activity.text&&a.payload.activity.text.startsWith("I can answer your questions")){if(void 0===(r=n.getPID())||""===r)void 0!==(c=localStorage.getItem(n.getChatState().lStore.PROPERTYID))&&null!=c&&(r=c);fetch(ta+"/"+r+"/rooms",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return n.getRoomTypes(e.rooms)}))}else if(a.payload&&a.payload.activity&&a.payload.activity.text&&a.payload.activity.text.startsWith("Ok, Please fill the information to check availability")){if(void 0===(r=n.getPID())||""===r)void 0!==(c=localStorage.getItem(n.getChatState().lStore.PROPERTYID))&&null!=c&&(r=c);fetch("https://chatapi.bookmebob.com/property/"+r+"?groupId="+n.getGID(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"Y"===e.property.ari.applicable&&"URL"===e.property.ari.type?fetch(ta+"/"+r+"/rooms",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return n.getRoomTypes(e.rooms)})):"Y"===e.property.ari.applicable&&"CHATUI"===e.property.ari.type&&(n.showBookingForm(!0,!0),n.getRoomTypes([]))}))}}else if(a.payload&&a.payload.activity&&a.payload.activity.text&&a.payload.activity.text.startsWith("Ok, Please fill the information to check availability")){var r,c;if(void 0===(r=n.getPID())||""===r)void 0!==(c=localStorage.getItem(n.getChatState().lStore.PROPERTYID))&&null!=c&&(r=c);fetch("https://chatapi.bookmebob.com/property/"+r+"?groupId="+n.getGID(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"Y"===e.property.ari.applicable&&"URL"===e.property.ari.type?fetch(ta+"/"+r+"/rooms",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return n.getRoomTypes(e.rooms)})):"Y"===e.property.ari.applicable&&"CHATUI"===e.property.ari.type&&(n.showBookingForm(!0,!0),n.getRoomTypes([]))}))}return a.payload&&a.payload.activity&&a.payload.activity.attachments&&function(e,t,a){if(Date.now()-Date.parse(t.timestamp)>1e4)return;for(var n=0;n<t.attachments.length;n++){var i=t.attachments[n],o=!1;switch(i.contentType){case"ako.bob.payment":i.content.handled=!0,o=!0,a.makePayment(i.content,(function(){e({type:"WEB_CHAT/SEND_MESSAGE",payload:{name:"ako/sentpayment",text:"Test"}})}))}o&&(t.attachments.splice(n,1),n--)}}(e,a.payload.activity,n),t(a)}function na(e){if(!(e.payload&&e.payload.activity&&e.payload.activity.timestamp))return!1;var t=new Date(e.payload.activity.timestamp);return Date.now()-t.valueOf()<6e3}function ia(e,t,a,n){if("webchat/openWebView"!==a.payload.name){if("webchat/booking"!==a.payload.name)return t(a);n.getChatState().directline.conversationId,n.getChatState().user_id,"".concat(Math.random()),a.payload.value.msg,(new Date).toISOString();!function(e,t,a,n){var i=n.getPID();if(void 0===i||""===i){var o=localStorage.getItem(n.getChatState().lStore.PROPERTYID);void 0!==o&&null!=o&&(i=o)}var s={gid:n.getGID(),iid:n.getIID(),pid:i,vid:n.getChatState().vid,sid:n.getChatState().sid,cid:n.getChatState().directline.conversationId,time:(new Date).toISOString(),source:a,message:t,tag:e,agentId:n.getAgentId()};fetch(ea,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).catch((function(e){console.error("Bmb livechat logging failed :(."),console.error(e)}))}("Booking",a.payload.value.msg,"Visitor",n)}else{var i={url:a.payload.value.url,title:a.payload.value.title,mode:a.payload.value.mode,largeWindowHideHeader:a.payload.value.largeWindowHideHeader,largeWindow:!0};n.setExtension("WEB_VIEW_EXTERNAL",i)}}function oa(e,t,a,n){var i=t.getGID(),o=t.getDirectLineConversation();return fetch("https://chatapi.bookmebob.com/conversation/"+o+"?groupId="+i,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return void 0!==t&&t.conversation.agentStatus!==e&&"None"!==t.conversation.agentStatus||(sa(n,a),!1)}))}function sa(e,t){e({type:"WEB_CHAT/SEND_EVENT",payload:{name:t,value:{}}})}function ra(e){var t;try{t=localStorage.getItem(e.getChatState().lStore.CHAT_STATE),function(e){var t,a=Object(p.a)(e.activities);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.attachments){var i,o=Object(p.a)(n.attachments);try{for(o.s();!(i=o.n()).done;){var s=i.value;"ako/file-upload-prompt"===s.contentType&&(s.content.used=!0)}}catch(r){o.e(r)}finally{o.f()}}}}catch(r){a.e(r)}finally{a.f()}}(t=JSON.parse(t))}catch(a){}finally{t||(t={}),"object"!==typeof t&&(t={})}return t}function ca(e,t,a){var n=a.getPID();if(void 0===n||""===n){var i=localStorage.getItem(a.getChatState().lStore.PROPERTYID);void 0!==i&&null!=i&&(n=i)}var o={gid:a.getGID(),iid:a.getIID(),pid:n,vid:a.getChatState().vid,sid:a.getChatState().sid,cid:a.getChatState().directline.conversationId,time:(new Date).toISOString(),source:t,message:e,tag:"Human Chat",agentId:a.getAgentId()};fetch(ea,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).catch((function(e){console.error("Bmb livechat logging failed :(."),console.error(e)}))}function la(e,t){var a,n=Object(p.a)(e.activities);try{for(n.s();!(a=n.n()).done;){var i=a.value,o="";if("message"===i.type){if(i.from&&i.from.role&&(o+=i.from.role+": "),i.text&&(o+=i.text),i.attachments){var s,r=Object(p.a)(i.attachments);try{for(r.s();!(s=r.n()).done;){var c=s.value;"application/vnd.microsoft.card.hero"===c.contentType&&(c.content.title&&(o+="Card Title: "+c.content.title+"\r\n"),c.content.text&&(o+=c.content.text+"\r\n"))}}catch(l){r.e(l)}finally{r.f()}}t.sendChatMsg(o)}}}catch(l){n.e(l)}finally{n.f()}}function da(e,t){var a=t?{}:ra(e);return Object(E.createStore)(a,(function(t){var a=t.dispatch;return function(t){return function(n){var i;if(!n)return t(n);switch("DIRECT_LINE/UPDATE_CONNECTION_STATUS"===n.type&&"number"===typeof(null===(i=n.payload)||void 0===i?void 0:i.connectionStatus)&&e.setConnectionStatus(n.payload.connectionStatus),n.type){case"DIRECT_LINE/CONNECT_FULFILLED":!function(e,t){t.setExtension("CHAT_AUTOCOMPLETE",void 0),t.setAvailblity(void 0);var a=t.getPID(),n="";if(void 0===a||""===a){var i=localStorage.getItem(t.getChatState().lStore.PROPERTYID);void 0!==i&&null!=i&&(a=i)}var o=localStorage.getItem(t.getChatState().lStore.PROPERTYNAME);void 0!==o&&null!=o&&(n=o),e({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/join",value:{language:"en-US",gid:t.getGID(),iid:t.getIID(),pid:a,vid:t.getChatState().vid,sid:t.getChatState().sid,lang:t.getChatState().lang,pname:n}}}),t.addScrollEvent()}(a,e);break;case"DIRECT_LINE/INCOMING_ACTIVITY":return aa(a,t,n,e);case"WEB_CHAT/SEND_MESSAGE":return function(e,t,a,n){n.hideTextCount(),n.setExtension("CHAT_AUTOCOMPLETE",void 0);var i=n.getBotSettings();if(i.inactivePopUpWarning&&!0===i.inactivePopUpWarning.enabled&&(clearTimeout(Qt),Qt=setTimeout((function(){n.setInactivePopupOne()}),1e3*parseFloat(i.inactivePopUpWarning.seconds))),i.inactivePopUpSession&&!0===i.inactivePopUpSession.enabled&&(clearTimeout($t),$t=setTimeout((function(){n.setInactivePopupTwo()}),1e3*parseFloat(i.inactivePopUpSession.seconds))),"Human Chat"===a.payload.text){var o=n.getLiveChatSettings();if(void 0!==o&&"0"==o.provider)var s=setTimeout((function(){clearTimeout(s),oa("RequestSent",n,"no_agent_online",e).then((function(t){if(t)var a=setTimeout((function(){clearTimeout(a),oa("RequestReceived",n,"agent_online_not_accepted",e).then((function(t){if(!t)var a=setTimeout((function(){clearTimeout(a),oa("RequestReceived",n,"agent_online_busy",e)}),6e4)}))}),2e4)}))}),1e4)}if(!0===n.isInLivechat()){var r={channelId:"directline",conversation:{id:(c=n.getChatState().directline).conversationId},from:{id:n.getChatState().user_id,name:"",role:"user"},id:"".concat(Math.random()),text:a.payload.text,timestamp:(new Date).toISOString(),type:"message"};return ca(a.payload.text,"Visitor",n),n.getChatState().livechat.sendMessage({text:a.payload.text,customId:String(Math.random())}),t({payload:{activity:r},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}if(!0===n.isInTwiliochat()){r={channelId:"directline",conversation:{id:(c=n.getChatState().directline).conversationId},from:{id:n.getChatState().user_id,name:"",role:"user"},id:"".concat(Math.random()),text:a.payload.text,timestamp:(new Date).toISOString(),type:"message"};return ca(a.payload.text,"Visitor",n),n.getChatState().twiliochat.sendMessage(a.payload.text),t({payload:{activity:r},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}if(!0===n.isInZendeskChat()){r={channelId:"directline",conversation:{id:(c=n.getChatState().directline).conversationId},from:{id:n.getChatState().user_id,name:"",role:"user"},id:"".concat(Math.random()),text:a.payload.text,timestamp:(new Date).toISOString(),type:"message"};return ca(a.payload.text,"Visitor",n),n.getChatState().zendesk.sendChatMsg(a.payload.text),t({payload:{activity:r},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}if(!0===n.isInSignalRchat()){var c;r={channelId:"directline",conversation:{id:(c=n.getChatState().directline).conversationId},from:{id:n.getChatState().user_id,name:"",role:"user"},id:"".concat(Math.random()),text:a.payload.text,timestamp:(new Date).toISOString(),type:"message"};return ca(a.payload.text,"Visitor",n),n.getChatState().signalrchat.invoke("SendConversationMessageToAgent",{groupname:c.conversationId,message:a.payload.text}),t({payload:{activity:r},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}if(a.payload&&a.payload.text){var l=n.getExtension("CHAT_SUGGESTION");if(l&&l.getSuggestionCallback){var d=l.getSuggestionCallback(a.payload.text);if(!d)return;a.payload.text=d,n.setExtension("CHAT_SUGGESTION",void 0)}}return t(a)}(a,t,n,e);case"WEB_CHAT/SET_SUGGESTED_ACTIONS":return function(e,t,a,n){if(!a.payload.suggestedActions||a.payload.suggestedActions.length<1)return t(a);setTimeout((function(){return t(a)}),500)}(0,t,n);case"LIVECHAT/NEW_MESSAGE":return function(e,t,a,n){if(a.payload){var i=a.payload;if(!i.customId){var o={channelId:"directline",conversation:{id:n.getChatState().directline.conversationId},from:{id:"livechat",name:"",role:"bot"},id:"".concat(Math.random()),text:i.text,timestamp:(new Date).toISOString(),type:"message"};return ca(i.text,"Agent",n),e({payload:{activity:o},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}}}(a,0,n,e);case"TWILIO/NEW_MESSAGE":return function(e,t,a,n){if(a.payload){var i=a.payload;if(i.sid){var o=n.getChatState().directline;if(void 0!==o&&void 0!==o.conversationId&&i.author!=="".concat(o.conversationId,"_user")){var s={channelId:"directline",conversation:{id:o.conversationId},from:{id:"twiliochat",name:"",role:"bot"},id:"".concat(Math.random()),text:i.body,timestamp:(new Date).toISOString(),type:"message"};return ca(i.body,"Agent",n),e({payload:{activity:s},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}}}}(a,0,n,e);case"SIGNALR/NEW_MESSAGE":return function(e,t,a,n){if(a.payload){var i=a.payload,o=n.getChatState().directline;if(void 0!==o&&void 0!==o.conversationId){var s={channelId:"directline",conversation:{id:o.conversationId},from:{id:"signalchat",name:"",role:"bot"},id:"".concat(Math.random()),text:i,timestamp:(new Date).toISOString(),type:"message"};return ca(i,"Agent",n),e({payload:{activity:s},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}}}(a,0,n,e);case"ZENDESK/NEW_MESSAGE":return function(e,t,a,n){if(a.payload){var i=a.payload,o=n.getChatState().directline;if(void 0!==o&&void 0!==o.conversationId){var s={channelId:"directline",conversation:{id:o.conversationId},from:{id:"".concat(Math.random()),name:"",role:"bot"},id:"".concat(Math.random()),text:i,timestamp:(new Date).toISOString(),type:"message"};return ca(i,"Agent",n),e({payload:{activity:s},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}}return t(a)}(a,t,n,e);case"WEB_CHAT/SEND_EVENT":return ia(0,t,n,e);case"LIVECHAT/CHAT_END":return function(e,t,a,n){var i={channelId:"directline",conversation:{id:n.getChatState().directline.conversationId},from:{id:"livechat",name:"",role:"bot"},id:"".concat(Math.random()),text:'The agent has ended the chat. Press "End Chat" above to finish or restart.',timestamp:(new Date).toISOString(),type:"message"};return n.showBookingForm(!1,!1),n.disableChat(),t({payload:{activity:i},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}(0,t,0,e);case"LIVECHAT/TYPING":return function(e,t,a,n){return t({payload:{activity:{channelId:"directline",conversation:{id:n.getChatState().directline.conversationId},from:{id:"livechat",name:"",role:"bot"},id:"".concat(Math.random()),timestamp:(new Date).toISOString(),type:"typing"}},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}(0,t,0,e);case"TWILIO/TYPING":return function(e,t,a,n){return t({payload:{activity:{channelId:"directline",conversation:{id:n.getChatState().directline.conversationId},from:{id:"twilio",name:"",role:"bot"},id:"".concat(Math.random()),timestamp:(new Date).toISOString(),type:"typing"}},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}(0,t,0,e);case"SIGNALR/TYPING":return function(e,t,a,n){return t({payload:{activity:{channelId:"directline",conversation:{id:n.getChatState().directline.conversationId},from:{id:"signalr",name:"",role:"bot"},id:"".concat(Math.random()),timestamp:(new Date).toISOString(),type:"typing"}},type:"DIRECT_LINE/INCOMING_ACTIVITY"})}(0,t,0,e);case"DIRECT_LINE/DISCONNECT_FULFILLED":return function(e,t,a,n){return localStorage.removeItem(n.getChatState().lStore.CHAT_STATE),t(a)}(0,t,n,e);case"WEB_CHAT/SET_SEND_BOX":return function(e,t,a,n){if(!0===n.isInTwiliochat())n.sendTwilioTypingIndicator();else if(!0===n.isInZendeskChat())n.sendZendeskTypingIndicator();else if(!0===n.isInSignalRchat())n.sendSignalRTypingIndicator();else if(a.payload.text.length>3){var i=n.getBotSettings(),o=localStorage.getItem(n.getChatState().lStore.LANGUAGE);i.features.predictiveSearch&&!0===i.features.predictiveSearch&&"en"===o?fetch("https://chatapi.bookmebob.com/chatsuggestions",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({keyword:a.payload.text,domain:localStorage.getItem(n.getChatState().lStore.DOMAIN)})}).then((function(e){return e.json()})).then((function(e){n.setExtension("CHAT_AUTOCOMPLETE",e.data)})):n.setExtension("CHAT_AUTOCOMPLETE",void 0)}else n.setExtension("CHAT_AUTOCOMPLETE",void 0);return t(a)}(0,t,n,e)}return localStorage.setItem(e.getChatState().lStore.CHAT_STATE,JSON.stringify(e.getState())),t(n)}}}))}var pa,ha,ua,ma,ga,ba,va,ya,fa,Sa,ka,Ea,_a,wa=a(271),Ca=a(1057),Ia=a(73),Ta=function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,null,[{key:"getAPI",value:function(e,t){var a=t.mobile;return{setExtension:e.setExtension.bind(e),sendActivity:function(t){e.state.store.dispatch(t)},isMobile:function(){return a}}}}]),e}(),xa=a(1055),Aa=a(1056),Na=a(32),Oa=a(8),La=a(2437),Ma=a(2418),ja="https://chatapi.bookmebob.com/group",Da="https://chatapi.bookmebob.com/properties",Ba=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).selectProperty=function(e){n.state.bookingApp.selectedPid=e,n.forceUpdate(),localStorage.setItem(n.state.bookingApp.lStore.PROPERTYID,e.value),localStorage.setItem(n.state.bookingApp.lStore.PROPERTYNAME,e.label),n.state.bookingApp.callbacks.getStore().dispatch({type:"WEB_CHAT/SEND_EVENT",payload:{name:"webchat/update",value:{pid:e.value,pname:e.label}}})},n.close_pop=function(){var e=n.state.getRoomTypes?n.state.getRoomTypes:void 0;e&&(e.reinit=!1,n.setState({getRoomTypes:e}))},n.state={chatBindings:{startLivechat:n.startLivechat.bind(Object(g.a)(n)),startTwiliochat:n.startTwiliochat.bind(Object(g.a)(n)),startSignalRchat:n.startSignalRchat.bind(Object(g.a)(n)),endTwilio:n.endTwilio.bind(Object(g.a)(n)),endSignalRChat:n.endSignalRChat.bind(Object(g.a)(n)),setAgentId:n.setAgentId.bind(Object(g.a)(n)),enableChat:n.enableChat.bind(Object(g.a)(n)),disableChat:n.disableChat.bind(Object(g.a)(n)),getState:n.getState.bind(Object(g.a)(n)),setInLivechat:n.setInLivechat.bind(Object(g.a)(n)),isInLivechat:n.isInLivechat.bind(Object(g.a)(n)),isInTwiliochat:n.isInTwiliochat.bind(Object(g.a)(n)),isInSignalRchat:n.isInSignalRchat.bind(Object(g.a)(n)),sendTwilioTypingIndicator:n.sendTwilioTypingIndicator.bind(Object(g.a)(n)),sendZendeskTypingIndicator:n.sendZendeskTypingIndicator.bind(Object(g.a)(n)),sendSignalRTypingIndicator:n.sendSignalRTypingIndicator.bind(Object(g.a)(n)),setInTwiliochat:n.setInTwiliochat.bind(Object(g.a)(n)),setInSignalRchat:n.setInSignalRchat.bind(Object(g.a)(n)),getChatState:n.getChatState.bind(Object(g.a)(n)),setExtension:n.setExtension.bind(Object(g.a)(n)),setAvailblity:n.setAvailblity.bind(Object(g.a)(n)),hideTypingTextBox:n.hideTypingTextBox.bind(Object(g.a)(n)),showTypingTextBox:n.showTypingTextBox.bind(Object(g.a)(n)),setConnectionStatus:n.setConnectionStatus.bind(Object(g.a)(n)),setInactivePopupOne:n.setInactivePopupOne.bind(Object(g.a)(n)),setInactivePopupTwo:n.setInactivePopupTwo.bind(Object(g.a)(n)),closeInactivePopupOne:n.closeInactivePopupOne.bind(Object(g.a)(n)),hideTextCount:n.hideTextCount.bind(Object(g.a)(n)),startZenDeskChat:n.startZenDeskChat.bind(Object(g.a)(n)),isInZendeskChat:n.isInZendeskChat.bind(Object(g.a)(n)),setPropertyPopUp:n.setPropertyPopUp.bind(Object(g.a)(n)),getExtension:function(e){return n.state.extensions[e]},makePayment:function(e,t){n.setState({makePayment:{details:e,callback:t,close:function(){n.setState({makePayment:void 0})}}})},getRoomTypes:function(e){n.setState({getRoomTypes:{details:e,reinit:!0}});var t=n.state.bookingApp;t.open=!0,n.setState({bookingApp:t})},getGID:function(){return n.props.gid},getIID:function(){return n.props.iid},getPID:function(){return n.props.pid},getAgentId:function(){return n.state.agentId},getBotSettings:function(){return n.state.botSettings},getLiveChatSettings:function(){return n.state.liveChatSettings},getDirectLineConversation:function(){return n.state.directline.conversationId},isCheckedAvailability:!1,hideRoomDetail:!1,showBookingForm:function(e,t){n.setState({isCheckedAvailability:e,hideRoomDetail:t})},scrollChat:n.scrollChat,addScrollEvent:n.addScrollEvent,showHideMoveToTop:n.showHideMoveToTop.bind(Object(g.a)(n))}};var i,o=e.iid,s={OPENED:o+"-opened",IDENTITY:o+"-identity",CHAT_STATE:o+"-chatstate",CREDENTIALS:o+"-credentials",LIVECHAT_STARTED:o+"-livechatStarted",COOKIES:o+"-cookies",PROPERTYID:o+"-property",PROPERTYNAME:o+"-propertyName",EXTENSIONS:o+"-extensions",LANGUAGE:o+"-language",DOMAIN:o+"-domain",BOTCLICK:o+"-botclick",LIVECHATMESSAGESTAMP:o+"-livechatmessagetimestamp",LIVECHATCLIENT:o+"-livechatclient",VISITORDETAILS:o+"-visitor",ZENDESKGROUP:o+"-zendeskgroup"};try{i=JSON.parse(localStorage.getItem(s.EXTENSIONS))}catch(r){}return i||(i={}),n.state={lStore:s,opened:n.props.defaultOpen||"false"==n.props.mobile&&"open"===localStorage.getItem(s.OPENED),messages:[],directline:void 0,started:!1,chatBindings:n.state.chatBindings,inputEnabled:!1,inLiveChat:!1,livechat:void 0,loadingLivechat:!1,makePayment:!1,getRoomTypes:void 0,createChatSessionStartUp:!1,animation:{bubbleToFadeIn:!0},integrationSettings:void 0,blockChatbot:!1,extensions:Object(h.a)(Object(h.a)({},i),{},{_api:Ta.getAPI(Object(g.a)(n),n.props)}),connectionError:!1,visitorPopUp:!1,inTwilioChat:!1,inSignalRChat:!1,twiliochat:void 0,signalrchat:void 0,twilioAccessToken:void 0,twilioChatId:void 0,signalRChatId:void 0,disabledChatbot:!1,inactivePopupOne:!1,inactivePopupTwo:!1,moveTop:!1,persistentMenu:null,persistentMenuEnabled:!1,agentId:"",resize:!1,botclick:!1,inZenDesk:!1,zendesk:void 0,liveChatSettings:void 0,zendeskDepartment:"",zendeskChatNew:!0,availblity:void 0,open_ZChatfeedback_popup:!1,property_popup:!1,bot_restart:!1},n.state.store=da(n.state.chatBindings),n.state.bookingApp={open:!1,callbacks:{getStore:function(){return n.state.store}},chatBindings:n.state.chatBindings,lStore:s},n.state.opened?n.postMessage("chatbotwindowOpen"):n.postMessage("chatbotwindowClose"),window.addEventListener("message",n.windowMessage.bind(Object(g.a)(n)),!1),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.state.started||(this.setState({started:!0}),!0===this.props.openChatWindow&&(this.opened(),this.postMessage("chatbotwindowOpen")),this.startConversation(!0)),!0===this.props.messenger&&this.setState({opened:!1})}},{key:"componentDidUpdate",value:function(e,t){t.opened!==this.state.opened&&(this.state.opened?this.postMessage("chatbotwindowOpen"):this.postMessage("chatbotwindowClose"))}},{key:"windowMessage",value:function(e){var t=this;if(e.data.toString().startsWith("lang_code:")&&this.setState({lang:e.data.substring("10")}),e.data.toString().startsWith("msg_property:")&&this.selectProperty(JSON.parse(e.data.substring("13"))),console.log(e.data),this.state.opened||"chatwindowOpened"!==e.data||this.setState({opened:!0}),"bot_restart"===e.data&&this.setState({bot_restart:!0}),"string"===typeof e.data&&e.data.startsWith("update-styling:")){var a=e.data.substr(15);this.setState({integrationSettings:JSON.parse(a)})}"string"===typeof e.data&&e.data.startsWith("nudge_message:")&&setTimeout((function(){t.state.store.dispatch({type:"WEB_CHAT/SEND_MESSAGE",payload:{text:e.data.replace("nudge_message:","")}})}),4e3),"string"===typeof e.data&&e.data.startsWith("message:")&&(this.opened(),setTimeout((function(){t.state.store.dispatch({type:"WEB_CHAT/SEND_MESSAGE",payload:{text:e.data.replace("message:","")}})}),4e3))}},{key:"scrollChat",value:function(){var e,t=document.getElementsByClassName("css-y1c0xs"),a=Object(p.a)(t);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.classList.contains("css-ca0rlf")&&(n.scrollTop=n.scrollHeight)}}catch(i){a.e(i)}finally{a.f()}}},{key:"addScrollEvent",value:function(){var e=this,t=document.getElementsByClassName("webchat__basic-transcript__scrollable");t[0].addEventListener("scroll",(function(){t[0].scrollTop>100?e.showHideMoveToTop(!0):e.showHideMoveToTop(!1)})),t[0].scrollTop>100?this.showHideMoveToTop(!0):this.showHideMoveToTop(!1)}},{key:"showHideMoveToTop",value:function(e){this.setState({moveTop:e})}},{key:"hideTypingTextBox",value:function(){var e=document.getElementsByClassName("main");if(e.length>0){var t,a=Object(p.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.classList.contains("main")&&(n.style.display="none")}}catch(i){a.e(i)}finally{a.f()}}}},{key:"hideTextCount",value:function(){var e=document.getElementById("span-count");null!==e&&(e.innerText="")}},{key:"showTypingTextBox",value:function(){var e=document.getElementsByClassName("main");if(e.length>0){var t,a=Object(p.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.classList.contains("main")&&(n.style.display="flex")}}catch(i){a.e(i)}finally{a.f()}}}},{key:"setAvailblity",value:function(e){this.setState({availblity:e})}},{key:"setPropertyPopUp",value:function(e){this.setState({property_popup:e})}},{key:"setExtension",value:function(e,t){var a=Object(h.a)(Object(h.a)({},this.state.extensions),{},Object(d.a)({},e,t));this.setState({extensions:a}),localStorage.setItem(this.state.lStore.EXTENSIONS,JSON.stringify(a))}},{key:"dynamicSort",value:function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(a,n){return(a[e]<n[e]?-1:a[e]>n[e]?1:0)*t}}},{key:"registerPageLoad",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,i,o,s,r,l,d,p,h,u,m,g,b,v,y,f,S,k,E,_,w,C,I,T=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma.v4();case 2:if(a=e.sent,n={iid:this.props.iid,gid:this.props.gid,vid:void 0,sid:void 0,locale:"en-US",parent_location:this.props.parent_location,parent_referrer:this.props.parent_referrer,page_title:this.props.parent_title,ip:a,botConversationId:t},i=localStorage.getItem(this.state.lStore.IDENTITY))try{i=JSON.parse(i),n.vid=i.vid,n.sid=i.sid}catch(c){n.vid=void 0,n.sid=void 0}return e.next=8,fetch("https://chatapi.bookmebob.com/pageLoaded",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:n})});case 8:return o=e.sent,e.next=11,o.json();case 11:if(!((s=e.sent)&&s.vid&&s.sid)){e.next=96;break}"false"==this.props.previewMode&&this.setState({disabledChatbot:s.disabled}),n.sid!==s.sid&&localStorage.removeItem(this.state.lStore.BOTCLICK),s.whiteListedIpAddresses.length>0&&void 0===s.whiteListedIpAddresses.find((function(e){return e===a}))&&this.setState({blockChatbot:!0}),localStorage.setItem(this.state.lStore.IDENTITY,JSON.stringify(s)),void 0!==s.liveChatSettings&&!0===s.liveChatSettings.enabled&&"1"==s.liveChatSettings.provider&&localStorage.setItem(this.state.lStore.ZENDESKGROUP,s.liveChatSettings.zendesk.departmentId),r=localStorage.getItem(this.state.lStore.LANGUAGE),l="",d=navigator.language||navigator.userLanguage,console.log("userLang",d),void 0!=d&&""!=d&&s.botSettings.languages.length>0&&(d.indexOf("-")>0&&d.includes("en")?l="en":"zh-CN"===d?s.botSettings.languages.filter((function(e){return"zh"===e})).length>0&&(l="zh"):"zh-TW"===d?s.botSettings.languages.filter((function(e){return"zh-TW"===e})).length>0&&(l="zh-TW"):d.indexOf("-")>0?(d=d.split("-")[0],s.botSettings.languages.filter((function(e){return e===d})).length>0&&(l=d)):s.botSettings.languages.filter((function(e){return e===d})).length>0&&(l=d));try{r?this.setState({vid:s.vid,sid:s.sid,lang:r}):this.setState({vid:s.vid,sid:s.sid,lang:""===l?s.botSettings.defaultLanguage:l})}catch(c){this.setState({vid:s.vid,sid:s.sid,lang:""===l?s.botSettings.defaultLanguage:l})}if(""!==this.props.pid&&void 0!==this.props.pid||"Group"!==s.level||!(s.properties.length>1)){e.next=78;break}return this.state.bookingApp.open=!0,e.next=28,fetch(Da+"/"+this.props.gid,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 28:return p=e.sent,e.next=31,p.json();case 31:if(h=e.sent,u=[],s.properties.forEach((function(e){h.properties.forEach((function(t){e===t.id&&u.push({value:t.id,label:t.name,displayOrder:t.displayOrder,domain:void 0!=t.domains&&t.domains.length>0&&t.domains.filter((function(e){return 1===e.priority})).length>0?t.domains.filter((function(e){return 1===e.priority}))[0].type:""})}))})),!((m=u.sort(this.dynamicSort("displayOrder"))).length>0)){e.next=75;break}if(g=localStorage.getItem(this.state.lStore.PROPERTYID),this.setState({pid:g}),!g){e.next=43;break}b=m.find((function(e){return e.value===g})),this.state.bookingApp.selectedPid=b,e.next=50;break;case 43:return e.next=45,fetch(ja+"/"+this.props.gid,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 45:return v=e.sent,e.next=48,v.json();case 48:""===e.sent.group.domain&&(this.state.bookingApp.selectedPid=m[0],this.setState({pid:m[0].value}),localStorage.setItem(this.state.lStore.PROPERTYID,m[0].value),localStorage.setItem(this.state.lStore.DOMAIN,m[0].domain));case 50:if(e.prev=50,!(y=localStorage.getItem(this.state.lStore.PROPERTYNAME))){e.next=57;break}f=m.find((function(e){return e.label===y})),localStorage.setItem(this.state.lStore.PROPERTYNAME,f.label),e.next=64;break;case 57:return e.next=59,fetch(ja+"/"+this.props.gid,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 59:return S=e.sent,e.next=62,S.json();case 62:""===e.sent.group.domain&&localStorage.setItem(this.state.lStore.PROPERTYNAME,m[0].label);case 64:e.next=75;break;case 66:return e.prev=66,e.t0=e.catch(50),e.next=70,fetch(ja+"/"+this.props.gid,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 70:return k=e.sent,e.next=73,k.json();case 73:""===e.sent.group.domain&&localStorage.setItem(this.state.lStore.PROPERTYNAME,m[0].label);case 75:this.state.bookingApp.properties=m,e.next=96;break;case 78:if(""!==this.props.pid&&void 0!==this.props.pid||1!==s.properties.length){e.next=88;break}return e.next=81,fetch(Da+"/"+this.props.gid,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 81:return E=e.sent,e.next=84,E.json();case 84:h=e.sent,s.properties.forEach((function(e){h.properties.forEach((function(t){e===t.id&&(localStorage.setItem(T.state.lStore.PROPERTYNAME,t.name),localStorage.setItem(T.state.lStore.PROPERTYID,t.id),localStorage.setItem(T.state.lStore.DOMAIN,void 0!=t.domains&&t.domains.length>0&&t.domains.filter((function(e){return 1===e.priority})).length>0?t.domains.filter((function(e){return 1===e.priority}))[0].type:""),T.setState({pid:t.id}))}))})),e.next=96;break;case 88:if(""===this.props.pid||void 0===this.props.pid){e.next=96;break}return e.next=91,fetch(Da+"/"+this.props.gid,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 91:return _=e.sent,e.next=94,_.json();case 94:(h=e.sent).properties.forEach((function(e){T.props.pid===e.id&&(localStorage.setItem(T.state.lStore.PROPERTYNAME,e.name),localStorage.setItem(T.state.lStore.PROPERTYID,e.id),localStorage.setItem(T.state.lStore.DOMAIN,void 0!=e.domains&&e.domains.length>0&&e.domains.filter((function(e){return 1===e.priority})).length>0?e.domains.filter((function(e){return 1===e.priority}))[0].type:""),T.setState({pid:e.id}))}));case 96:return s.nudges&&this.setState({nudges:s.nudges}),s.botSettings&&this.setState({botSettings:s.botSettings}),s.liveChatSettings&&this.setState({liveChatSettings:s.liveChatSettings}),s.persistentMenu&&(w=[],(""===this.props.pid||void 0===this.props.pid)&&"Group"===s.level&&s.properties.length>1?w=[{type:"postback",title:"Switch Language",payLoad:"switch_language",url:""},{type:"postback",title:"Switch Property",payLoad:"select_property",url:""},{type:"postback",title:"Restart Chat",payLoad:"restart",url:""},{type:"postback",title:"Hide Bot",payLoad:"hidebot",url:""}]:(""!==this.props.pid&&void 0!==this.props.pid||1!==s.properties.length)&&""===this.props.pid&&void 0===this.props.pid||(w=[{type:"postback",title:"Switch Language",payLoad:"switch_language",url:""},{type:"postback",title:"Restart Chat",payLoad:"restart",url:""},{type:"postback",title:"Hide Bot",payLoad:"hidebot",url:""}]),C=[],s.persistentMenu.menus.length>0&&s.persistentMenu.menuEnabled?s.persistentMenu.menus.map((function(e,t){var a=[];e.callToActions.map((function(e){a.push({type:e.type,title:e.title,payLoad:e.payLoad,url:e.url})})),w.map((function(e){a.push({type:e.type,title:e.title,payLoad:e.payLoad,url:e.url})})),C.push({locale:e.locale,callToActions:a})})):(I=[],w.map((function(e){I.push({type:e.type,title:e.title,payLoad:e.payLoad,url:e.url})})),C.push({locale:"default",callToActions:I})),this.setState({persistentMenu:C,persistentMenuEnabled:s.persistentMenu.menuEnabled})),e.abrupt("return");case 101:case"end":return e.stop()}}),e,this,[[50,66]])})));return function(t){return e.apply(this,arguments)}}()},{key:"runNudges",value:function(){var e=this;!this.state.nudges||this.state.opened||this.state.disabledChatbot||("undefined"!==typeof Storage&&this.postMessage("totalnudges:"+this.state.nudges.length),this.state.nudges.forEach((function(t){("true"===e.props.mobile?t.disabledInMobile:t.disabledInDesktop)||setTimeout((function(){t.eyeCatcher&&t.eyeCatcher.response&&t.eyeCatcher.response.messages&&(null!==t.buttons&&void 0!==t.buttons&&"false"==e.props.mobile&&t.buttons.length>0?e.postMessage("nudgebutton:"+JSON.stringify({text:t.eyeCatcher.response.messages,buttons:t.buttons,botSettings:e.state.botSettings})):e.postMessage("eyecatcher:"+JSON.stringify(t.eyeCatcher.response.messages)))}),"true"===e.props.mobile?t.delayInMillisecondsInMobile:t.delayInMilliseconds)})))}},{key:"postMessage",value:function(e){window.parent&&window.parent.postMessage(e,"*")}},{key:"refresh",value:function(){(new _t).clearTags(),localStorage.removeItem(this.state.lStore.CHAT_STATE),localStorage.removeItem(this.props.iid+"-chatfeedback"),this.setState({extensions:{_api:Ta.getAPI(this,this.props)}}),localStorage.removeItem(this.state.lStore.EXTENSIONS),this.state.chatBindings.showBookingForm(!1,!1),this.state.livechat&&(this.state.livechat.closeChat(),this.state.livechat.destroy(),this.setState({inputEnabled:!1,inLiveChat:!1,started:!1,inTwilioChat:!1,twiliochat:void 0,livechat:void 0,loadingLivechat:!1,agentName:void 0,getRoomTypes:void 0,store:da(this.state.chatBindings,!0)})),localStorage.removeItem(this.state.lStore.CREDENTIALS),localStorage.removeItem(this.state.lStore.LIVECHAT_STARTED),localStorage.removeItem(this.state.lStore.PROPERTYID),localStorage.removeItem(this.state.lStore.PROPERTYNAME),localStorage.removeItem(this.state.lStore.LANGUAGE),localStorage.removeItem(this.state.lStore.LIVECHATCLIENT),localStorage.removeItem(this.state.lStore.BOTCLICK),localStorage.removeItem(this.state.lStore.LIVECHATMESSAGESTAMP),this.setState({getRoomTypes:void 0}),void 0!==this.state.zendesk&&this.state.zendesk.endChat(),this.setState({getRoomTypes:void 0,botSettings:void 0,inactivePopupOne:!1,inactivePopupTwo:!1,moveTop:!1,inTwilioChat:!1,twiliochat:void 0,twilioChatId:void 0,agentId:"",inZenDesk:!1,zendesk:void 0}),this.closed(),window.location.reload()}},{key:"end",value:function(){var e=this;(new _t).clearTags(),localStorage.removeItem(this.state.lStore.CHAT_STATE),localStorage.removeItem(this.props.iid+"-chatfeedback"),this.setState({extensions:{_api:Ta.getAPI(this,this.props)}}),localStorage.removeItem(this.state.lStore.EXTENSIONS),this.state.chatBindings.showBookingForm(!1,!1),this.state.livechat&&(this.state.livechat.closeChat(),this.state.livechat.destroy(),this.setState({inputEnabled:!1,inLiveChat:!1,started:!1,livechat:void 0,loadingLivechat:!1,agentName:void 0,getRoomTypes:void 0,moveTop:!1,store:da(this.state.chatBindings,!0)})),this.state.twiliochat&&(this.state.twiliochat.sendMessage("The user has left the conversation."),fetch("https://chatapi.bookmebob.com/endTwilioConversation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({twilioConversationId:this.state.twilioChatId})}).then((function(e){})),this.setState({inputEnabled:!1,inTwilioChat:!1,twiliochat:void 0,twilioChatId:void 0,started:!1,livechat:void 0,loadingLivechat:!1,agentName:void 0,getRoomTypes:void 0,store:da(this.state.chatBindings,!0)})),this.state.signalrchat&&(this.state.signalrchat.invoke("SendConversationMessageToAgent",{groupname:this.state.directline.conversationId,message:"The user has left the conversation."}),this.setState({inputEnabled:!1,inSignalRChat:!1,signalrchat:void 0,signalRChatId:void 0,started:!1,livechat:void 0,loadingLivechat:!1,agentName:void 0,getRoomTypes:void 0,store:da(this.state.chatBindings,!0)})),localStorage.removeItem(this.state.lStore.CREDENTIALS),localStorage.removeItem(this.state.lStore.LIVECHAT_STARTED),localStorage.removeItem(this.state.lStore.PROPERTYID),localStorage.removeItem(this.state.lStore.PROPERTYNAME),localStorage.removeItem(this.state.lStore.LANGUAGE),localStorage.removeItem(this.state.lStore.BOTCLICK),localStorage.removeItem(this.state.lStore.LIVECHATCLIENT),localStorage.removeItem(this.state.lStore.LIVECHATMESSAGESTAMP),this.setState({directline:void 0}),this.setState({botclick:!1}),void 0!==this.state.zendesk&&this.state.zendesk.endChat(),this.setState({getRoomTypes:void 0,botSettings:void 0,inactivePopupOne:!1,inactivePopupTwo:!1,moveTop:!1,inTwilioChat:!1,twiliochat:void 0,twilioChatId:void 0,agentId:"",inZenDesk:!1,openZChat_popup:!1,open_ZChatfeedback_popup:!1,property_popup:!1}),setTimeout((function(){e.startConversation(!1).then((function(t){e.recordClick()}))}),50)}},{key:"endTwilio",value:function(){this.setState({inTwilioChat:!1,twiliochat:void 0,twilioChatId:void 0,agentId:"",inSignalRChat:!1,signalrchat:void 0,signalRChatId:void 0})}},{key:"endSignalRChat",value:function(){this.setState({inSignalRChat:!1,signalrchat:void 0,signalRChatId:void 0,agentId:""})}},{key:"setAgentId",value:function(e){this.setState({agentId:e})}},{key:"startConversation",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,i,o,s,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((a=JSON.parse(localStorage.getItem(this.state.lStore.CREDENTIALS)))&&a.token&&a.uid)){e.next=18;break}return this.setState({user_id:a.uid}),e.next=6,fetch("https://directline.botframework.com/v3/directline/tokens/refresh",{method:"POST",headers:{Authorization:"Bearer "+a.token}});case 6:return n=e.sent,e.next=9,n.json();case 9:if(i=e.sent,200!==n.status||!i||!i.token){e.next=18;break}return this.setState({directline:new y.DirectLine({token:i.token})}),localStorage.setItem(this.state.lStore.CREDENTIALS,JSON.stringify({token:i.token,uid:a.uid})),e.next=15,this.registerPageLoad(i.conversationId);case 15:return this.runNudges(),void 0!==this.state.liveChatSettings&&!0===this.state.liveChatSettings.enabled&&"1"==this.state.liveChatSettings.provider&&!0===t&&("closed"==Ia.getConnectionStatus()&&(Ia.init({account_key:this.state.liveChatSettings.zendesk.accountKey}),"yes"===localStorage.getItem(this.state.lStore.LIVECHAT_STARTED)&&this.zenDeskFunctions(Ia,this.state.liveChatSettings.zendesk.departmentId)),this.setState({zendesk:Ia,zendeskDepartment:this.state.liveChatSettings.zendesk.departmentId})),e.abrupt("return");case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(0);case 22:return!1===this.props.openChatWindow&&this.closed(),this.setState({store:da(this.state.chatBindings,!0),inputEnabled:!1,inLiveChat:!1,started:!1,livechat:void 0,loadingLivechat:!1,agentName:void 0}),localStorage.removeItem(this.state.lStore.LIVECHAT_STARTED),e.next=27,fetch("https://chatapi.bookmebob.com/getToken",{method:"POST"});case 27:return o=e.sent,e.next=30,o.json();case 30:return s=e.sent,r=s.directline.token,l=wa(),this.setState({user_id:l}),this.setState({directline:new y.DirectLine({token:r})}),localStorage.setItem(this.state.lStore.CREDENTIALS,JSON.stringify({token:r,uid:l})),e.next=38,this.registerPageLoad(s.directline.conversationId);case 38:this.runNudges(),void 0!==this.state.liveChatSettings&&!0===this.state.liveChatSettings.enabled&&"1"==this.state.liveChatSettings.provider&&!0===t&&("closed"==Ia.getConnectionStatus()&&Ia.init({account_key:this.state.liveChatSettings.zendesk.accountKey}),this.setState({zendesk:Ia,zendeskDepartment:this.state.liveChatSettings.zendesk.departmentId}));case 40:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"startSignalRchat",value:function(e,t){var a=this,n=new Aa.a,i={transport:Na.a.WebSockets|Na.a.LongPolling,logMessageContent:!0,logger:Oa.a.Error},o=(new La.a).withUrl("".concat("https://bmbcosmotest.azurewebsites.net","/api"),i).withHubProtocol(n).withAutomaticReconnect().build(),s=wa();o.start().then((function(){console.info("SignalR Connected"),console.log(o.connection),o.invoke("JoinConversation",{recipient:s,groupname:e}).catch((function(e){console.error(e.toString())})),o.on("SignalRChatAgentMessage",(function(e){console.log("message to agent",e)})),o.on("UserTyping",(function(e){console.log("user typing",e)})),o.on("AgentTyping",(function(e){console.log("agent typing",e),a.state.store.dispatch({type:"SIGNALR/TYPING"})})),o.on("SignalRChatUserMessage",(function(e){console.log("message to user",e),a.state.store.dispatch({type:"SIGNALR/NEW_MESSAGE",payload:e})})),a.setState({inSignalRChat:!0}),a.setState({signalrchat:o})}))}},{key:"startTwiliochat",value:function(e,t){var a=this;if(void 0===this.state.twilioChatId){this.setState({inTwilioChat:!0,twilioChatId:t});var n={identity:"".concat(e,"_user")};fetch("https://chatapi.bookmebob.com/twilio-token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.json().then((function(e){a.setState({twilioAccessToken:e.accessToken}),xa.Client.create(e.accessToken).then((function(e){e.on("conversationJoined",(function(e){a.setState({twiliochat:e}),e.on("messageAdded",(function(e){a.state.store.dispatch({type:"TWILIO/NEW_MESSAGE",payload:e.state})})),e.on("typingStarted",(function(e){a.state.store.dispatch({type:"TWILIO/TYPING"})}))}))}))}))}))}}},{key:"setInTwiliochat",value:function(e){this.setState({inTwilioChat:e})}},{key:"setInSignalRchat",value:function(e){this.setState({inSignalRChat:e})}},{key:"isInTwiliochat",value:function(){return this.state.inTwilioChat}},{key:"isInSignalRchat",value:function(){return this.state.inSignalRChat}},{key:"sendTwilioTypingIndicator",value:function(){this.state.twiliochat.typing()}},{key:"sendSignalRTypingIndicator",value:function(){this.state.signalrchat.invoke("UserTyping",{groupname:this.state.directline.conversationId,message:"typing"})}},{key:"sendZendeskTypingIndicator",value:function(){this.state.zendesk.sendTyping(!0)}},{key:"zenDeskFunctions",value:function(e,t){this.setState({inZenDesk:!0});var a=this;if(localStorage.setItem(a.state.lStore.LIVECHAT_STARTED,"yes"),null!==localStorage.getItem(a.state.lStore.VISITORDETAILS)&&void 0!==localStorage.getItem(a.state.lStore.VISITORDETAILS)){var n=JSON.parse(localStorage.getItem(a.state.lStore.VISITORDETAILS)),i={display_name:""===n.name?n.firstName+" "+n.lastName:n.name};""!==n.email&&(i.email=n.email),""!==n.phoneNumber&&(i.phone=n.phoneNumber),e.setVisitorInfo(i,(function(e){}))}var o={title:this.props.parent_title,url:this.props.parent_location};Ia.sendVisitorPath(o,(function(e){}));var s="";if(null!==localStorage.getItem(a.state.lStore.ZENDESKGROUP)&&void 0!==localStorage.getItem(a.state.lStore.ZENDESKGROUP)&&""!==localStorage.getItem(a.state.lStore.ZENDESKGROUP)){s=localStorage.getItem(a.state.lStore.ZENDESKGROUP);setTimeout((function(){e.setVisitorDefaultDepartment(parseInt(s),(function(t){"yes"===localStorage.getItem(a.state.lStore.LIVECHAT_STARTED)?e.sendChatMsg("bot:Resuming chat as page is refreshed"):(la(a.state.store.getState(),e),localStorage.setItem(a.state.lStore.LIVECHAT_STARTED,"yes"))}))}),2e3)}else la(a.state.store.getState(),e),localStorage.setItem(a.state.lStore.LIVECHAT_STARTED,"yes");!0===a.state.zendeskChatNew&&(a.setState({zendeskChatNew:!1}),e.on("chat",(function(t){if("chat.msg"===t.type)e.getServingAgentsInfo().length>0&&!1===a.state.inZenDesk&&(a.setState({inZenDesk:!0}),localStorage.setItem(a.state.lStore.LIVECHAT_STARTED,"yes")),"visitor"!==t.nick&&(null===localStorage.getItem(a.state.lStore.LIVECHATMESSAGESTAMP)||null!==localStorage.getItem(a.state.lStore.LIVECHATMESSAGESTAMP)&&parseInt(t.timestamp)>=parseInt(localStorage.getItem(a.state.lStore.LIVECHATMESSAGESTAMP)))&&(a.state.store.dispatch({type:"ZENDESK/NEW_MESSAGE",payload:t.msg}),localStorage.setItem(a.state.lStore.LIVECHATMESSAGESTAMP,t.timestamp));else if("typing"===t.type&&!0===a.state.inZenDesk)a.state.store.dispatch({type:"LIVECHAT/TYPING"});else if("chat.memberjoin"===t.type&&!0===a.state.inZenDesk)"visitor"!==t.nick&&(null===localStorage.getItem(a.state.lStore.LIVECHATMESSAGESTAMP)||null!==localStorage.getItem(a.state.lStore.LIVECHATMESSAGESTAMP)&&parseInt(t.timestamp)>parseInt(localStorage.getItem(a.state.lStore.LIVECHATMESSAGESTAMP)))&&a.state.store.dispatch({type:"ZENDESK/NEW_MESSAGE",payload:"Agent "+t.display_name+" has joined the chat"});else if("chat.memberleave"===t.type&&!0===a.state.inZenDesk){if("visitor"!==t.nick)if(null===localStorage.getItem(a.state.lStore.LIVECHATMESSAGESTAMP)||null!==localStorage.getItem(a.state.lStore.LIVECHATMESSAGESTAMP)&&parseInt(t.timestamp)>parseInt(localStorage.getItem(a.state.lStore.LIVECHATMESSAGESTAMP)))a.state.store.dispatch({type:"ZENDESK/NEW_MESSAGE",payload:"Agent "+t.display_name+"  has left the chat"}),0===e.getServingAgentsInfo().length&&(localStorage.removeItem(a.state.lStore.LIVECHAT_STARTED),a.setState({inZenDesk:!1,open_ZChatfeedback_popup:!0}))}else"chat.request.rating"===t.type&&!0===a.state.inZenDesk&&a.setState({open_ZChatfeedback_popup:!0});"chat.queue_position"===t.type&&!0===a.state.inZenDesk&&0!==Ia.getQueuePosition()&&(1===Ia.getQueuePosition()?a.state.store.dispatch({type:"ZENDESK/NEW_MESSAGE",payload:"You are next in queue now"}):a.state.store.dispatch({type:"ZENDESK/NEW_MESSAGE",payload:"Your position in queue is "+t.queue_position}))}))),localStorage.setItem(this.state.lStore.LIVECHATCLIENT,e);var r=setInterval((function(){if(0===Ia.getQueuePosition())clearInterval(r);else{clearInterval(r),a.state.store.dispatch({type:"WEB_CHAT/SEND_EVENT",payload:{name:"agent_online_not_accepted"},value:{}});var e=setInterval((function(){0===Ia.getQueuePosition()?clearInterval(e):(clearInterval(e),a.setState({inZenDesk:!1}),a.state.store.dispatch({type:"WEB_CHAT/SEND_EVENT",payload:{name:"agent_online_busy"},value:{}}))}),6e4)}}),2e4)}},{key:"startZenDeskChat",value:function(){var e=this;"connected"===e.state.zendesk.getConnectionStatus()?e.zenDeskFunctions(e.state.zendesk,e.state.zendeskDepartment):e.state.zendesk.on("connection_update",(function(t){"connected"===t&&this.zenDeskFunctions(e.state.zendesk,e.state.zendeskDepartment)}))}},{key:"startLivechat",value:function(){var e=this;this.setState({inLiveChat:!0}),this.setState({livechat:Ca.a({license:9036740,group:72})}),this.state.livechat.on("agent_changed",(function(t){e.setState({agentName:t.name})})),this.state.livechat.setVisitorData({name:"Book me Wallis",pageUrl:this.props.parent_location,pageTitle:this.props.parent_title,customProperties:{ReferringWebsite:this.props.parent_referrer,GroupID:this.props.gid,IntegrationID:this.props.iid,VisitorID:this.state.vid,SessionID:this.state.sid,ConversationID:this.state.directline.conversationId}}),this.state.livechat.on("ready",(function(){e.state.livechat.getPredictedAgent().then((function(t){e.setState({agentName:t.name})})),"yes"!==localStorage.getItem(e.state.lStore.LIVECHAT_STARTED)&&(localStorage.setItem(e.state.lStore.LIVECHAT_STARTED,"yes"),function(e,t){var a,n=Object(p.a)(e.activities);try{for(n.s();!(a=n.n()).done;){var i=a.value,o="";if("message"===i.type){if(i.from&&i.from.role&&(o+=i.from.role+": "),i.text&&(o+=i.text),i.attachments){var s,r=Object(p.a)(i.attachments);try{for(r.s();!(s=r.n()).done;){var c=s.value;"application/vnd.microsoft.card.hero"===c.contentType&&(c.content.title&&(o+="Card Title: "+c.content.title+"\r\n"),c.content.text&&(o+=c.content.text))}}catch(l){r.e(l)}finally{r.f()}}t.sendMessage({text:o,customId:String(Math.random())})}}}catch(l){n.e(l)}finally{n.f()}}(e.state.store.getState(),e.state.livechat),e.state.livechat.sendMessage({text:"User requesting human transfer.",customId:String(Math.random())}),e.state.livechat.getPredictedAgent().then((function(t){var a=t.name?"Agent ".concat(t.name," has joined"):"An agent has joined";e.state.store.dispatch({type:"LIVECHAT/NEW_MESSAGE",payload:{text:a}})}))),e.state.livechat.on("new_message",(function(t){e.state.store.dispatch({type:"LIVECHAT/NEW_MESSAGE",payload:t})})),e.state.livechat.on("typing_indicator",(function(){e.state.store.dispatch({type:"LIVECHAT/TYPING"})})),e.state.livechat.on("chat_ended",(function(t){e.state.store.dispatch({type:"LIVECHAT/CHAT_END",payload:t})}))}))}},{key:"enableChat",value:function(){this.setState({inputEnabled:!0})}},{key:"disableChat",value:function(){this.setState({inputEnabled:!1})}},{key:"getState",value:function(){return this.state.store.getState()}},{key:"getChatState",value:function(){return this.state}},{key:"setConnectionStatus",value:function(e){e===y.ConnectionStatus.FailedToConnect||e===y.ConnectionStatus.ExpiredToken||e===y.ConnectionStatus.Ended?this.setState({connectionError:!0}):this.setState({connectionError:!1})}},{key:"setInactivePopupOne",value:function(){this.setState({inactivePopupOne:!0})}},{key:"closeInactivePopupOne",value:function(){this.setState({inactivePopupOne:!1})}},{key:"setInactivePopupTwo",value:function(){this.setState({inactivePopupOne:!1,inactivePopupTwo:!0})}},{key:"opened",value:function(){this.setState({opened:!0}),this.postMessage("chatbotwindowOpen"),localStorage.setItem(this.state.lStore.OPENED,"open"),this.recordClick()}},{key:"recordClick",value:function(){if(void 0!==this.state.sid&&!1===this.state.botclick&&"true"!==localStorage.getItem(this.state.lStore.BOTCLICK)){fetch("".concat("https://chatapi.bookmebob.com/botclick"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({groupId:this.props.gid,sessionId:this.state.sid,integrationId:this.props.iid})});localStorage.setItem(this.state.lStore.BOTCLICK,"true"),this.setState({botclick:!1})}}},{key:"closed",value:function(){var e=this;!0===this.state.resize&&this.resize_actual(),this.postMessage("chatbotwindowClose"),this.props.defaultOpen||(this.setState({opened:!1}),localStorage.removeItem(this.state.lStore.OPENED)),this.setState({botclick:!1}),setTimeout((function(){e.runNudges()}),1e3)}},{key:"hide_bot",value:function(){var e=this;!0===this.state.resize&&this.resize_actual(),this.postMessage("chatbotHide"),setTimeout((function(){e.postMessage("chatbotwindowClose")}),1e3),this.setState({opened:!1}),localStorage.removeItem(this.state.lStore.OPENED),setTimeout((function(){e.runNudges()}),93e4)}},{key:"resize_full",value:function(){this.setState({resize:!0}),this.postMessage("resizefull")}},{key:"resize_actual",value:function(){this.setState({resize:!1}),this.postMessage("resizeactual")}},{key:"setInLivechat",value:function(e){this.setState({inLiveChat:e})}},{key:"isInZendeskChat",value:function(){return this.state.inZenDesk}},{key:"isInLivechat",value:function(){return this.state.inLiveChat}},{key:"hintClosed",value:function(){this.setState({currentNudge:void 0})}},{key:"sendFeedbackZenDeskChat",value:function(e,t){"send"===e.status&&(""!==e.rate&&Ia.sendChatRating(e.rate),""!==e.comments&&Ia.sendChatComment(e.comments)),this.setState({open_ZChatfeedback_popup:!1}),t&&this.end()}},{key:"render",value:function(){var e=this,t=this.state,a=t.opened,o=t.directline,s=t.store,r=t.inputEnabled,c=t.user_id,l=t.loadingLivechat,d=t.agentName,p=t.currentNudge,u=t.makePayment,m=t.animation,g=t.botSettings,b=t.bookingApp,v=t.getRoomTypes,y=t.pid,f=t.blockChatbot,S=t.disabledChatbot,E=t.persistentMenu,_=t.persistentMenuEnabled,w=this.props.mobile;return i.a.createElement("div",null,g&&!f&&E?i.a.createElement(n.Fragment,null,i.a.createElement(Kt,{opened:a,pid:y,onClosed:this.closed.bind(this),directline:o,store:s,inputEnabled:r,user_id:c,endClicked:this.end.bind(this),closeClicked:this.closeInactivePopupOne.bind(this),loadingLivechat:l,agentName:d,bookingApp:b,card_app:u,cookies_state_store:this.state.lStore.COOKIES,language_state_store:this.state.lStore.LANGUAGE,property_state_store:this.state.lStore.PROPERTYID,visitor_state_store:this.state.lStore.VISITORDETAILS,mobile:w,setBubbleToShrinkIn:function(){e.setState({animation:Object(h.a)(Object(h.a)({},e.state.animation),{},{bubbleToFadeIn:!1})})},botSettings:g,room_app:v,close_pop:this.close_pop,isCheckedAvailability:this.state.isCheckedAvailability,hideRoomDetail:this.state.hideRoomDetail,customStyle:this.props.customStyle,refreshClicked:this.refresh.bind(this),extensions:this.state.extensions,connectionError:this.state.connectionError,inactivePopupOne:this.state.inactivePopupOne,inactivePopupTwo:this.state.inactivePopupTwo,sid:this.state.sid,vid:this.state.vid,gid:this.props.gid,iid:this.props.iid,api:Ta.getAPI(this,this.props),hideTypingTextBox:this.hideTypingTextBox,lang:this.state.lang,moveTop:this.state.moveTop,persistentMenu:E,persistentMenuEnabled:_,inTwiliochat:this.state.inTwilioChat,resize:this.state.resize,resize_full:this.resize_full.bind(this),resize_actual:this.resize_actual.bind(this),hideBot:this.hide_bot.bind(this),availblity:this.state.availblity,setAvailblity:this.setAvailblity.bind(this),inZenDesk:this.state.inZenDesk,sendFeedbackZenDeskChat:this.sendFeedbackZenDeskChat.bind(this),openZChat_popup:this.state.open_ZChatfeedback_popup,property_popup:this.state.property_popup,setPropertyPopUp:this.setPropertyPopUp.bind(this),messenger:this.props.messenger,bot_restartClick:function(){e.setState({bot_restart:!1})},bot_restart:this.state.bot_restart}),!a&&!f&&!1===this.props.serviceview&&void 0!==g.bubbleSettings&&null!==g.bubbleSettings&&void 0!==g.bubbleSettings.bubbleType&&null!==g.bubbleSettings.bubbleType&&("Bubble"===g.bubbleSettings.bubbleType?i.a.createElement(k,{onOpened:this.opened.bind(this),hintClosed:this.hintClosed.bind(this),currentNudge:p,fadeIn:m.bubbleToFadeIn,botSettings:g,position:this.props.position,mobile:w,disabledChatbot:S}):i.a.createElement(Xt,{onOpened:this.opened.bind(this),hintClosed:this.hintClosed.bind(this),currentNudge:p,fadeIn:m.bubbleToFadeIn,botSettings:g,position:this.props.position,mobile:w,disabledChatbot:S}))):"",f?i.a.createElement("p",{style:{color:"white"}},"Access restricted: You need to be connected to the hotel's WiFi network to start chatting with the digital assistant. Please connect your device to the hotel's WiFi and try again."):null)}}]),a}(n.Component);a(2423);var Ha=function(){if(window.location.href.split("?")[1]){var e=window.location.href.split("?")[1].split("&"),t={};for(var a in e)t[e[a].split("=")[0]]=decodeURIComponent(e[a].split("=")[1]);return t}console.log("No data passed in to Chat element :(.")}();Ha&&(va=Ha.referrer,pa=Ha.location,ha=Ha.title,ua=Ha.gid,ga=Ha.pid,ma=Ha.iid,ba=Ha.mobile,ya=!!Ha.open,ka=!!Ha.preview&&Ha.preview,fa="left"===Ha.position?"chat_area_left":"chat_area",Sa=Ha.custom?"custom":"",Ea="true"===Ha.serviceview,_a="true"===Ha.messenger),ua&&ma||(ua="73574010-2f33-4b41-8b8a-09d18b025a56",ba=!0,ma="2ddcb06d-8a79-46dc-ab38-367080ca3f78",ya=!1,fa="chat_area",Sa="",Ea=!1,_a=!1),window.addEventListener("click",(function(){window.postMessage("chatbotwindowOpen")})),s.a.render(i.a.createElement(Ba,{parent_location:pa,parent_title:ha,parent_referrer:va,gid:ua,iid:ma,pid:ga,mobile:ba,defaultOpen:ya,position:fa,customStyle:Sa,previewMode:ka,serviceview:Ea,messenger:_a}),document.getElementById("root"))},484:function(e,t,a){},550:function(e,t){},551:function(e,t){},909:function(e,t,a){},910:function(e,t,a){}},[[1063,1,2]]]);
//# sourceMappingURL=main.6854cc50.chunk.js.map